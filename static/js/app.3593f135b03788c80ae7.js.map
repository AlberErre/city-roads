{"version":3,"sources":["webpack:///./src/lib/protobufExport.js","webpack:///./src/proto/place.js","webpack:///./src/components/LoadingIcon.vue?d151","webpack:///./src/components/LoadingIcon.vue","webpack:///./src/lib/Progress.js","webpack:///./src/lib/request.js","webpack:///./src/lib/postData.js","webpack:///./src/lib/BoundingBox.js","webpack:///./src/lib/Grid.js","webpack:///./src/lib/findBoundaryByName.js","webpack:///./src/lib/Query.js","webpack:///./src/lib/appState.js","webpack:///./src/config.js","webpack:///./src/lib/LoadOptions.js","webpack:///src/components/FindPlace.vue","webpack:///./src/components/FindPlace.vue?c784","webpack:///./src/components/FindPlace.vue","webpack:///./src/components/clickOutside.js","webpack:///src/components/EditableLabel.vue","webpack:///./src/components/EditableLabel.vue?6c41","webpack:///./src/components/EditableLabel.vue","webpack:///src/components/ColorPicker.vue","webpack:///./src/components/ColorPicker.vue?2ebd","webpack:///./src/components/ColorPicker.vue","webpack:///./src/lib/bus.js","webpack:///./src/lib/GridLayer.js","webpack:///./src/lib/svgExport.js","webpack:///./src/lib/saveFile.js","webpack:///./src/lib/createScene.js","webpack:///./src/lib/getZazzleLink.js","webpack:///./src/createOverlayManager.js","webpack:///src/App.vue","webpack:///./src/App.vue?5a4c","webpack:///./src/App.vue","webpack:///./src/NoWebGL.vue?d991","webpack:///./src/NoWebGL.vue","webpack:///./src/main.js","webpack:///../node_modules/ngraph.events/index.js","webpack:///../node_modules/gl-matrix/dist/cjs/common.js","webpack:///../node_modules/gl-matrix/dist/cjs/mat2.js","webpack:///../node_modules/gl-matrix/dist/cjs/mat2d.js","webpack:///../node_modules/gl-matrix/dist/cjs/mat3.js","webpack:///../node_modules/gl-matrix/dist/cjs/mat4.js","webpack:///../node_modules/gl-matrix/dist/cjs/vec3.js","webpack:///../node_modules/gl-matrix/dist/cjs/vec4.js","webpack:///../node_modules/gl-matrix/dist/cjs/quat.js","webpack:///../node_modules/gl-matrix/dist/cjs/quat2.js","webpack:///../node_modules/gl-matrix/dist/cjs/vec2.js","webpack:///../node_modules/gl-matrix/dist/cjs/index.js","webpack:///../src/Element.ts","webpack:///../src/clap.ts","webpack:///../src/ViewMatrix.ts","webpack:///../node_modules/bezier-easing/src/index.js","webpack:///../node_modules/amator/index.js","webpack:///../src/animation/createKineticAnimation.ts","webpack:///../src/input/TouchState.ts","webpack:///../src/input/createTouchController.ts","webpack:///../src/input/createKeyboardController.ts","webpack:///../src/input/createMouseController.ts","webpack:///../src/createSpaceMapCamera.ts","webpack:///../src/createScene.ts","webpack:///../src/glUtils.ts","webpack:///../src/lines/createMultiKeyCache.ts","webpack:///../src/points/makePointsProgram.ts","webpack:///../src/Color.ts","webpack:///../src/points/PointAccessor.ts","webpack:///../src/points/PointCollection.ts","webpack:///../src/lines/makeWireProgram.ts","webpack:///../src/lines/makeThickWireProgram.ts","webpack:///../src/lines/WireAccessor.ts","webpack:///../src/colorUtils.ts","webpack:///../src/lines/WireCollection.ts","webpack:///../src/lines/makeLineStripProgram.ts","webpack:///../src/lines/LineStripCollection.ts","webpack:///../src/isWebGLEnabled.ts","webpack:///../node_modules/ngraph.graph/index.js","webpack:///../src/save/svg.ts","webpack:///../src/input/createGuide.ts","webpack:///../src/gl/ActiveUniform.ts","webpack:///../src/gl/ActiveTexture.ts","webpack:///../src/gl/BaseAttribute.ts","webpack:///../src/gl/FloatAttribute.ts","webpack:///../src/gl/NumberAttribute.ts","webpack:///../src/gl/constants.ts","webpack:///../src/gl/FinalCode.ts","webpack:///../src/gl/defineProgram.ts","webpack:///../src/gl/getProgramInfo.ts","webpack:///../src/gl/ColorAttribute.ts","webpack:///../src/gl/InstancedAttribute.ts","webpack:///../src/GLCollection/GLCollection.ts","webpack:///./src/lib/canvas2BlobPolyfill.js"],"names":["Pbf","require","place","module","exports","grid","nodes","ways","date","Date","toISOString","forEachElement","x","type","push","pbf","write","version","id","name","finish","read","end","readFields","_readField","tag","obj","readVarint","readString","node","pos","way","writeVarintField","writeStringField","i","length","writeMessage","lat","lon","readFloat","writeFloatField","readPackedVarint","writePackedVarint","LoadingIcon","render","_h","this","$createElement","_c","_self","staticClass","attrs","xmlns","viewBox","width","height","fill","opacity","d","_v","attributeName","from","to","dur","repeatCount","staticRenderFns","components_LoadingIcon","__webpack_require__","normalizeComponent","Progress","notify","classCallCheck_default","eventify","callback","Function","prototype","isCancelled","fire","progress","on","off","request","url","options","req","onCancel","cancelDownload","promise_default","a","resolve","reject","XMLHttpRequest","addEventListener","e","lengthComputable","loaded","total","percent","offCancel","status","response","responseType","JSON","parse","setTimeout","statusError","message","cancelled","open","method","headers","keys_default","forEach","key","setRequestHeader","send","body","abort","backends","BBox","minX","Infinity","minY","maxX","maxY","offset","xIn","yIn","undefined","Error","y","rect","addPoint","left","top","right","bottom","otherBBox","Grid","elements","bounds","BoundingBox","map_default","wayPointCount","isArea","projector","bboxString","newProjector","project","getProjector","leftTop","rightBottom","Math","abs","enter","exit","positions","element","nodeIds","get","last","index","next","q","geoMercator","center","cx","cy","scale","_ref","xyPoint","elementsOfOSMResponse","fromOSMResponse","setName","setId","gridInstance","set","cachedResults","findBoundaryByName","inputName","results","encodeURIComponent","then","extractBoundaries","map","row","areaId","bbox","osm_type","osm_id","boundingbox","parse_float_default","osmId","osmType","display_name","Query","boundedQuery","queryBounds","queryString","promise","loadOptions","getQueryTemplate","run","_this","parts","extendedQuery","geoTest","match","substr","geoType","collectAllNominatimQueries","lastProcessed","processNext","part","pickFirstBoundary","first","assign_default","ms","args","join","runAllNominmantimQueries","resolvedQueryString","data","postData","Content-type","serverIndex","fetchFrom","overpassUrl","catch","handleError","err","osmResponse","All","Building","Road","RoadBasic","RoadStrict","boundaries","queryState","createQueryState","useSearch","appState","isCacheEnabled","enableCache","unset","apply","arguments","unsetPlace","config","areaServer","getDefaultLineColor","tinycolor","getLabelColor","getBackgroundColor","LoadOptions","overrides","wayFilter","timeout","maxHeapByteSize","outputMethod","scene","rawOptions","result","protoLayer","layerDefinition","layers","queryLayerAll","queryLayer","getProtoLayer","layer","getGridProjector","protoQueryBounds","getQueryBounds","raw","getBounds","serializeBBox","FindPlace","components","enteredInput","hasValidArea","restoreStateFromQueryString","loading","lastCancel","suggestionsLoaded","boxInTheMiddle","stillLoading","error","hideInput","noRoads","clicked","showWarning","mainActionText","suggestions","watch","mounted","$refs","input","focus","beforeDestroy","clearInterval","notifyStillLoading","methods","onSubmit","cancelRequest","restoredState","pickSuggestion","getBugReportURL","title","toString","updateProgress","restartLoadingMonitor","round","formatNumber","retry","lastSuggestion","suggestion","_this2","checkCache","useOSM","_this3","setInterval","_this4","generateNewProgressToken","arrayBuffer","Uint8Array","byteArray","lib_Grid","fromPBF","$emit","_this5","lib_Query","runFromOptions","lib_LoadOptions","hasRoads","setIsArea","setBBox","console","finally","progressToken","cancel","lib_Progress","is_finite_default","replace","parse_int_default","getCurrentAreaId","nodeAndBox","bboxStr","split","filter","parseBBox","getCurrentNodeAndBox","components_FindPlace","_vm","class","centered","_e","submit","$event","preventDefault","directives","rawName","value","expression","ref","placeholder","domProps","target","composing","href","click","_s","_m","_l","src_components_FindPlace","FindPlace_normalizeComponent","ssrContext","nodeList","ctx","startClick","seed","createDocumentHandler","el","binding","vnode","mouseup","mousedown","context","contains","popperElm","methodName","bindingFn","document","documentHandler","clickOutside","bind","update","unbind","len","splice","EditableLabel","props","ClickOutside","$el","receiveFocus","style","pointerEvents","looseFocus","blur","components_EditableLabel","printable","src_components_EditableLabel","EditableLabel_normalizeComponent","ColorPicker","sketch-picker","vue_color_min","Object","showPicker","colors","hex","colorValue","panelLeft","panelTop","computed","pickerType","isTransparent","btnStyle","background","backgroundImage","backgroundPosition","backgroundSize","_colorValue","r","g","b","val","oldVal","updateColorObject","newVal","triggerRect","triggerButton","getBoundingClientRect","desiredLeft","desiredTop","window","innerHeight","max","innerWidth","hide","changeColor","rgba","color","colorObj","tinycolor_default","toHexString","hsl","toHsl","hsv","toHsv","toRgb","getAlpha","h","s","l","v","components_ColorPicker","model","$$v","src_components_ColorPicker","ColorPicker_normalizeComponent","wgl","counter","GridLayer","_color","lines","dx","dy","hidden","_lineWidth","unsafeColor","toRatioColor","renderFrame","newValue","setLineWidth","bindToScene","_grid$getProjectedRec","getProjectedRect","initialSceneSize","warn","_transferTransform","WireCollection","allowColors","is3D","forEachWay","add","removeChild","buildLinesCollection","appendChild","log","translate","updateWorldTransform","c","svgExport","renderer","getRenderer","svgExportSettings","close","dpr","getPixelRatio","SVGSVGElement","svg","setAttribute","content","XMLSerializer","serializeToString","removeAttribute","label","text","insecurelyEscaped","leftOffset","paddingRight","bottomOffset","paddingBottom","fontSize","fontFamily","minLength","beforeWrite","path","pathLength","hypot_default","toSVG","getPrintableCanvas","cityCanvas","getCanvas","createElement","getContext","drawImage","all","collectPrintable","devicePixelRatio","image","Image","onload","src","btoa","save","font","fillStyle","textAlign","fillText","restore","drawTextLabel","querySelector","getFileName","extension","str","from_default","querySelectorAll","computedStyle","getComputedStyle","innerText","revokeLater","URL","revokeObjectURL","createScene","canvas","lastLineColor","t","bus","sceneAPI","setClearColor","camera","getCamera","setMoveSpeed","setRotationSpeed","PI","gl","getGL","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","slowDownZoom","backgroundColor","onKeyDown","onKeyUp","clear","destroy","getWGL","dispose","removeEventListener","lineColor","firstLayer","rawColor","load","queryFilter","setProjector","setGrid","saveToPNG","printableCanvas","fileName","toBlob","blob","createObjectURL","download","saveToSVG","extends_default","Blob","gridLayer","indexOf","getViewBox","setViewBox","shiftKey","setSpeed","imageUrl","productKinds","mug","generateZazzleLink","imageContent","toDataURL","form","FormData","append","success","kind","productCode","getZazzleLink","link","createOverlayManager","overlay","downEvent","clickedElement","time","now","handleMouseDown","handleMouseUp","handleTouchStart","passive","capture","handleTouchEnd","track","domElement","classList","removeOverlay","activeOverlays","deselect","onPointerDown","clientX","clientY","handleMouseMove","onPointerMove","onPointerUp","touches","touch","changedTouches","stopPropagation","handleTouchMove","foundElement","autoTrack","getRectangle","intersects","findTrackedElementUnderCursor","secondTimeClicking","bBox","isSingleClick","select","remove","App_ColorLayer","ColorLayer","App","placeFound","zazzleLink","generatingPreview","showSettings","settingsOpen","labelColor","labelColorRGBA","toRGBA","created","handleSceneTransform","syncBackground","syncLineColor","overlayManager","toggleSettings","onGridLoaded","visibility","updateLayers","lib_GridLayer","startOver","toRgbString","toPNGFile","toSVGFile","newLayers","lastLayer","getRoot","children","layerColor","fromRatio","newColor","setBackgroundColor","newBackground","updateBackground","zazzleMugPrint","recordOpenClick","ga","eventCategory","eventAction","eventLabel","selectortype_template_index_0_src_App","change","$set","overlay-manager","src_App","App_normalizeComponent","NoWebGL","alt","src_NoWebGL","NoWebGL_normalizeComponent","exDescription","filename","lineno","exFatal","Vue","productionTip","requireModule","d3Require","isWebGLEnabled","template","defineProperty","__webpack_exports__","ColorAttribute","Element","FloatAttribute","GLCollection","InstancedAttribute","LineStripCollection","NumberAttribute","PointCollection","createGuide","createSpaceMapCamera","defineProgram","glUtils","ngraph_events","subject","reservedWords","hasOwnProperty","validateSubject","eventsStorage","registeredEvents","create","eventName","handlers","wantToRemoveAll","deleteAllCallbacksForEvent","callbacks","fireArguments","Array","call","callbackInfo","createEventsStorage","setMatrixArrayType","ARRAY_TYPE","toRadian","degree","equals","EPSILON","RANDOM","Float32Array","random","hypot","sqrt","_typeof","Symbol","iterator","constructor","out","glMatrix","clone","copy","identity","fromValues","m00","m01","m10","m11","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","rotate","rad","sin","cos","v0","v1","fromRotation","fromScaling","frob","LDU","L","D","U","subtract","exactEquals","b0","b1","b2","b3","multiplyScalar","multiplyScalarAndAdd","sub","mul","__esModule","default","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","require$$0","WeakMap","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","fromTranslation","b4","b5","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","fromMat2d","fromQuat","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","a6","a7","a8","b6","b7","b8","b12","b20","b22","m03","m13","m23","m30","m31","m32","m33","axis","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","xy","xz","yz","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","near","far","rl","tb","nf","perspective","fovy","aspect","f","tan","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","m","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","p","angle","mag1","mag2","mag","cosine","acos","zero","sqrLen","sqrDist","dist","div","vec","stride","count","fn","arg","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","ln","pow","slerp","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fromEuler","halfToRad","cz","setAxes","sqlerp","rotationTo","mat3","require$$1","vec3","require$$2","vec4","require$$3","et","atan2","omega","cosom","sinom","scale0","scale1","fRoot","fTrace","j","k","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","view","dq","w1","fromRotationTranslationValues","outer","quat","mat4","getDual","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","mt","sqlen","a_dot_b","setReal","getReal","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","transformMat2","transformMat2d","p0","p1","sinC","cosC","vec2","quat2","mat2d","mat2","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","worldModel","modelViewProjection","worldTransformNeedsUpdate","modelViewProjectionNeedsUpdate","parent","child","sendToBack","unshift","bindScene","traverse","enterCallback","exitCallback","let","childIdx","force","wasDirty","scheduleMVPUpdate","updateModelViewProjection","draw","drawContext","matrix","const","maxSingleTouchTime","singleTapDistanceSquared","spareVec3","xAxis","yAxis","zAxis","ViewMatrix","viewMatrix","cameraWorld","position","rotation","deconstructPositionRotation","translateOnAxis","translateX","translateY","translateZ","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","LinearEasing","mX1","mY1","mX2","mY2","sampleValues","getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","animations","ease","BezierEasing","easeIn","easeOut","easeInOut","linear","amator","source","start","diff","easing","step","noop","done","scheduler","canRaf","requestAnimationFrame","cancelAnimationFrame","cb","clearTimeout","getScheduler","keys","previousAnimationId","durationInMs","duration","durationInFrames","frame","loop","setValues","makeAggregateRaf_1","makeAggregateRaf","sharedScheduler","frontBuffer","Set","backBuffer","frameToken","clearAll","createKineticAnimation","getCurrentPoint","moveCallback","settings","lastPoint","timestamp","trackValueHandle","vx","vy","vz","animationHandle","EPS","minVelocity","amplitude","getCancelAnimationFrame","getRequestAnimationFrame","timeConstant","newAmplitude","impulse","elapsed","currentPoint","dz","dt","kineticMove","moving","fade","handler","TouchState","lastX","lastY","identifier","createdAt","move","MultiTouchState","allowRotation","state","canRotate","canScale","canIncline","second","stateChanged","createTouchController","inputTarget","lastTouch","listening","activeTouches","Map","panAnimation","rotateAnimation","multiTouchState","lastTouchEndEventTime","lastMultiTouchEventTime","stopDocumentTouchListeners","needRedraw","changedCount","reset","lastDx","lastDy","zoomChange","zoomToClientCoordinates","rotateByAngle","totalMove","rotateByAbsoluteOffset","timeSinceLastTouchEnd","shouldSkipPanning","isUnknown","panByAbsoluteOffset","redraw","delete","stop","size","newLastTouch","clampTo","threshold","clampValue","createMouseController","mouseX","mouseY","isAltMouseMove","handleWheel","handleDoubleClick","onMouseMove","onMouseUp","button","event","altKey","delta","deltaFactor","deltaMode","scaleFactor","deltaY","sign","getDrawContext","rotationSpeed","inclinationSpeed","sceneOptions","getOptions","minPhi","option","maxPhi","phi","clamp","planeNormal","minTheta","maxTheta","theta","centerPointPosition","cameraPosition","new_phi","new_theta","api","touchController","keyboardController","mouseController","ar","fCoefficient","pixelRatio","cPhi","sPhi","moveCenterBy","angleChange","thetaChange","zoomCenterByScaleFactor","shouldAnimate","viewPoint","getSceneCoordinate","ray","denom","getZoomPlaneIntersection","animate","values","frameHandle","dPhi","vPhi","dRadius","vRadius","dIncline","vIncline","getAttribute","handleKeyDown","handleKeyUp","slideCenterUpDown","processNextInput","onKey","isDown","ctrlKey","metaKey","isModifierKey","which","createKeyboardController","newCameraPosition","getSpherical","upVectorSphereRadius","upVector","fallback","wglContextOptions","enable","BLEND","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","sceneRoot","hasMouseClickListeners","hasMouseMoveListeners","inverseProjection","updateCanvasSize","sceneX","sceneY","sceneZ","mvp","coordinate","nearHeight","cameraController","getParameter","COLOR_CLEAR_VALUE","disposeClick","onResize","newPixelRatio","createCamera","realOn","startPos","touchStartTime","invokeHandler","pageX","pageY","onClap","onMouseClick","offsetWidth","offsetHeight","viewport","originalEvent","clipSpaceX","clipSpaceY","mx","immediate","originalFirst","originalSecond","dfy","dfx","dcy","dcx","scaleChange","initialAngle","Float64Array","shaderSrc","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","vertexShader","fragmentShader","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","attributes","getAttributes","uniforms","getUniforms","elementsPerVertex","attribute","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","numberOfAttributes","ACTIVE_ATTRIBUTES","activeAttribute","getActiveAttrib","getAttribLocation","numberOfUniforms","ACTIVE_UNIFORMS","activeUniform","getActiveUniform","getUniformLocation","createMultiKeyCache","entry","lastCache","vertexProgramCache","Color","PointAccessor","points","_points","point","setColor","capacity","super","itemsPerPoint","_program","ArrayBuffer","Uint32Array","pointCollection","programKey","vertexProgram","vertexShaderCode","getShadersCode","fragmentShaderCode","gl_utils","compile","VERTEX_SHADER","FRAGMENT_SHADER","locations","getLocations","gle","getExtension","instanceBuffer","instanceBufferValues","positionSize","sizeOffset","colorOffset","coloredPointStride","uncoloredPointStride","DEPTH_TEST","depthFunc","LEQUAL","useProgram","uniformMatrix4fv","uModel","projectionMatrix","uView","aPoint","DYNAMIC_DRAW","aPosition","aPointSize","aColor","UNSIGNED_BYTE","uniform4f","uColor","vertexAttribDivisorANGLE","drawArraysInstancedANGLE","TRIANGLES","disable","deleteProgram","makePointsProgram","_extendArray","ui","byteLength","extendedArray","lineProgramCache","makeWireProgram","wireCollection","lineProgram","vert","frag","lineVSShader","lineFSShader","lineBuffer","lineSize","coloredLineStride","isDirtyBuffer","drawArrays","LINES","deleteBuffer","WireAccessor","_wire","update3D","update2D","toHex","toRgba","toHexColor","hexString","hasColor","itemsPerLine","isWidthForThickWire","Number","isFinite","lineStride","positionBuffer","quadPositions","isThickWire","uniform3fv","uOrigin","uniform1f","uWidth","uniform2f","uResolution","aFrom","aFromColor","aTo","aToColor","disableVertexAttribArray","makeThickWireProgram","newLineWidth","line","getLineColor","c0","c1","mixUint32Color","forEachLine","maxOffset","drawCount","madeFullCircle","nextElementIndex","lineStripCollection","itemsPerVertex","lineVSSrc","lineFSSrc","utils","elementsCount","LINE_STRIP","makeLineStripProgram","firstOffset","WebGLRenderingContext","ngraph_graph","multigraph","uniqueLinkId","links","multiEdges","suspendEvents","createLink","fromId","toId","linkId","makeLinkId","isMultiEdge","getLink","suffix","Link","changes","recordLinkChange","recordNodeChange","enterModification","exitModification","graphPart","addNode","addLink","fromNode","getNode","toNode","addLinkToNode","removeLink","removeNode","getNodeCount","getLinkCount","getLinksCount","getNodesCount","getLinks","nodeId","forEachNode","forEachLinkedNode","oriented","forEachOrientedLink","linkedNodeId","forEachNonOrientedLink","forEachLink","beginUpdate","endUpdate","hasLink","hasNode","enterModificationReal","exitModificationReal","recordLinkChangeReal","recordNodeChangeReal","changeType","prevLinks","idx","indexOfElementInArray","fromNodeId","toNodeId","valuesIterator","nextValue","array","assign","getClearColor","printHeader","layerSettings","yes","lineCollection","getLineRenderTrait","renderLinesCollection","closeDocument","elementGraph","createGraph","roundFactor","rounder","makeRounder","isBehind","clipToPlane","clipToViewPort","stroke","strokeColor","openTag","lastNode","lastPath","graph","visited","globalOrder","stack","fromTo","pop","other","runDFS","getGlobalOrder","temp","commitLastPath","slice","q1","q2","n","d1","getDotNorm","d2","nullElement","maxAlpha","showGrid","levelUp","levelDown","getRadius","log10","alpha","drawLevel","geometry","gridColor","stepTop","stepLeft","createGrid","cursor","showCursor","prevPoint","nextPoint","createCursor","cursorColor","UniformTypeToFunctionName","float","ActiveUniform","variableType","functionName","location","getInitBlockForDraw","getDraw","ActiveTexture","variableName","ready","isTexture","getTextureInitCanvasBlock","BaseAttribute","debug","bufferViewType","bytePerElement","getInitBlockForBuffer","includeDeclaration","ensureNameIsSet","getAddBlock","getGetBlock","getDivisor","divisor","lineJoin","code","GLTypeToBufferType","FinalCode","init","implementation","bufferInit","structure","programInfo","programDefinition","instancedAttributes","parsedProgram","vertex","fragment","uniform","attributeMatch","appendVariables","uniformMatch","variableDefinition","collection","find","parseProgram","typeDef","instancedAttribute","instanced","setTypeDefinition","textureCount","bytePerVertex","itemPerVertex","attributeLayout","order","item","sort","getProgramInfo","glProgram","vertexSource","fragmentSource","preDrawHook","nothing","postDrawHook","finalCode","addToInit","addToAPI","sourceBuffer","addCodeThatSetsGLBuffer","addToImplementation","modifyBufferBlock","getAttributeBlock","extendBlock","addOffset","extendCollectionCode","addBlock","getImplementationCode","addCodeThatModifiesBuffer","addCodeThatCreatesGLBuffer","textures","cases","addCodeThatSetsTextures","sourceBufferCode","getCode","addBufferInit","bufferInitAttribute","getInitBlock","attributesDrawBlock","byteOffset","setAttributesDrawBlock","uniformsDrawBlock","instancedDrawBlock","setDivisorBlock","unsetDivisorBlock","drawCallBlock","texture","getDrawImplementation","addCodeThatDrawsBuffer","constructCode","drawCode","programAPI","block","finalBuffer","addToFinalBuffer","isArray","bufferValues","getBuffer","appendBuffer","uint8Collection","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","Boolean","hasArrayBufferViewSupport","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","atob","dataURI","matches","mediaType","isBase64","dataString","byteString","intArray","bb","decodeURIComponent","charCodeAt","getBlob","mozGetAsFile","quality","self","define","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default"],"mappings":"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","file":"static/js/app.3593f135b03788c80ae7.js","sourcesContent":["var Pbf = require('pbf');\nvar place = require('../proto/place.js').place;\n\nmodule.exports = function protoBufExport(grid) {\n  let nodes = [];\n  let ways = [];\n  let date = (new Date()).toISOString();\n\n  grid.forEachElement(x => {\n    let elementType = 0;\n    if (x.type === 'node') {\n      nodes.push(x)\n    } else if (x.type === 'way') {\n      ways.push(x)\n    }\n  });\n\n  let pbf = new Pbf()\n  place.write({\n    version: 1,\n    id: grid.id,\n    date, \n    name: grid.name,\n    nodes, ways\n  }, pbf);\n  return pbf.finish();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/protobufExport.js","'use strict'; // code generated by pbf v3.2.1\n\n// place ========================================\n\nvar place = exports.place = {};\n\nplace.read = function (pbf, end) {\n    return pbf.readFields(place._readField, {version: 0, name: \"\", date: \"\", id: \"\", nodes: [], ways: []}, end);\n};\nplace._readField = function (tag, obj, pbf) {\n    if (tag === 1) obj.version = pbf.readVarint();\n    else if (tag === 2) obj.name = pbf.readString();\n    else if (tag === 3) obj.date = pbf.readString();\n    else if (tag === 4) obj.id = pbf.readString();\n    else if (tag === 5) obj.nodes.push(place.node.read(pbf, pbf.readVarint() + pbf.pos));\n    else if (tag === 6) obj.ways.push(place.way.read(pbf, pbf.readVarint() + pbf.pos));\n};\nplace.write = function (obj, pbf) {\n    if (obj.version) pbf.writeVarintField(1, obj.version);\n    if (obj.name) pbf.writeStringField(2, obj.name);\n    if (obj.date) pbf.writeStringField(3, obj.date);\n    if (obj.id) pbf.writeStringField(4, obj.id);\n    if (obj.nodes) for (var i = 0; i < obj.nodes.length; i++) pbf.writeMessage(5, place.node.write, obj.nodes[i]);\n    if (obj.ways) for (i = 0; i < obj.ways.length; i++) pbf.writeMessage(6, place.way.write, obj.ways[i]);\n};\n\n// place.node ========================================\n\nplace.node = {};\n\nplace.node.read = function (pbf, end) {\n    return pbf.readFields(place.node._readField, {id: 0, lat: 0, lon: 0}, end);\n};\nplace.node._readField = function (tag, obj, pbf) {\n    if (tag === 1) obj.id = pbf.readVarint();\n    else if (tag === 2) obj.lat = pbf.readFloat();\n    else if (tag === 3) obj.lon = pbf.readFloat();\n};\nplace.node.write = function (obj, pbf) {\n    if (obj.id) pbf.writeVarintField(1, obj.id);\n    if (obj.lat) pbf.writeFloatField(2, obj.lat);\n    if (obj.lon) pbf.writeFloatField(3, obj.lon);\n};\n\n// place.way ========================================\n\nplace.way = {};\n\nplace.way.read = function (pbf, end) {\n    return pbf.readFields(place.way._readField, {nodes: []}, end);\n};\nplace.way._readField = function (tag, obj, pbf) {\n    if (tag === 1) pbf.readPackedVarint(obj.nodes);\n};\nplace.way.write = function (obj, pbf) {\n    if (obj.nodes) pbf.writePackedVarint(1, obj.nodes);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/proto/place.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"loader\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 32 32\",\"width\":\"12\",\"height\":\"12\",\"fill\":\"black\"}},[_c('path',{attrs:{\"opacity\":\".25\",\"d\":\"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z\"}},[_c('animateTransform',{attrs:{\"attributeName\":\"transform\",\"type\":\"rotate\",\"from\":\"0 16 16\",\"to\":\"360 16 16\",\"dur\":\"0.8s\",\"repeatCount\":\"indefinite\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e3ceff5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoadingIcon.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e3ceff5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoadingIcon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoadingIcon.vue\n// module id = null\n// module chunks = ","import eventify from 'ngraph.events';\n\nexport default class Progress {\n  constructor(notify) {\n    eventify(this)\n    this.callback = notify || Function.prototype;\n  }\n\n  cancel() {\n    this.isCancelled = true;\n    this.fire('cancel');\n  }\n\n  notify(progress) {\n    if (!this.isCancelled) {\n      this.callback(progress);\n    }\n  }\n\n  onCancel(callback) {\n    this.on('cancel', callback, this);\n  }\n\n  offCancel(callback) {\n    this.off('cancel', callback);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Progress.js","import Progress from './Progress';\n\nexport default function request(url, options) {\n  if (!options) options = {};\n  let req;\n  let progress = options.progress || new Progress();\n  let isCancelled = false;\n  if (progress.on) {\n    progress.onCancel(cancelDownload);\n  }\n\n  return new Promise(download);\n\n  function cancelDownload() {\n    isCancelled = true;\n    if (req) {\n      req.abort();\n    }\n  }\n\n  function download(resolve, reject) {\n    req = new XMLHttpRequest();\n\n    if (typeof progress.notify === 'function') {\n      req.addEventListener('progress', updateProgress, false);\n    }\n\n    req.addEventListener('load', transferComplete, false);\n    req.addEventListener('error', transferFailed, false);\n    req.addEventListener('abort', transferCanceled, false);\n\n    req.open(options.method || 'GET', url);\n    if (options.responseType) {\n      req.responseType = options.responseType;\n    }\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach(key => {\n        req.setRequestHeader(key, options.headers[key]);\n      });\n    }\n\n    if (options.method === 'POST') {\n      req.send(options.body);\n    } else {\n      req.send(null);\n    }\n\n    function updateProgress(e) {\n      if (e.lengthComputable) {\n        progress.notify({\n          loaded: e.loaded,\n          total: e.total,\n          percent: e.loaded / e.total,\n          lengthComputable: true\n        });\n      } else {\n        progress.notify({\n          loaded: e.loaded,\n          lengthComputable: false\n        });\n      }\n    }\n\n    function transferComplete() {\n      progress.offCancel(cancelDownload);\n\n      if (progress.isCancelled) return;\n\n      if (req.status !== 200) {\n        reject({\n          statusError: req.status,\n          message: `Unexpected status code ${req.status} when calling ${url}`\n        });\n        return;\n      }\n      var response = req.response;\n\n      if (options.responseType === 'json' && typeof response === 'string') {\n        // IE\n        response = JSON.parse(response);\n      }\n\n      setTimeout(() => resolve(response), 0);\n    }\n\n    function transferFailed() {\n      reject(`Failed to download ${url}`);\n    }\n\n    function transferCanceled() {\n      reject({\n        cancelled: true,\n        message: `Cancelled download of ${url}`\n      });\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/request.js","import request from './request';\nimport Progress from './Progress';\n\nlet backends = [\n  'https://overpass.kumi.systems/api/interpreter',\n  'https://overpass-api.de/api/interpreter',\n  'https://overpass.openstreetmap.ru/cgi/interpreter'\n]\n\nexport default function postData(data, progress) {\n  progress = progress || new Progress();\n  const postData = {\n    method: 'POST',\n    responseType: 'json',\n    progress,\n    headers: {\n      'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'\n    },\n    body: 'data=' + encodeURIComponent(data),\n  };\n\n  let serverIndex = 0;\n\n  return fetchFrom(backends[serverIndex]);\n\n  function fetchFrom(overpassUrl) {\n    return request(overpassUrl, postData, 'POST')\n      .catch(handleError);\n  }\n\n  function handleError(err) {\n    if (err.cancelled) throw err;\n\n    if (serverIndex >= backends.length - 1) {\n      // we can't do much anymore\n      throw err;\n    } \n\n    if (err.statusError) {\n      progress.notify({\n        loaded: -1\n      });\n    }\n\n    serverIndex += 1;\n    return fetchFrom(backends[serverIndex])\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/postData.js","export default class BBox {\n  constructor() {\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = -Infinity;\n    this.maxY = -Infinity;\n  }\n\n  growBy(offset) {\n    this.minX -= offset;\n    this.minY -= offset;\n    this.maxX += offset;\n    this.maxY += offset;\n  }\n\n  get left() {\n    return this.minX;\n  }\n\n  get top() {\n    return this.minY;\n  }\n\n  get right() {\n    return this.maxX;\n  }\n\n  get bottom() {\n    return this.maxY;\n  }\n\n  get width() {\n    return this.maxX - this.minX;\n  }\n\n  get height() {\n    return this.maxY - this.minY;\n  }\n\n  get cx() {\n    return (this.minX + this.maxX)/2;\n  }\n\n  get cy() {\n    return (this.minY + this.maxY)/2;\n  }\n\n  addPoint(xIn, yIn) {\n    if (xIn === undefined) throw new Error('Point is not defined');\n    let x = xIn;\n    let y = yIn;\n    if (y === undefined) {\n      // xIn is a point object\n      x = xIn.x;\n      y = xIn.y;\n    }\n\n    if (x < this.minX) this.minX = x;\n    if (x > this.maxX) this.maxX = x;\n    if (y < this.minY) this.minY = y;\n    if (y > this.maxY) this.maxY = y;\n  }\n\n  addRect(rect) {\n    if (!rect) throw new Error('rect is not defined');\n    this.addPoint(rect.left, rect.top);\n    this.addPoint(rect.right, rect.top);\n    this.addPoint(rect.left, rect.bottom);\n    this.addPoint(rect.right, rect.bottom);\n  }\n\n  merge(otherBBox) {\n    if (otherBBox.minX < this.minX) this.minX = otherBBox.minX;\n    if (otherBBox.minY < this.minY) this.minY = otherBBox.minY;\n    if (otherBBox.maxX > this.maxX) this.maxX = otherBBox.maxX;\n    if (otherBBox.maxY > this.maxY) this.maxY = otherBBox.maxY;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/BoundingBox.js","import BoundingBox from './BoundingBox';\nimport {geoMercator} from 'd3-geo';\n\n/**\n * All roads in the area\n */\nexport default class Grid {\n  constructor() {\n    this.elements = [];\n    this.bounds = new BoundingBox();\n    this.nodes = new Map();\n    this.wayPointCount = 0;\n    this.id = 0;\n    this.name = '';\n    this.isArea = true;\n    this.projector = undefined; \n  }\n\n  setName(name) {\n    this.name = name;\n  }\n\n  setId(id) {\n    this.id = id;\n  }\n\n  setIsArea(isArea) {\n    this.isArea = isArea;\n  }\n\n  setBBox(bboxString) {\n    this.bboxString = bboxString;\n  }\n\n  hasRoads() {\n    return this.wayPointCount > 0;\n  }\n\n  setProjector(newProjector) {\n    this.projector = newProjector;\n  }\n\n  static fromPBF(pbf) {\n    if (pbf.version !== 1) throw new Error('Unknown version ' + pbf.version);\n    let elementsOfOSMResponse = [];\n    pbf.nodes.forEach(node => {\n      node.type = 'node';\n      elementsOfOSMResponse.push(node)\n    });\n    pbf.ways.forEach(way => {\n      way.type = 'way';\n      elementsOfOSMResponse.push(way);\n    });\n\n    const grid = Grid.fromOSMResponse(elementsOfOSMResponse);\n    grid.setName(pbf.name);\n    grid.setId(pbf.id);\n    return grid;\n  }\n\n  static fromOSMResponse(elementsOfOSMResponse) {\n    let gridInstance = new Grid();\n\n    let nodes = gridInstance.nodes;\n    let bounds = gridInstance.bounds;\n    let wayPointCount = 0;\n\n    // TODO: async?\n    elementsOfOSMResponse.forEach(element => {\n      if (element.type === 'node') {\n        nodes.set(element.id, element);\n        bounds.addPoint(element.lon, element.lat);\n      } else if (element.type === 'way') {\n        wayPointCount += element.nodes.length;\n      }\n    });\n\n    gridInstance.elements = elementsOfOSMResponse;\n    gridInstance.wayPointCount = wayPointCount;\n    return gridInstance;\n  }\n\n  getProjectedRect() {\n    let bounds = this.bounds;\n    let project = this.getProjector();\n    let leftTop = project({lon: bounds.left, lat: bounds.bottom});\n    let rightBottom = project({lon: bounds.right, lat: bounds.top});\n    let left = leftTop.x;\n    let top = leftTop.y;\n    let bottom = rightBottom.y\n    let right = rightBottom.x;\n    return {\n      left, top, right, bottom,\n      width: right - left, height: Math.abs(bottom - top)\n    }\n  }\n\n  forEachElement(callback) {\n    this.elements.forEach(callback);\n  }\n\n  forEachWay(callback, enter, exit) {\n    let positions = this.nodes;\n    let project = this.getProjector();\n    this.elements.forEach(element => {\n      if (element.type !== 'way') return;\n\n      let nodeIds = element.nodes;\n      let node = positions.get(nodeIds[0])\n      if (!node) return;\n\n      let last = project(node);\n      if (enter) enter(element);\n\n      for (let index = 1; index < nodeIds.length; ++index) {\n        node = positions.get(nodeIds[index])\n        if (!node) continue;\n        let next = project(node);\n\n        callback(last, next);\n\n        last = next;\n      }\n      if (exit) exit(element);\n    });\n  }\n\n  getProjector() {\n    let q = [0, 0]; // reuse to avoid GC.\n\n    if (!this.projector) {\n      this.projector = geoMercator();\n      this.projector\n        .center([this.bounds.cx, this.bounds.cy])\n        .scale(6371393); // Radius of Earth\n    }\n\n    let projector = this.projector;\n\n    return project;\n\n    function project({lon, lat}) {\n      q[0] = lon; q[1] = lat;\n\n      let xyPoint = projector(q);\n\n      return {\n        x: xyPoint[0],\n        y: -xyPoint[1]\n      };\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Grid.js","import request from './request';\n\nlet cachedResults = new Map();\n\nexport default function findBoundaryByName(inputName) {\n  let results = cachedResults.get(inputName);\n  if (results) return Promise.resolve(results);\n\n  let name = encodeURIComponent(inputName);\n  return request(`https://nominatim.openstreetmap.org/search?format=json&q=${name}`, {responseType: 'json'})\n      .then(extractBoundaries)\n      .then(x => {\n        cachedResults.set(inputName, x);\n        return x;\n      });\n}\n\nfunction extractBoundaries(x) {\n  let areas = x.map(row => {\n      let areaId, bbox;\n      if (row.osm_type === 'relation') {\n        // By convention the area id can be calculated from an existing \n        // OSM way by adding 2400000000 to its OSM id, or in case of a \n        // relation by adding 3600000000 respectively. So we are adding this\n        // https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL#By_area_.28area.29\n        // Note: we may want to do another case for osm_type = 'way'. Need to check\n        // if it returns correct values.\n        areaId = row.osm_id + 36e8;\n      } else if (row.osm_type === 'way') {\n        areaId = row.osm_id + 24e8;\n      }\n      if (row.boundingbox) {\n        bbox = [\n          Number.parseFloat(row.boundingbox[0]),\n          Number.parseFloat(row.boundingbox[2]),\n          Number.parseFloat(row.boundingbox[1]),\n          Number.parseFloat(row.boundingbox[3]),\n        ];\n      }\n\n      return {\n        areaId,\n        bbox,\n        lat: row.lat,\n        lon: row.lon,\n        osmId: row.osm_id,\n        osmType: row.osm_type,\n        name: row.display_name,\n        type: row.type,\n      };\n    });\n\n  return areas;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/findBoundaryByName.js","import postData from './postData';\nimport Grid from './Grid';\nimport findBoundaryByName from './findBoundaryByName';\n\nexport default class Query {\n  /**\n   * Every possible way\n   */\n  static All = 'way';\n\n  /**\n   * Every single building\n   */\n  static Building = 'way[building]';\n  /**\n   * This gets anything marked as a highway, which has its own pros and cons.\n   * See https://github.com/anvaka/city-roads/issues/20\n   */\n  static Road = 'way[highway]';\n\n  /**\n   * Reduced set of roads\n   */\n  static RoadBasic = 'way[highway~\"^(motorway|primary|secondary|tertiary)|residential\"]';\n\n  /**\n   * More accurate representation of the roads by @RicoElectrico.\n   */\n  static RoadStrict = 'way[highway~\"^(((motorway|trunk|primary|secondary|tertiary)(_link)?)|unclassified|residential|living_street|pedestrian|service|track)$\"][area!=yes]';\n\n  static runFromOptions(loadOptions, progress) {\n    return loadOptions.getQueryTemplate().then(boundedQuery => {\n      let q = new Query(boundedQuery, progress);\n      return q.run();\n    });\n  }\n\n  constructor(boundedQuery, progress) {\n    this.queryBounds = boundedQuery.bounds;\n    this.queryString = boundedQuery.queryString;\n    this.progress = progress;\n    this.promise = null;\n  }\n\n  run() {\n    if (this.promise) {\n      return this.promise;\n    }\n    let parts = collectAllNominatimQueries(this.queryString);\n\n    this.promise = runAllNominmantimQueries(parts)\n      .then(resolvedQueryString => postData(resolvedQueryString, this.progress))\n      .then(osmResponse => {\n        let grid = Grid.fromOSMResponse(osmResponse.elements)\n        grid.queryBounds = this.queryBounds;\n        return grid;\n      });\n\n    return this.promise;\n  }\n}\n\nfunction runAllNominmantimQueries(parts) {\n  let lastProcessed = 0;\n\n  return processNext().then(concat);\n\n  function concat() {\n    return parts.map(part => {\n      if (typeof part === 'string') {\n        return part;\n      } \n      if (part.geoType === 'Area') return `area(${part.areaId})`;\n      if (part.geoType === 'Coords') return part.lat + ',' + part.lon;\n      if (part.geoType === 'Id') return `${part.osmType}(${part.osmId})`;\n      if (part.geoType === 'Bbox') return part.bbox.join(',');\n \n    }).join('');\n  }\n  \n  function processNext() {\n    if (lastProcessed >= parts.length) {\n      return Promise.resolve();\n    }\n    \n    let part = parts[lastProcessed];\n    lastProcessed += 1;\n    if (typeof part === 'string') return processNext();\n\n    return findBoundaryByName(part.name)\n      .then(pickFirstBoundary)\n      .then(first => {\n        if (!first) {\n          throw new Error('No areas found for request ' + part.name);\n        }\n        Object.assign(part, first);\n      })\n      .then(wait(1000)) // per nominatim agreement we are not allowed to issue more tan 1 request per second\n      .then(processNext);\n  }\n}\n\nfunction pickFirstBoundary(boundaries) {\n  if (boundaries.length > 0) {\n    return boundaries[0];\n  }\n}\n\nfunction collectAllNominatimQueries(extendedQuery) {\n  let geoTest = /{{geocode(.+?):(.+?)}}/;\n  let match;\n  let parts = [];\n  let lastIndex = 0;\n  while ((match = extendedQuery.match(geoTest))) {\n    parts.push(extendedQuery.substr(0, match.index));\n    parts.push({\n      geoType: match[1],\n      name: match[2]\n    });\n    extendedQuery = extendedQuery.substr(match.index + match[0].length)\n  }\n\n  parts.push(extendedQuery);\n\n  return parts;\n}\n\nfunction wait(ms) {\n  return function(args) {\n    return new Promise(resolve => {\n      setTimeout(() => resolve(args), ms);\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Query.js","import createQueryState from 'query-state';\n\nconst queryState = createQueryState({}, {useSearch: true});\n\n/**\n * This is our base state. It just persists default information about\n * custom settings and integrates with query string.\n */\nexport default {\n  isCacheEnabled() {\n    return queryState.get('cache') != 0;\n  },\n  enableCache() {\n    return queryState.unset('cache');\n  },\n  get() {\n    return queryState.get.apply(queryState, arguments);\n  },\n  set() {\n    return queryState.set.apply(queryState, arguments);\n  },\n  unset() {\n    return queryState.unset.apply(queryState, arguments);\n  },\n\n  unsetPlace() {\n    queryState.unset('areaId');\n    queryState.unset('osm_id');\n    queryState.unset('bbox');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/appState.js","import tinycolor from 'tinycolor2';\n\nexport default {\n  /**\n   * This is our caching backend\n   */\n  // This used to work, but seems like GitHub no longer allows large website hosting:\n  //areaServer: 'https://anvaka.github.io/index-large-cities/data',\n  //areaServer: 'http://localhost:8085', // This is un-commented when I develop cache locally\n  // So, using S3\n  areaServer: 'https://city-roads.s3-us-west-2.amazonaws.com/nov-02-2020',\n\n  getDefaultLineColor() {\n    return tinycolor('rgba(26, 26, 26, 0.8)');\n  },\n  getLabelColor() {\n    return tinycolor('#161616');\n  },\n\n  getBackgroundColor() {\n    return tinycolor('#F7F2E8');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import findBoundaryByName from \"./findBoundaryByName\";\n\n/**\n * For console API we allow a lot of flexibility to fetch data\n * This component normalizes input arguments and turns them into unified\n * options object\n */\n\nexport default class LoadOptions {\n  static parse(scene, wayFilter, rawOptions) {\n    let result = new LoadOptions();\n    if (typeof rawOptions === 'string') {\n      result.place = rawOptions;\n    }\n\n    if (wayFilter) {\n      result.wayFilter = wayFilter;\n    }\n\n    if (!rawOptions) return result;\n\n    Object.assign(result, rawOptions);\n\n    let protoLayer = getProtoLayer(scene, rawOptions.layer);\n    if (protoLayer) {\n      result.projector = protoLayer.getGridProjector();\n      let protoQueryBounds = protoLayer.getQueryBounds();\n      if (protoQueryBounds && !result.place && !result.areaId && !result.bbox) {\n        // use bounds of the parent layer unless we have our own override.\n        result.place = protoQueryBounds.place;\n        result.areaId = protoQueryBounds.areaId;\n        result.bbox = protoQueryBounds.bbox;\n      }\n    }\n\n    if (rawOptions.projector) {\n      // user defined projection. See https://github.com/d3/d3-geo for the projector reference:\n      result.projector = projector;\n    }\n\n    return result;\n  }\n\n  constructor(overrides) {\n    /**\n    * Query that should be translated to area id by nominatim;\n    */\n    this.place = undefined;\n\n    /**\n    * Which projector should be used to map lon/lat to layer's x/y\n    */\n    this.projector = undefined;\n    this.wayFilter = undefined;\n    this.timeout = 900;\n    this.maxHeapByteSize = 1073741824;\n    this.outputMethod = 'skel'; // body\n    Object.assign(this, overrides);\n  }\n\n  getQueryTemplate() {\n    if (this.raw) {\n      // I assume you know what you are doing.\n      return Promise.resolve({\n        queryString: this.raw\n      });\n    }\n\n    if (!this.wayFilter) {\n      throw new Error('Way filter is required');\n    }\n\n    return this.getBounds()\n      .then(bounds => {\n        let queryString;\n        if (bounds.areaId) {\n          queryString = `[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][out:json];\narea(${bounds.areaId});\n(._; )->.area;\n(${this.wayFilter}(area.area); node(w););\nout ${this.outputMethod};`;\n        } else if (bounds.bbox) {\n          let bbox = serializeBBox(bounds.bbox);\n          queryString = `[timeout:${this.timeout}][maxsize:${this.maxHeapByteSize}][bbox:${bbox}][out:json];\n(${this.wayFilter}; node(w););\nout ${this.outputMethod};`;\n        }\n\n        return {\n          bounds,\n          queryString\n        }\n      });\n  }\n\n  getBounds() {\n    if (this.place) {\n      return findBoundaryByName(this.place).then(x => x && x[0]);\n    }\n    if (this.areaId) {\n      return Promise.resolve({ areaId: this.areaId });\n    }\n    if (this.bbox) {\n      return Promise.resolve({ bbox: this.bbox });\n    }\n\n    throw new Error('Please specify bounding area for the query (place|areaId|bbox)');\n  }\n}\n\nfunction getProtoLayer(scene, layerDefinition) {\n  if (layerDefinition === undefined) return;\n\n  if (typeof layerDefinition === 'number') {\n    let layers = scene.queryLayerAll();\n    return layers[layerDefinition];\n  } else if (typeof layerDefinition === 'string') {\n    return scene.queryLayer(layerDefinition);\n  } else {\n    // We assume it is a layer instance:\n    return layerDefinition;\n  }\n}\n\nfunction serializeBBox(bbox) {\n  return bbox && bbox.join(',');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/LoadOptions.js","<template>\n<div class='find-place' :class='{centered: boxInTheMiddle }'>\n  <div v-if='boxInTheMiddle'>\n    <h3 class='site-header'>city roads</h3>\n    <p class='description'>This website renders every single road within a city</p>\n  </div>\n  <form v-on:submit.prevent=\"onSubmit\" class='search-box'>\n      <input class='query-input' v-model='enteredInput' type='text' placeholder='Enter a city name to start' ref='input'>\n      <a type='submit' class='search-submit' href='#' @click.prevent='onSubmit' v-if='enteredInput && !hideInput'>{{mainActionText}}</a>\n  </form>\n  <div v-if='showWarning' class='prompt message note shadow'>\n    Note: Large cities may require 200MB+ of data transfer and may need a powerful device to render.\n  </div>\n  <div class='results' v-if='!loading'>\n    <div v-if='suggestionsLoaded && suggestions.length' class='suggestions shadow'>\n      <div class='prompt message'>\n        <div>Select boundaries below to download all roads within</div>\n        <div class='note'>large cities may require 200MB+ of data transfer and a powerful device</div>\n      </div>\n      <ul>\n        <li v-for='(suggestion, index) in suggestions' :key=\"index\">\n          <a @click.prevent='pickSuggestion(suggestion)' class='suggestion'\n          href='#'>\n          <span>\n          {{suggestion.name}} <small>({{suggestion.type}})</small>\n          </span>\n          </a>\n        </li>\n      </ul>\n    </div>\n    <div v-if='suggestionsLoaded && !suggestions.length && !loading && !error' class='no-results message shadow'>\n      Didn't find matching cities. Try a different query?\n    </div>\n    <div v-if='noRoads' class='no-results message shadow'>\n      Didn't find any roads. Try a different query?\n    </div>\n  </div>\n  <div v-if='error' class='error message shadow'>\n    <div>Sorry, we were not able to download data from the OpenStreetMap.\n    It could be very busy at the moment processing other requests. <br/><br/> Please bookmark this website and <a href='#' @click.prevent=\"retry\">try again</a> later?</div>\n    <div class='error-links'>\n      <a href='https://twitter.com/anvaka/status/1218971717734789120' title='see what it supposed to do' target=\"_blank\">see how it should have worked</a>\n      <a :href='getBugReportURL(error)' :title='\"report error: \" + error' target='_blank'>report this bug</a>\n    </div>\n  </div>\n  <div v-if='loading' class='loading message shadow'>\n    <loading-icon></loading-icon>\n    <span>{{loading}}</span>\n    <a href=\"#\" @click.prevent='cancelRequest' class='cancel-request'>cancel</a>\n    <div class='load-padding' v-if='stillLoading > 0'>\n      Still loading...\n    </div>\n    <div class='load-padding' v-if='stillLoading > 1'>\n      Sorry it takes so long!\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport LoadingIcon from './LoadingIcon';\nimport Query from '../lib/Query';\nimport request from '../lib/request';\nimport findBoundaryByName from '../lib/findBoundaryByName';\nimport appState from '../lib/appState';\nimport Grid from '../lib/Grid';\nimport queryState from '../lib/appState';\nimport config from '../config';\nimport Progress from '../lib/Progress'\nimport LoadOptions from '../lib/LoadOptions';\n\nconst FIND_TEXT = 'Find City Bounds';\n\nexport default {\n  name: 'FindPlace',\n  components: {\n    LoadingIcon\n  },\n  data () {\n    const enteredInput = appState.get('q') || '';\n    let hasValidArea = restoreStateFromQueryString();\n\n    return {\n      enteredInput,\n      loading: null,\n      lastCancel: null,\n      suggestionsLoaded: false,\n      boxInTheMiddle: true,\n      stillLoading: 0,\n      error: null,\n      hideInput: false,\n      noRoads: false,\n      clicked: false,\n      showWarning: hasValidArea, \n      mainActionText: hasValidArea ? 'Download Area' : FIND_TEXT,\n      suggestions: []\n    }\n  },\n  watch: {\n    enteredInput() {\n      // As soon as they change it, we need not to download:\n      this.mainActionText = FIND_TEXT;\n      this.showWarning = false;\n      this.hideInput = false;\n      appState.unsetPlace();\n    }\n  },\n  mounted() {\n    this.$refs.input.focus();\n  },\n  beforeDestroy() {\n    if (this.lastCancel) this.lastCancel();\n    clearInterval(this.notifyStillLoading);\n  },\n  methods: {\n    onSubmit() {\n      queryState.set('q', this.enteredInput);\n      this.cancelRequest()\n      this.suggestions = [];\n      this.noRoads = false;\n      this.error = false;\n      this.showWarning = false;\n\n      const restoredState = restoreStateFromQueryString(this.enteredInput);\n      if (restoredState) {\n        this.pickSuggestion(restoredState);\n        return;\n      }\n\n      const query = encodeURIComponent(this.enteredInput);\n      this.loading = 'Searching cities that match your query...'\n      findBoundaryByName(this.enteredInput)\n        .then(suggestions => {\n          this.loading = null;\n          this.hideInput = suggestions && suggestions.length;\n          if (this.boxInTheMiddle) {\n            // let animation that moves input box proceed a bit\n            this.boxInTheMiddle = false; // This triggers transition\n            // wait for it and then set the suggestions:\n            setTimeout(() => {\n              this.suggestionsLoaded = true;\n              this.suggestions = suggestions;\n            }, 50)\n          } else {\n              this.suggestionsLoaded = true;\n              this.suggestions = suggestions; \n          }\n        });\n    },\n\n    getBugReportURL(error) {\n      let title = encodeURIComponent('OSM Error');\n      let body = '';\n      if (error) {\n        body = 'Hello, an error occurred on the website:\\n\\n```\\n' +\n          error.toString() + '\\n```\\n\\n Can you please help?';\n      }\n\n      return `https://github.com/anvaka/city-roads/issues/new?title=${title}&body=${encodeURIComponent(body)}`\n    },\n\n    updateProgress(status) {\n      this.stillLoading = 0;\n      clearInterval(this.notifyStillLoading);\n      if (status.loaded < 0) {\n        this.loading = 'Trying a different server'\n        this.restartLoadingMonitor();\n        return;\n      }\n      if (status.percent !== undefined) {\n        this.loading = 'Loaded ' + Math.round(100 * status.percent) + '% (' + formatNumber(status.loaded) + ' bytes)...';\n      } else {\n        this.loading = 'Loaded ' + formatNumber(status.loaded) + ' bytes...';\n      }\n    },\n\n    retry() {\n      if (this.lastSuggestion) {\n        this.pickSuggestion(this.lastSuggestion);\n      }\n    },\n\n    pickSuggestion(suggestion) {\n      this.lastSuggestion = suggestion;\n      this.error = false;\n      if (appState.isCacheEnabled() && suggestion.areaId) {\n        this.checkCache(suggestion)\n          .catch(error => {\n            if (error.cancelled) return; // no need to do anything. They've cancelled\n\n            // No Cache - fallback\n            return this.useOSM(suggestion);\n          });\n      } else {\n        // we don't have cache for nodes yet.\n        this.useOSM(suggestion);\n      }\n    },\n\n    restartLoadingMonitor() {\n      clearInterval(this.notifyStillLoading);\n      this.stillLoading = 0;\n      this.notifyStillLoading = setInterval(() => {\n        this.stillLoading++;\n      }, 10000);\n    },\n\n    checkCache(suggestion) {\n      this.loading = 'Checking cache...'\n      let areaId = suggestion.areaId;\n\n      return request(config.areaServer + '/' + areaId + '.pbf', {\n        progress: this.generateNewProgressToken(),\n        responseType: 'arraybuffer'\n      }).then(arrayBuffer => {\n        var byteArray = new Uint8Array(arrayBuffer);\n        return byteArray;\n      }).then(byteArray => {\n        var Pbf = require('pbf');\n        var place = require('../proto/place.js').place;\n        var pbf = new Pbf(byteArray);\n        var obj = place.read(pbf);\n        let grid = Grid.fromPBF(obj)\n        this.$emit('loaded', grid);\n      });\n    },\n\n    useOSM(suggestion) {\n      this.loading = 'Connecting to OpenStreetMap...'\n      \n      // it may take a while to load data. \n      this.restartLoadingMonitor();\n      Query.runFromOptions(new LoadOptions({\n        wayFilter: Query.Road,\n        areaId: suggestion.areaId,\n        bbox: suggestion.bbox\n      }), this.generateNewProgressToken())\n      .then(grid => {\n        this.loading = null;\n        if (!grid.hasRoads()) {\n          this.noRoads = true;\n        } else {\n          grid.setName(suggestion.name);\n          grid.setId(suggestion.areaId || suggestion.osm_id);\n          grid.setIsArea(suggestion.areaId); // osm nodes don't have area.\n          grid.setBBox(serializeBBox(suggestion.bbox));\n          this.$emit('loaded', grid);\n        }\n      }).catch(err => {\n        if (err.cancelled) {\n          this.loading = null;\n          return;\n        }\n        console.error(err);\n        this.error = err;\n        this.loading = null;\n        this.suggestions = [];\n      })\n      .finally(() => {\n        clearInterval(this.notifyStillLoading);\n        this.stillLoading = 0;\n      });\n    },\n\n    cancelRequest() {\n      if (this.progressToken) {\n        this.progressToken.cancel();\n        this.progressToken = null;\n        this.loading = false;\n      }\n    },\n\n    generateNewProgressToken() {\n      if (this.progressToken) {\n        this.progressToken.cancel();\n        this.progressToken = null;\n      }\n\n      this.progressToken = new Progress(this.updateProgress);\n      return this.progressToken;\n    }\n  }\n}\n\nfunction serializeBBox(bbox) {\n  return bbox && bbox.join(',');\n}\n\nfunction formatNumber(x) {\n  if (!Number.isFinite(x)) return 'N/A';\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction restoreStateFromQueryString(name) {\n  let areaId = getCurrentAreaId();\n  if (areaId) {\n    return {name, areaId};\n  }\n\n  let nodeAndBox = getCurrentNodeAndBox();\n  if (nodeAndBox) {\n    return {\n      name,\n      osm_id: nodeAndBox.osm_id,\n      bbox: nodeAndBox.bbox\n    };\n  }\n}\n\nfunction getCurrentAreaId() {\n  let areaId = appState.get('areaId');\n  if (!Number.isFinite(Number.parseInt(areaId, 10))) {\n    areaId = null;\n  }\n  return areaId;\n}\n\nfunction getCurrentNodeAndBox() {\n  let osm_id = appState.get('osm_id');\n  if (!Number.isFinite(Number.parseInt(osm_id, 10))) return;\n\n  let bbox = parseBBox(appState.get('bbox'));\n  if (!bbox) return;\n\n  return { osm_id, bbox };\n}\n\nfunction parseBBox(bboxStr) {\n  if (!bboxStr) return null;\n\n  let bbox = bboxStr.split(',').map(x => Number.parseFloat(x)).filter(x => Number.isFinite(x));\n  return bbox.length === 4 ? bbox : null;\n}\n\n</script>\n\n<style lang=\"stylus\">\n@import('../vars.styl');\n.find-place  {\n  width: desktop-controls-width;\n}\n\nh3.site-header {\n  margin: 0;\n  font-weight: normal;\n  font-size: 32px;\n  text-align: center;\n}\n\ninput {\n  border: none;\n  flex: 1;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  padding: 0;\n  color: #434343;\n  height: 100%;\n  font-size: 16px;\n  &:focus {\n    outline: none;\n  }\n}\n\n.search-box {\n  position: relative;\n  background-color: emphasis-background;\n  padding: 0 8px;\n  padding: 0 0 0 8px;\n\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 -1px 0px rgba(0,0,0,0.02);\n  height: 48px;\n  display: flex;\n  font-size: 16px;\n  cursor: text;\n  a {\n    cursor: pointer;\n  }\n  span {\n    display: flex;\n    align-items: center;\n    flex-shrink: 0;\n  }\n}\n\n.prompt {\n  padding: 4px;\n  text-align: center;\n  font-size: 12px;\n}\n\n.search-submit {\n  padding: 0 8px;\n  align-items: center;\n  text-decoration: none;\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  outline: none;\n  z-index: 1;\n  color: highlight-color\n  &:hover {\n    color: emphasis-background;\n    background: highlight-color;\n  }\n}\n\n.suggestion {\n  display: block\n  min-height: 64px\n  align-items: center;\n  border-bottom: 1px solid border-color\n  display: flex\n  padding: 0 10px;\n  text-decoration: none\n  color: highlight-color\n}\n\n.suggestions {\n  position: relative;\n  background: white\n  .note {\n    font-size: 10px;\n    font-style: italic;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    max-height: calc(100vh - 128px);\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n}\n\n.message,\n.loading {\n  padding: 4px 8px;\n  position: relative;\n}\n.shadow {\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2)\n}\n\n.error {\n  overflow-x: auto;\n}\n\n.find-place {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  top: 8px;\n  left: 50%;\n\n  transform: translateX(-50%) translateY(0);\n  transition-timing-function: ease-out;\n  transition-property: top left transform;\n  transition-duration: 0.2s;\n}\n\n.find-place.centered {\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-143px);\n}\n.load-padding {\n  padding-left: 16px;\n}\n.description {\n  padding: 8px;\n  margin: 0;\n  text-align: center;\n}\n\n.cancel-request {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  font-size: 12px;\n}\n.error-links {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n}\n\n@media (max-width: small-screen) {\n  .find-place {\n    width: 100%;\n  }\n  .find-place.centered {\n    top: 8px;\n    left: 0;\n    transform: none;\n  }\n  .message {\n    font-size: 12px;\n  }\n  .prompt {\n    font-size: 12px;\n    .note {\n      font-size: 9px;\n    }\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FindPlace.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"find-place\",class:{centered: _vm.boxInTheMiddle }},[(_vm.boxInTheMiddle)?_c('div',[_c('h3',{staticClass:\"site-header\"},[_vm._v(\"city roads\")]),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(\"This website renders every single road within a city\")])]):_vm._e(),_vm._v(\" \"),_c('form',{staticClass:\"search-box\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredInput),expression:\"enteredInput\"}],ref:\"input\",staticClass:\"query-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter a city name to start\"},domProps:{\"value\":(_vm.enteredInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.enteredInput=$event.target.value}}}),_vm._v(\" \"),(_vm.enteredInput && !_vm.hideInput)?_c('a',{staticClass:\"search-submit\",attrs:{\"type\":\"submit\",\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._v(_vm._s(_vm.mainActionText))]):_vm._e()]),_vm._v(\" \"),(_vm.showWarning)?_c('div',{staticClass:\"prompt message note shadow\"},[_vm._v(\"\\n    Note: Large cities may require 200MB+ of data transfer and may need a powerful device to render.\\n  \")]):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('div',{staticClass:\"results\"},[(_vm.suggestionsLoaded && _vm.suggestions.length)?_c('div',{staticClass:\"suggestions shadow\"},[_vm._m(0),_vm._v(\" \"),_c('ul',_vm._l((_vm.suggestions),function(suggestion,index){return _c('li',{key:index},[_c('a',{staticClass:\"suggestion\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.pickSuggestion(suggestion)}}},[_c('span',[_vm._v(\"\\n          \"+_vm._s(suggestion.name)+\" \"),_c('small',[_vm._v(\"(\"+_vm._s(suggestion.type)+\")\")])])])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.suggestionsLoaded && !_vm.suggestions.length && !_vm.loading && !_vm.error)?_c('div',{staticClass:\"no-results message shadow\"},[_vm._v(\"\\n      Didn't find matching cities. Try a different query?\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.noRoads)?_c('div',{staticClass:\"no-results message shadow\"},[_vm._v(\"\\n      Didn't find any roads. Try a different query?\\n    \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"error message shadow\"},[_c('div',[_vm._v(\"Sorry, we were not able to download data from the OpenStreetMap.\\n    It could be very busy at the moment processing other requests. \"),_c('br'),_c('br'),_vm._v(\" Please bookmark this website and \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.retry($event)}}},[_vm._v(\"try again\")]),_vm._v(\" later?\")]),_vm._v(\" \"),_c('div',{staticClass:\"error-links\"},[_c('a',{attrs:{\"href\":\"https://twitter.com/anvaka/status/1218971717734789120\",\"title\":\"see what it supposed to do\",\"target\":\"_blank\"}},[_vm._v(\"see how it should have worked\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.getBugReportURL(_vm.error),\"title\":\"report error: \" + _vm.error,\"target\":\"_blank\"}},[_vm._v(\"report this bug\")])])]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"loading message shadow\"},[_c('loading-icon'),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.loading))]),_vm._v(\" \"),_c('a',{staticClass:\"cancel-request\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancelRequest($event)}}},[_vm._v(\"cancel\")]),_vm._v(\" \"),(_vm.stillLoading > 0)?_c('div',{staticClass:\"load-padding\"},[_vm._v(\"\\n      Still loading...\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.stillLoading > 1)?_c('div',{staticClass:\"load-padding\"},[_vm._v(\"\\n      Sorry it takes so long!\\n    \")]):_vm._e()],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prompt message\"},[_c('div',[_vm._v(\"Select boundaries below to download all roads within\")]),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(\"large cities may require 200MB+ of data transfer and a powerful device\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4d709138\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FindPlace.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d709138\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FindPlace.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FindPlace.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FindPlace.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d709138\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FindPlace.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FindPlace.vue\n// module id = null\n// module chunks = ","// Based on https://github.com/ElemeFE/element/blob/dev/src/utils/clickoutside.js\n// The MIT License (MIT), Copyright (c) 2016 ElemeFE\nconst nodeList = [];\nconst ctx = '@@clickoutsideContext';\n\nlet startClick;\nlet seed = 0;\n\ndocument.addEventListener('mousedown', e => (startClick = e), true);\ndocument.addEventListener('mouseup', e => {\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick));\n}, true);\n\n// Also hide when tapped outside.\ndocument.addEventListener('touchstart', e => {\n  startClick = e;\n}, true);\ndocument.addEventListener('touchend', e => {\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick));\n}, true);\n\nfunction createDocumentHandler(el, binding, vnode) {\n  return function(mouseup = {}, mousedown = {}) {\n    if (!vnode || !vnode.context ||\n      !mouseup.target || !mousedown.target ||\n      el.contains(mouseup.target) ||\n      el.contains(mousedown.target) ||\n      el === mouseup.target ||\n      (vnode.context.popperElm &&\n      (vnode.context.popperElm.contains(mouseup.target) ||\n      vnode.context.popperElm.contains(mousedown.target)))) return;\n\n    const methodName = el[ctx].methodName;\n    if (binding.expression && methodName && vnode.context[methodName]) {\n      vnode.context[methodName]();\n    } else {\n      el[ctx].bindingFn && el[ctx].bindingFn();\n    }\n  };\n}\n\nexport default {\n  bind(el, binding, vnode) {\n    nodeList.push(el);\n    const id = seed++;\n    el[ctx] = {\n      id,\n      documentHandler: createDocumentHandler(el, binding, vnode),\n      methodName: binding.expression,\n      bindingFn: binding.value\n    };\n  },\n\n  update(el, binding, vnode) {\n    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);\n    el[ctx].methodName = binding.expression;\n    el[ctx].bindingFn = binding.value;\n  },\n\n  unbind(el) {\n    let len = nodeList.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodeList[i][ctx].id === el[ctx].id) {\n        nodeList.splice(i, 1);\n        break;\n      }\n    }\n    delete el[ctx];\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/components/clickOutside.js","<template>\n  <div v-click-outside='looseFocus' class='can-drag'>\n    <div class='editable-label'>\n      <span :class='{printable}'>{{value}}</span>\n      <input\n        v-bind:value=\"value\"\n        v-on:input=\"$emit('input', $event.target.value)\"\n        ref='input'\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport ClickOutside from './clickOutside.js'\n\nexport default {\n  name: 'EditableLabel',\n  props: ['value', 'printable', 'overlayManager'],\n  directives: { ClickOutside },\n  mounted() {\n    this.$el.receiveFocus = this.focus;\n    this.$el.style.pointerEvents = 'none';\n  },\n  methods: {\n    looseFocus() {\n      this.$refs.input.blur();\n    },\n    focus() {\n      this.$refs.input.focus();\n    }\n  }\n}\n</script>\n<style lang=\"stylus\">\n@import('../vars.styl');\n\n.editable-label {\n  position: relative;\n\n  span {\n    position: relative;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items : center;\n    font-family: labels-font;\n    white-space: pre;\n    padding: 8px;\n    border: 1px solid transparent;\n  }\n\n  input {\n    caret-color: primary-text;\n    color: transparent;\n    font-family: labels-font;\n    background: transparent;\n    display: flex;\n    align-items: center;\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    left: 0;\n    width: 100%;\n    padding: 8px;\n  }\n}\n  \n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/EditableLabel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.looseFocus),expression:\"looseFocus\"}],staticClass:\"can-drag\"},[_c('div',{staticClass:\"editable-label\"},[_c('span',{class:{printable: _vm.printable}},[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('input',{ref:\"input\",domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f936aaa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditableLabel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f936aaa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditableLabel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableLabel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditableLabel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f936aaa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditableLabel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditableLabel.vue\n// module id = null\n// module chunks = ","\n<template>\n<div class='vue-colorpicker' @click='showPicker = true' v-click-outside='hide' >\n  <span class='vue-colorpicker-btn' :style='btnStyle' ref='triggerButton'></span>\n  <div class='vue-colorpicker-panel' v-show='showPicker' :style=\"{left: panelLeft, top: panelTop}\">\n    <component :is='pickerType' v-model='colors' @input='changeColor'></component>\n  </div>\n</div>\n</template>\n\n<script>\nimport tinycolor from 'tinycolor2'\nimport { Sketch } from 'vue-color'\nimport ClickOutside from './clickOutside.js'\n\nexport default {\n  name: 'vue-colorpicker',\n  components: {\n    'sketch-picker': Sketch,\n  },\n  directives: { ClickOutside },\n  props: {\n    value: {\n      type: Object,\n    },\n  },\n  data () {\n    return {\n      showPicker: false,\n      colors: {\n        hex: '#FFFFFF',\n        a: 1\n      },\n      colorValue: '#FFFFFF',\n      panelLeft: '0px',\n      panelTop: '0px'\n    }\n  },\n  computed: {\n    pickerType () {\n      return 'sketch-picker';\n    },\n    isTransparent () {\n      return this.colors.a === 0;\n    },\n    btnStyle () {\n      if (this.isTransparent) {\n        return {\n          background: '#eee',\n          backgroundImage: 'linear-gradient(45deg, rgba(0,0,0,.25) 25%, transparent 0, transparent 75%,rgba(0,0,0,.25)0), linear-gradient(45deg, rgba(0,0,0,.25)25%,transparent 0, transparent 75%,rgba(0,0,0,.25)0)',\n          backgroundPosition: '0 0, 11px 11px',\n          backgroundSize: '22px 22px'\n        }\n      }\n      let {r, g, b, a} = this.colorValue;\n      return {\n        background: `rgba(${r}, ${g}, ${b}, ${a})`\n      }\n    },\n  },\n  watch: {\n    value (val, oldVal) {\n      if (val !== oldVal) {\n        this.updateColorObject(val);\n      }\n    },\n    showPicker(newVal) {\n      if (!newVal) return;\n\n      const PICKER_WIDTH = 220;\n      const PANEL_HEIGHT = 320;\n      let triggerRect = this.$refs.triggerButton.getBoundingClientRect();\n      let desiredLeft = triggerRect.x;\n      let desiredTop = triggerRect.bottom;\n      if (triggerRect.y + PANEL_HEIGHT > window.innerHeight) {\n        desiredTop = Math.max(0, window.innerHeight - PANEL_HEIGHT);\n        desiredLeft += 36; // so that the selector button is still visible;\n      }\n      if (desiredLeft + PICKER_WIDTH > window.innerWidth) {\n        desiredLeft = Math.max(0, window.innerWidth - PICKER_WIDTH);\n      } \n      this.panelLeft = desiredLeft + 'px';\n      this.panelTop = desiredTop + 'px';\n    }\n  },\n\n  methods: {\n    hide () {\n      this.showPicker = false;\n    },\n    changeColor (data) {\n      this.colorValue = data.rgba;\n      this.$emit('input', this.colorValue)\n      this.$emit('change', this.colorValue)\n    },\n    updateColorObject (color) {\n      if (!color) return\n      const colorObj = tinycolor(color);\n      if (!color || color === 'transparent') {\n        this.colors = {\n          hex: '#FFFFFF',\n          hsl: { h: 0, s: 0, l: 1, a: 0 },\n          hsv: { h: 0, s: 0, v: 1, a: 0 },\n          rgba: { r: 255, g: 255, b: 255, a: 0 },\n          a: 0\n        };\n      } else {\n        this.colors = {\n          hex: colorObj.toHexString(),\n          hsl: colorObj.toHsl(),\n          hsv: colorObj.toHsv(),\n          rgba: colorObj.toRgb(),\n          a: colorObj.getAlpha()\n        };\n      }\n      this.colorValue = this.colors.rgba;\n    }\n  },\n  mounted () {\n    this.updateColorObject(this.value)\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.vue-colorpicker {\n  display: inline-block;\n  box-sizing: border-box;\n  font-size: 0;\n  cursor: pointer;\n  &-btn {\n    display: inline-block;\n    width: 30px;\n    height: 22px;\n    border: 1px solid #666;\n    background: #FFFFFF;\n  }\n\n  .vue-colorpicker-panel {\n    position: absolute;\n    z-index: 1;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ColorPicker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hide),expression:\"hide\"}],staticClass:\"vue-colorpicker\",on:{\"click\":function($event){_vm.showPicker = true}}},[_c('span',{ref:\"triggerButton\",staticClass:\"vue-colorpicker-btn\",style:(_vm.btnStyle)}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPicker),expression:\"showPicker\"}],staticClass:\"vue-colorpicker-panel\",style:({left: _vm.panelLeft, top: _vm.panelTop})},[_c(_vm.pickerType,{tag:\"component\",on:{\"input\":_vm.changeColor},model:{value:(_vm.colors),callback:function ($$v) {_vm.colors=$$v},expression:\"colors\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5fc1b7c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ColorPicker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5fc1b7c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ColorPicker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColorPicker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColorPicker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5fc1b7c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ColorPicker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5fc1b7c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ColorPicker.vue\n// module id = null\n// module chunks = ","import eventify from 'ngraph.events';\n\n// we are going to use this as a global message bus inside the app.\nexport default eventify({});\n\n\n// WEBPACK FOOTER //\n// ./src/lib/bus.js","import config from '../config';\nimport tinycolor from 'tinycolor2';\n\nconst wgl = require('w-gl');\nlet counter = 0;\n\nexport default class GridLayer {\n  get color() {\n    return this._color;\n  }\n\n  set color(unsafeColor) {\n    let color = tinycolor(unsafeColor);\n    this._color = color;\n    if (this.lines) {\n      this.lines.color = toRatioColor(color.toRgb());\n    }\n    if (this.scene) {\n      this.scene.renderFrame();\n    }\n  }\n\n  get lineWidth() {\n    return this._lineWidth;\n  }\n\n  set lineWidth(newValue) {\n    this._lineWidth = newValue;\n    if (!this.lines || !this.scene) return;\n\n    this.lines.setLineWidth(newValue);\n  }\n\n  constructor() {\n    this._color = config.getDefaultLineColor();\n    this.grid = null;\n    this.lines = null;\n    this.scene = null;\n    this.dx = 0;\n    this.dy = 0;\n    this.scale = 1;\n    this.hidden = false;\n    this.id = 'paths_' + counter;\n    this._lineWidth = 1;\n    counter += 1;\n  }\n\n  getGridProjector() {\n    if (this.grid) return this.grid.projector;\n  }\n\n  getQueryBounds() {\n    const {grid} = this;\n    if (grid) {\n      if (grid.queryBounds) return grid.queryBounds;\n      if (grid.isArea) return {\n        areaId: grid.id\n      };\n    }\n  }\n\n  setGrid(grid) {\n    this.grid = grid;\n    if (this.scene) {\n      this.bindToScene(this.scene);\n    }\n  }\n\n  getViewBox() {\n    if (!this.grid) return null;\n\n    let {width, height} = this.grid.getProjectedRect();\n    let initialSceneSize = Math.max(width, height) / 4;\n    return {\n      left:  -initialSceneSize,\n      top:    initialSceneSize,\n      right:  initialSceneSize,\n      bottom: -initialSceneSize,\n    };\n  }\n\n  moveTo(x, y = 0) {\n    console.warn('Please use moveBy() instead. The moveTo() is under construction');\n    // this.dx = x;\n    // this.dy = y;\n\n    // this._transferTransform();\n  }\n\n  moveBy(dx, dy = 0) {\n    this.dx = dx;\n    this.dy = dy;\n\n    this._transferTransform();\n  }\n\n  buildLinesCollection() {\n    if (this.lines) return this.lines;\n\n    let grid = this.grid;\n    let lines = new wgl.WireCollection(grid.wayPointCount, {\n      width: this._lineWidth,\n      allowColors: false,\n      is3D: false\n    });\n    grid.forEachWay(function(from, to) {\n      lines.add({from, to});\n    });\n    let color = tinycolor(this._color).toRgb();\n    lines.color = toRatioColor(color);\n    lines.id = this.id;\n\n    this.lines = lines;\n  }\n\n  destroy() {\n    if (!this.scene || !this.lines) return;\n\n    // TODO: This should remove the grid layer too. Need to clean up how\n    // scene interacts with grid layers.\n    this.scene.removeChild(this.lines);\n  }\n\n  bindToScene(scene) {\n    if (this.scene && this.lines) {\n      console.error('You seem to be adding this layer twice...')\n    }\n\n    this.scene = scene;\n    if (!this.grid) return;\n\n    this.buildLinesCollection();\n\n    if (this.hidden) return;\n    this.scene.appendChild(this.lines);\n  }\n\n  hide() {\n    if (this.hidden) return;\n    this.hidden = true;\n    if (!this.scene || !this.grid) return;\n\n    this.scene.removeChild(this.lines);\n  }\n\n  show() {\n    if (!this.hidden) return;\n    this.hidden = false;\n    if (!this.scene || !this.grid) {\n      console.log('Layer will be shown when grid is available');\n      return;\n    }\n\n    this.scene.appendChild(this.lines);\n  }\n\n  _transferTransform() {\n    if (!this.lines) return;\n\n    this.lines.translate([this.dx, this.dy, 0]);\n    this.lines.updateWorldTransform(true);\n    if (this.scene) {\n      this.scene.renderFrame(true);\n    }\n  }\n}\n\nfunction toRatioColor(c) {\n  return {r: c.r/0xff, g: c.g/0xff, b: c.b/0xff, a: c.a}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GridLayer.js","let place = require('../proto/place.js').place;\nconst wgl = require('w-gl');\n\nexport default function svgExport(scene, options) {\n  const renderer = scene.getRenderer();\n  const svgExportSettings = {\n    open() {\n      return `<!-- Generator: https://github.com/anvaka/city-roads\nData © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright\n-->`;\n    },\n    close() {\n      return getPrintableElements();\n    }\n  };\n\n  if (options.minLength) {\n    svgExportSettings.beforeWrite = path => {\n      let pathLength = 0;\n      for (let i = 1; i < path.length; ++i) {\n        pathLength += Math.hypot(path[i].x - path[i - 1].x, path[i].y - path[i - 1].y);\n        if (pathLength > options.minLength) return true;\n      }\n      return pathLength > options.minLength;\n    }\n  }\n  svgExportSettings.round = options.round;\n\n  const svg = wgl.toSVG(renderer, svgExportSettings);\n\n  return svg;\n\n  function getPrintableElements() {\n    let dpr = renderer.getPixelRatio();\n\n    return options.printable.map(el => {\n      if (el.element instanceof SVGSVGElement) {\n        let bounds = el.bounds;\n        let x = bounds.left * dpr;\n        let y = bounds.top * dpr;\n        let svg = el.element;\n        svg.setAttribute('x', bounds.left * dpr);\n        svg.setAttribute('y', bounds.top * dpr);\n        svg.setAttribute('width', bounds.width * dpr);\n        svg.setAttribute('height', bounds.height * dpr);\n        let content = new XMLSerializer().serializeToString(el.element);\n        svg.removeAttribute('x');\n        svg.removeAttribute('y');\n        svg.removeAttribute('width');\n        svg.removeAttribute('height');\n        return content;\n      } else {\n        let label = el;\n        if (!label.text) return;\n        let insecurelyEscaped = label.text\n          .replace(/&/g, '&amp;')\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;')\n        \n        // Note: this is not 100% accurate, might need to be fixed eventually\n        let bounds = label.bounds;\n        let leftOffset = (bounds.right - label.paddingRight) * dpr;\n        let bottomOffset = (bounds.bottom - label.paddingBottom) * dpr;\n        let fontSize = label.fontSize * dpr;\n\n        let fontFamily = label.fontFamily.replace(/\"/g, '\\'');\n        return `<text text-anchor=\"end\" x=\"${leftOffset}\" y=\"${bottomOffset}\" fill=\"${label.color}\" font-family=\"${fontFamily}\" font-size=\"${fontSize}\">${insecurelyEscaped}</text>`\n      }\n    }).filter(x => x).join('\\n')\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/svgExport.js","import protobufExport from './protobufExport';\nimport svgExport from './svgExport';\n\nexport function toSVG(scene, options) {\n  options = options || {};\n  let svg = svgExport(scene, { \n    printable: collectPrintable(),\n    ...options\n  });\n  let blob = new Blob([svg], {type: \"image/svg+xml\"});\n  let url = window.URL.createObjectURL(blob);\n  let fileName = getFileName(options.name, '.svg');\n  // For some reason, safari doesn't like when download happens on the same\n  // event loop cycle. Pushing it to the next one.\n  setTimeout(() => {\n    let a = document.createElement(\"a\");\n    a.href = url;\n    a.download = fileName;\n    a.click();\n    revokeLater(url);\n  }, 30)\n}\n\nexport function toPNG(scene, options) {\n  options = options || {};\n\n  getPrintableCanvas(scene).then((printableCanvas) => {\n    let fileName = getFileName(options.name, '.png');\n\n    printableCanvas.toBlob(function(blob) {\n      let url = window.URL.createObjectURL(blob);\n      let a = document.createElement(\"a\");\n      a.href = url;\n      a.download = fileName;\n      a.click();\n      revokeLater(url);\n    }, 'image/png')\n  })\n}\n\nexport function getPrintableCanvas(scene) {\n  let cityCanvas = getCanvas();\n  let width = cityCanvas.width;\n  let height = cityCanvas.height;\n\n  let printable = document.createElement('canvas');\n  let ctx = printable.getContext('2d');\n  printable.width = width;\n  printable.height = height;\n  scene.render();\n  ctx.drawImage(cityCanvas, 0, 0, cityCanvas.width, cityCanvas.height, 0, 0, width, height);\n\n  return Promise.all(collectPrintable().map(label => drawTextLabel(label, ctx))).then(() => {\n    return printable;\n  });\n}\n\nexport function getCanvas() {\n  return document.querySelector('#canvas')\n}\n\nfunction getFileName(name, extension) {\n  let fileName = escapeFileName(name || new Date().toISOString());\n  return fileName + (extension || '');\n}\n\nfunction escapeFileName(str) {\n  if (!str) return '';\n\n  return str.replace(/[#%&{}\\\\/?*><$!'\":@+`|=]/g, '_');\n}\n\n\nfunction drawTextLabel(element, ctx) {\n  if (!element) return Promise.resolve();\n\n  return new Promise((resolve, reject) => {\n    let dpr = window.devicePixelRatio || 1;\n\n    if (element.element instanceof SVGSVGElement) {\n      let svg = element.element;\n      let rect = element.bounds;\n      let image = new Image();\n      image.width = rect.width * dpr;\n      image.height = rect.height * dpr;\n      image.onload = () => {\n        ctx.drawImage(image, rect.left * dpr, rect.top * dpr, image.width, image.height);\n        svg.removeAttribute('width');\n        svg.removeAttribute('height');\n        resolve();\n      };\n\n      // Need to set width, otherwise firefox doesn't work: https://stackoverflow.com/questions/28690643/firefox-error-rendering-an-svg-image-to-html5-canvas-with-drawimage\n      svg.setAttribute('width', image.width);\n      svg.setAttribute('height', image.height);\n      image.src = 'data:image/svg+xml;base64,' + btoa(new XMLSerializer().serializeToString(svg));\n    } else {\n      ctx.save();\n\n      ctx.font = dpr * element.fontSize + 'px ' + element.fontFamily;\n      ctx.fillStyle = element.color;\n      ctx.textAlign = 'end'\n      ctx.fillText(\n        element.text, \n        (element.bounds.right - element.paddingRight) * dpr, \n        (element.bounds.bottom - element.paddingBottom) * dpr\n      )\n      ctx.restore();\n      resolve();\n    }\n  });\n}\n\nfunction collectPrintable() {\n  return Array.from(document.querySelectorAll('.printable')).map(element => {\n    let computedStyle = window.getComputedStyle(element);\n    let bounds = element.getBoundingClientRect();\n    let fontSize = Number.parseInt(computedStyle.fontSize, 10);\n    let paddingRight = Number.parseInt(computedStyle.paddingRight, 10);\n    // TODO: I don't know why I need to multiply by 2, it's just\n    // not aligned right if I don't multiply. Need to figure out this.\n    let paddingBottom = Number.parseInt(computedStyle.paddingBottom, 10) * 2;\n\n    return {\n      text: element.innerText,\n      bounds,\n      fontSize,\n      paddingBottom,\n      paddingRight,\n      color: computedStyle.color,\n      fontFamily: computedStyle.fontFamily,\n      fill: computedStyle.color,\n      element\n    }\n  });\n}\n\nfunction revokeLater(url) {\n  // In iOS immediately revoked URLs cause \"WebKitBlobResource error 1.\" error\n  // Setting a timeout to revoke URL in the future fixes the error:\n  setTimeout(() => {\n    window.URL.revokeObjectURL(url);\n  }, 45000);\n}\n\nfunction toProtobuf() {\n  if (!lastGrid) return;\n\n  let arrayBuffer = protobufExport(lastGrid);\n  let blob = new Blob([arrayBuffer.buffer], {type: \"application/octet-stream\"});\n  let url = window.URL.createObjectURL(blob);\n  let a = document.createElement(\"a\");\n  a.href = url;\n  a.download = lastGrid.id + '.pbf';\n  a.click();\n  revokeLater(url);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/saveFile.js","import bus from './bus';\nimport GridLayer from './GridLayer';\nimport Query from './Query';\nimport LoadOptions from './LoadOptions.js';\nimport config from '../config';\nimport tinycolor from 'tinycolor2';\nimport eventify from 'ngraph.events';\nimport {toSVG, toPNG} from './saveFile';\n\nconst wgl = require('w-gl');\n/**\n * This file is responsible for rendering of the grid. It uses my silly 2d webgl\n * renderer which is not very well documented, neither popular, yet it is very\n * fast.\n */\n\nexport default function createScene(canvas) {\n  let scene = wgl.createScene(canvas);\n  let lastLineColor = config.getDefaultLineColor();\n  scene.on('transform', triggerTransform);\n  scene.on('append-child', triggerAdd);\n  scene.on('remove-child', triggerRemove);\n\n  scene.setClearColor(0xf7/0xff, 0xf2/0xff, 0xe8/0xff, 1.0);\n  let camera = scene.getCamera();\n  if (camera.setMoveSpeed) {\n    camera.setMoveSpeed(200);\n    camera.setRotationSpeed(Math.PI/500);\n  }\n\n  let gl = scene.getGL();\n  gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\n  let slowDownZoom = false;\n  let layers = [];\n  let backgroundColor = config.getBackgroundColor();\n\n  listenToEvents();\n\n  let sceneAPI = {\n    /**\n     * Requests the scene to perform immediate re-render\n     */\n    render() {\n      scene.renderFrame(true);\n    },\n\n    /**\n     * Removes all layers in the scene\n     */\n    clear() {\n      layers.forEach(layer => layer.destroy());\n      layers = [];\n      scene.clear();\n    },\n\n    /**\n     * Returns all layers in the scene.\n     */\n    queryLayerAll,\n\n    /**\n     * Same as `queryLayerAll(filter)` but returns the first found\n     * match. If no matches found - returns undefined.\n     */\n    queryLayer,\n    \n    getRenderer() {\n      return scene;\n    },\n\n    getWGL() {\n      // Let the plugins use the same version of wgl library\n      return wgl;\n    },\n\n    version() {\n      return '0.0.2'; // here be dragons\n    },\n\n    /**\n     * Destroys the scene, cleans up all resources.\n     */\n    dispose() {\n      scene.clear();\n      scene.dispose();\n      sceneAPI.fire('dispose', sceneAPI);\n      unsubscribeFromEvents();\n    },\n\n    /**\n     * Uniformly sets color to all loaded grid layer.\n     */\n    set lineColor(color) {\n      layers.forEach(layer => {\n        layer.color = color;\n      });\n      lastLineColor = tinycolor(color);\n      bus.fire('line-color', lastLineColor);\n      sceneAPI.fire('line-color', lastLineColor);\n    },\n\n    get lineColor() {\n      let firstLayer = queryLayer();\n      return (firstLayer && firstLayer.color) || lastLineColor;\n    },\n\n    /**\n     * Sets the background color of the scene\n     */\n    set background(rawColor) {\n      backgroundColor = tinycolor(rawColor);\n      let c = backgroundColor.toRgb();\n      scene.setClearColor(c.r/0xff, c.g/0xff, c.b/0xff, c.a);\n      scene.renderFrame();\n      bus.fire('background-color', backgroundColor);\n      sceneAPI.fire('background-color', backgroundColor);\n    },\n\n    get background() {\n      return backgroundColor;\n    },\n\n    add,\n\n    /**\n     * Executes an OverPass query and loads results into scene.\n     */\n    load,\n\n    saveToPNG,\n\n    saveToSVG\n  };\n\n  return eventify(sceneAPI); // Public bit is over. Below are just implementation details.\n\n  /**\n   * Experimental API. Can be changed/removed at any point.\n   */\n  function load(queryFilter, rawOptions) {\n    let options = LoadOptions.parse(sceneAPI, queryFilter, rawOptions);\n\n    let layer = new GridLayer();\n    layer.id = options.place;\n\n    // TODO: Cancellation logic?\n    Query.runFromOptions(options).then(grid => {\n      grid.setProjector(options.projector);\n      layer.setGrid(grid);\n    }).catch(e => {\n      console.error(`Could not execute:\n  ${queryFilter}\n  The error was:`);\n      console.error(e);\n      layer.destroy();\n    });\n  \n    add(layer);\n    return layer;\n  }\n\n  function queryLayerAll(filter) {\n    if (!filter) return layers;\n\n    return layers.filter(layer => {\n      return layer.id === filter;\n    });\n  }\n\n  function queryLayer(filter) {\n    let result = queryLayerAll(filter);\n    if (result) return result[0];\n  }\n\n  function add(gridLayer) {\n    if (layers.indexOf(gridLayer) > -1) return; // O(n).\n\n    gridLayer.bindToScene(scene);\n    layers.push(gridLayer);\n\n    if (layers.length === 1) {\n      // TODO: Should I do this for other layers?\n      let viewBox = gridLayer.getViewBox();\n      if (viewBox) {\n        scene.setViewBox(viewBox);\n      }\n    }\n  }\n\n  function saveToPNG(name) {\n    return toPNG(sceneAPI, {name});\n  }\n\n  function saveToSVG(name, options) {\n    return toSVG(sceneAPI, Object.assign({}, {name}, options));\n  }\n\n  function triggerTransform(t) {\n    bus.fire('scene-transform');\n  }\n\n  function triggerAdd(e) {\n    sceneAPI.fire('layer-added', e);\n  }\n\n  function triggerRemove(e) {\n    sceneAPI.fire('layer-removed', e);\n  }\n\n  function listenToEvents() {\n    document.addEventListener('keydown', onKeyDown, true);\n    document.addEventListener('keyup', onKeyUp, true);\n  }\n\n  function unsubscribeFromEvents() {\n    document.removeEventListener('keydown', onKeyDown, true);\n    document.removeEventListener('keyup', onKeyUp, true);\n  }\n\n  function onKeyDown(e) {\n    if (e.shiftKey) {\n      slowDownZoom = true;\n      if (camera.setSpeed) camera.setSpeed(0.1);\n    } \n  }\n\n  function onKeyUp(e) {\n    if (!e.shiftKey && slowDownZoom) {\n      if (camera.setSpeed) camera.setSpeed(1);\n      slowDownZoom = false;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/createScene.js","import request from './request';\nimport Progress from './Progress';\n\nlet imageUrl = 'https://edi6jgnosf.execute-api.us-west-2.amazonaws.com/Stage/put_image'\n\nconst productKinds = {\n  mug: '168739066664861503'\n};\n\nfunction getZazzleLink(kind, imageUrl) {\n  const productCode = productKinds[kind];\n  if (!productCode) {\n    throw new Error('Unknown product kind: ' + kind);\n  }\n\n  const imageEncoded = encodeURIComponent(imageUrl);\n  return `https://www.zazzle.com/api/create/at-238058511445368984?rf=238058511445368984&ax=Linkover&pd=${productCode}&ed=true&tc=&ic=&t_map_iid=${imageEncoded}`;\n}\n\nexport default function generateZazzleLink(canvas) {\n  var imageContent = canvas.toDataURL('image/png').replace(/^data:image\\/(png|jpg);base64,/, '');\n  const form = new FormData();\n  form.append('image', imageContent);\n\n  return request(imageUrl, {\n    method: 'POST',\n    responseType: 'json',\n    progress: new Progress(Function.prototype),\n    body: form,\n  }, 'POST').then(x => {\n    if (!x.success) throw new Error('Failed to upload image');\n    let link = x.data.link; \n    return getZazzleLink('mug', link);\n  }).catch(e => {\n    console.log('error', e);\n    throw e;\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/getZazzleLink.js","export default function createOverlayManager() {\n  let overlay;\n  let downEvent = {\n    clickedElement: null,\n    x: 0,\n    y: 0,\n    time: Date.now(),\n    left: 0,\n    right: 0\n  };\n\n  document.addEventListener('mousedown', handleMouseDown);\n  document.addEventListener('mouseup', handleMouseUp);\n  document.addEventListener('touchstart', handleTouchStart, {passive: false, capture: true});\n  document.addEventListener('touchend', handleTouchEnd, true);\n  document.addEventListener('touchcancel', handleTouchEnd, true);\n\n  return {\n    track,\n    dispose,\n    clear\n  }\n\n  function clear() {\n    const activeOverlays = document.querySelectorAll('.overlay-active');\n    for (let i = 0; i < activeOverlays.length; ++i) {\n      deselect(activeOverlays[i]);\n    }\n  }\n\n  function handleMouseDown(e) {\n    onPointerDown(e.clientX, e.clientY, e);\n  }\n\n  function handleMouseMove(e) {\n    onPointerMove(e.clientX, e.clientY);\n  }\n\n  function handleMouseUp(e) {\n    onPointerUp(e.clientX, e.clientY)\n  }\n\n  function handleTouchStart(e) {\n    if (e.touches.length > 1) return;\n\n    let touch = e.touches[0];\n    onPointerDown(touch.clientX, touch.clientY, e);\n  }\n\n  function handleTouchEnd(e) {\n    if (e.changedTouches.length > 1) return;\n    let touch = e.changedTouches[0];\n    let gotSomethingSelected = onPointerUp(touch.clientX, touch.clientY);\n    if (gotSomethingSelected) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length > 1) return;\n    let touch = e.touches[0];\n    onPointerMove(touch.clientX, touch.clientY);\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function onPointerDown(x, y, e) {\n    let foundElement = findTrackedElementUnderCursor(x, y)\n    let activeOverlays = document.querySelectorAll('.overlay-active');\n\n    for (let i = 0; i < activeOverlays.length; ++i) {\n      let el = activeOverlays[i];\n      if (el !== foundElement) deselect(el);\n    }\n    if (activeOverlays.length === 1) downEvent.clickedElement = activeOverlays[0];\n\n    let secondTimeClicking = foundElement && foundElement === downEvent.clickedElement;\n    if (secondTimeClicking) {\n      if (!downEvent.clickedElement.contains(e.target)) {\n        foundElement = null;\n        secondTimeClicking = false;\n      }\n    }\n    let shouldAddOverlay = secondTimeClicking && !foundElement.classList.contains('exclusive');\n    if (shouldAddOverlay) {\n      // prepare for move!\n      addDragOverlay();\n      e.preventDefault();\n      e.stopPropagation();\n    } else {\n      downEvent.clickedElement = foundElement;\n    }\n\n    downEvent.x = x;\n    downEvent.y = y;\n    downEvent.time = Date.now();\n    if (foundElement) {\n      let bBox = foundElement.getBoundingClientRect();\n      downEvent.dx = bBox.right - downEvent.x; \n      downEvent.dy = bBox.bottom - downEvent.y;\n    } else {\n      clear();\n    }\n  }\n\n  function onPointerUp(x, y) {\n    if (!downEvent.clickedElement) return;\n    removeOverlay();\n\n    if (isSingleClick(x, y)) {\n      // forward focus, we didn't move the element\n      select(downEvent.clickedElement, x, y);\n      return true;\n    } else {\n      downEvent.clickedElement = null;\n    }\n  }\n\n  function onPointerMove(x, y) {\n    if (!downEvent.clickedElement) return;\n\n    let style = downEvent.clickedElement.style;\n    style.right = 100*(window.innerWidth - x - downEvent.dx)/window.innerWidth + '%';\n    style.bottom = 100*(window.innerHeight - y - downEvent.dy)/window.innerHeight + '%';\n  }\n\n  function addDragOverlay() {\n    removeOverlay();\n\n    overlay = document.createElement('div');\n    overlay.classList.add('drag-overlay');\n    document.body.appendChild(overlay);\n\n    document.addEventListener('mousemove', handleMouseMove, true);\n    document.addEventListener('touchmove', handleTouchMove, {passive: false, capture: true});\n  }\n\n  function removeOverlay() {\n    if (overlay) {\n      document.body.removeChild(overlay);\n      overlay = null;\n    }\n\n    document.removeEventListener('mousemove', handleMouseMove, true);\n    document.removeEventListener('touchmove', handleTouchMove, {passive: false, capture: true});\n  }\n\n  function isSingleClick(x, y) {\n    let timeDiff = Date.now() - downEvent.time;\n    if (timeDiff > 300) return false; // took too long for a single click;\n\n    // should release roughly in the same place where pressed:\n    return Math.hypot(x - downEvent.x, y - downEvent.y) < 40; \n  }\n\n  function findTrackedElementUnderCursor(x, y) {\n    let autoTrack = document.querySelectorAll('.can-drag');\n    for (let i = 0; i < autoTrack.length; ++i) {\n      let el = autoTrack[i];\n      let rect = getRectangle(el);\n      if (intersects(x, y, rect)) return el;\n    }\n  }\n\n  function deselect(el) {\n    el.style.pointerEvents = 'none';\n    el.classList.remove('overlay-active');\n    el.classList.remove('exclusive')\n  }\n\n  function select(el, x, y) {\n    if (!el) return;\n\n    el.style.pointerEvents = '';\n\n    if (el.classList.contains('overlay-active')) {\n      // When they click second time, we want to forward focus to the element\n      // (if they support focus forwarding)\n      if (el.receiveFocus) el.receiveFocus();\n      // and make the element exclusive owner of the mouse/pointer\n      // (so that native interaction can occur and we don't interfere with dragging)\n      el.classList.add('exclusive')\n    } else {\n      // When they click first time, we enter to \"drag around\" mode\n      el.classList.add('overlay-active');\n      if (el.classList.contains('can-resize')) {\n        // el.resizer = renderResizeHandlers(el);\n      }\n    }\n  }\n\n\n  function intersects(x, y, rect) {\n    return !(x < rect.left || x > rect.right || y < rect.top || y > rect.bottom);\n  }\n\n  function getRectangle(x) {\n    return x.getBoundingClientRect();\n  }\n\n  function track(domElement, options) {\n    domElement.style.pointerEvents = 'none'\n    domElement.classList.add('can-drag');\n\n    if (options) {\n      if (options.receiveFocus) domElement.receiveFocus = options.receiveFocus;\n    }\n  }\n\n  function dispose() {\n    document.removeEventListener('mousedown', handleMouseDown);\n    document.removeEventListener('mouseup', handleMouseUp);\n    document.removeEventListener('touchstart', handleTouchStart);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    downEvent.clickedElement = undefined;\n    removeOverlay();\n  }\n}\n\nfunction renderResizeHandlers(el) {\n  el.getBoundingClientRect(el)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/createOverlayManager.js","<template>\n<div>\n  <find-place v-if='!placeFound' @loaded='onGridLoaded'></find-place>\n  <div id=\"app\">\n    <div v-if='placeFound'>\n      <div class='controls'>\n        <a href=\"#\" class='print-button' @click.prevent='toggleSettings'>Customize...</a>\n        <a href=\"#\" class='try-another' @click.prevent='startOver'>Try another city</a>\n      </div>\n      <div v-if='showSettings' class='print-window'>\n        <h3>Display</h3>\n        <div class='row'>\n          <div class='col'>Colors</div>\n          <div class='col colors c-2'>\n            <div v-for='layer in layers' :key='layer.name' class='color-container'>\n              <color-picker v-model='layer.color' @change='layer.changeColor'></color-picker>\n              <div class='color-label'>{{layer.name}}</div>\n            </div>\n          </div>\n        </div>\n\n        <h3>Export</h3>\n        <div class='row'>\n          <a href='#' @click.prevent='zazzleMugPrint()' class='col'>Onto a mug</a> \n          <span class='col c-2'>\n            Print what you see onto a mug. <br/>Get a unique gift of your favorite city.\n          </span>\n        </div>\n        <div class='preview-actions message' v-if='zazzleLink || generatingPreview'>\n            <div v-if='zazzleLink' class='padded popup-help'>\n              If your browser has blocked the new window, <br/>please <a :href='zazzleLink' target='_blank'>click here</a>\n              to open it.\n            </div>\n            <div v-if='generatingPreview' class='loading-container'>\n              <loading-icon></loading-icon>\n              Generating preview url...\n            </div>\n        </div>\n        <div class='row'>\n          <a href='#'  @click.prevent='toPNGFile' class='col'>As an image (.png)</a> \n          <span class='col c-2'>\n            Save the current screen as a raster image.\n          </span>\n        </div>\n        \n        <div class='row'>\n          <a href='#'  @click.prevent='toSVGFile' class='col'>As a vector (.svg)</a> \n          <span class='col c-2'>\n            Save the current screen as a vector image.\n          </span>\n        </div>\n        <div v-if='false' class='row'>\n          <a href='#' @click.prevent='toProtobuf' class='col'>To a .PBF file</a> \n          <span class='col c-2'>\n            Save the current data as a protobuf message. For developer use only.\n          </span>\n        </div>\n\n        <h3>About</h3>\n        <div>\n          <p>This website was created by <a href='https://twitter.com/anvaka' target='_blank'>@anvaka</a>.\n          It downloads roads from OpenStreetMap and renders them with WebGL.\n          </p>\n          <p>\n           You can find the entire <a href='https://github.com/anvaka/city-roads'>source code here</a>. \n           If you love this website you can also <a href='https://www.paypal.com/paypalme2/anvakos/3'>buy me a coffee</a>, but you don't have to!\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <editable-label v-if='placeFound' v-model='name' class='city-name' :printable='true' :style='{color: labelColorRGBA}' :overlay-manager='overlayManager'></editable-label>\n  <div v-if='placeFound' class='license printable can-drag' :style='{color: labelColorRGBA}'>data <a href='https://www.openstreetmap.org/about/' target=\"_blank\" :style='{color: labelColorRGBA}'>© OpenStreetMap</a></div>\n  </div>\n</template>\n\n<script>\nimport FindPlace from './components/FindPlace';\nimport LoadingIcon from './components/LoadingIcon';\nimport EditableLabel from './components/EditableLabel';\nimport ColorPicker from './components/ColorPicker';\nimport createScene from './lib/createScene';\nimport GridLayer from './lib/GridLayer';\nimport generateZazzleLink from './lib/getZazzleLink';\nimport appState from './lib/appState';\nimport {getPrintableCanvas, getCanvas} from './lib/saveFile';\nimport config from './config';\nimport './lib/canvas2BlobPolyfill';\nimport bus from './lib/bus';\nimport createOverlayManager from './createOverlayManager';\nimport tinycolor from 'tinycolor2';\n\nclass ColorLayer {\n  constructor(name, color, callback) {\n    this.name = name;\n    this.changeColor = callback;\n    this.color = color;\n  }\n}\n\nexport default {\n  name: 'App',\n  components: {\n    FindPlace,\n    LoadingIcon,\n    EditableLabel,\n    ColorPicker\n  },\n  data() {\n    return {\n      placeFound: false,\n      name: '',\n      zazzleLink: null,\n      generatingPreview: false,\n      showSettings: false,\n      settingsOpen: false,\n      labelColor: config.getLabelColor().toRgb(),\n      backgroundColor: config.getBackgroundColor().toRgb(),\n      layers: []\n    }\n  },\n  computed: {\n    labelColorRGBA() {\n      return toRGBA(this.labelColor);\n    }\n  },\n  created() {\n    bus.on('scene-transform', this.handleSceneTransform);\n    bus.on('background-color', this.syncBackground);\n    bus.on('line-color', this.syncLineColor);\n    this.overlayManager = createOverlayManager();\n  },\n  beforeDestroy() {\n    this.overlayManager.dispose();\n    this.dispose();\n    bus.off('scene-transform', this.handleSceneTransform);\n    bus.off('background-color', this.syncBackground);\n    bus.off('line-color', this.syncLineColor);\n  },\n  methods: {\n    dispose() {\n      if (this.scene) {\n        this.scene.dispose();\n        window.scene = null;\n      }\n    },\n    toggleSettings() {\n      this.showSettings = !this.showSettings;\n    },\n    handleSceneTransform() {\n      this.zazzleLink = null;\n    },\n    onGridLoaded(grid) {\n      if (grid.isArea) {\n        appState.set('areaId', grid.id);\n        appState.unset('osm_id');\n        appState.unset('bbox');\n      } else if (grid.bboxString) {\n        appState.unset('areaId');\n        appState.set('osm_id', grid.id);\n        appState.set('bbox', grid.bboxString);\n      }\n      this.placeFound = true;\n      this.name = grid.name.split(',')[0];\n      let canvas = getCanvas();\n      canvas.style.visibility = 'visible';\n\n      this.scene = createScene(canvas);\n      this.scene.on('layer-added', this.updateLayers);\n      this.scene.on('layer-removed', this.updateLayers);\n\n      window.scene = this.scene;\n\n      let gridLayer = new GridLayer();\n      gridLayer.id = 'lines';\n      gridLayer.setGrid(grid);\n      this.scene.add(gridLayer)\n    },\n\n    startOver() {\n      appState.unset('areaId');\n      appState.unsetPlace();\n      appState.unset('q');\n      appState.enableCache();\n\n      this.dispose();\n      this.placeFound = false;\n      this.zazzleLink = null;\n      this.showSettings = false;\n      this.backgroundColor = config.getBackgroundColor().toRgb();\n      this.labelColor = config.getLabelColor().toRgb();\n\n      document.body.style.backgroundColor = config.getBackgroundColor().toRgbString();\n      getCanvas().style.visibility = 'hidden';\n    },\n\n    toPNGFile(e) {\n      scene.saveToPNG(this.name)\n    },\n\n    toSVGFile(e) { \n      scene.saveToSVG(this.name)\n    },\n\n    updateLayers() {\n      // TODO: This method likely doesn't belong here\n      let newLayers = [];\n      let lastLayer = 0;\n      let renderer = this.scene.getRenderer();\n      let root = renderer.getRoot();\n      root.children.forEach(layer => {\n        if (!layer.color) return;\n        let name = layer.id;\n        if (!name) {\n          lastLayer += 1;\n          name = 'lines ' + lastLayer;\n        }\n        let layerColor = tinycolor.fromRatio(layer.color);\n        newLayers.push(new ColorLayer(name, layerColor, newColor => {\n          this.zazzleLink = null;\n          layer.color = toRatioColor(newColor);\n          renderer.renderFrame();\n          this.scene.fire('color-change', layer);\n        }));\n      });\n\n      newLayers.push(\n        new ColorLayer('background', this.backgroundColor, this.setBackgroundColor),\n        new ColorLayer('labels', this.labelColor, newColor => this.labelColor = newColor)\n      );\n\n      this.layers = newLayers;\n\n      function toRatioColor(c) {\n        return {r: c.r/0xff, g: c.g/0xff, b: c.b/0xff, a: c.a}\n      }\n      this.zazzleLink = null;\n    },\n\n    syncLineColor() {\n      this.updateLayers();\n    },\n\n    syncBackground(newBackground) {\n      this.backgroundColor = newBackground.toRgb();\n      this.updateLayers()\n    },\n    // TODO: I need two background methods?\n    updateBackground() {\n      this.setBackgroundColor(this.backgroundColor)\n      this.zazzleLink = null;\n    },\n    setBackgroundColor(c) {\n      this.scene.background = c;\n      document.body.style.backgroundColor = toRGBA(c);\n      this.zazzleLink = null;\n    },\n\n    zazzleMugPrint() {\n      if (this.zazzleLink) {\n        window.open(this.zazzleLink, '_blank');\n        recordOpenClick(this.zazzleLink);\n        return;\n      }\n\n      this.generatingPreview = true;\n      getPrintableCanvas(this.scene).then(printableCanvas => {\n        generateZazzleLink(printableCanvas).then(link => {\n          this.zazzleLink = link;\n          window.open(link, '_blank');\n          recordOpenClick(link);\n          this.generatingPreview = false;\n        }).catch(e => {\n          this.error = e;\n          this.generatingPreview = false;\n        });\n      });\n    }\n  }\n}\n\nfunction toRGBA(c) {\n    return `rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})`;\n}\n\nfunction recordOpenClick(link) {\n  if (typeof ga === 'undefined') return;\n\n  ga('send', 'event', {\n      eventCategory: 'Outbound Link',\n      eventAction: 'click',\n      eventLabel: link\n    });\n}\n</script>\n\n<style lang='stylus'>\n@import('./vars.styl');\n\n#app {\n  margin: 8px;\n  max-height: 100vh;\n  position: absolute;\n  z-index: 1;\n  h3 {\n    font-weight: normal;\n  }\n}\n\n.can-drag {\n  border: 1px solid transparent;\n}\n\n.drag-overlay {\n  position: fixed;\n  background: transparent;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.overlay-active {\n  border: 1px dashed highlight-color;\n}\n.overlay-active.exclusive {\n  border-style: solid;\n}\n\n.controls {\n  height: 48px;\n  background: white;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  width: desktop-controls-width;\n  justify-content: space-around;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 -1px 0px rgba(0,0,0,0.02);\n\n  a {\n    text-decoration: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: highlight-color;\n    margin: 0;\n    border: 0;\n    &:hover {\n      color: emphasis-background;\n      background: highlight-color;\n    }\n  }\n  a.try-another {\n    flex: 1;\n  }\n\n  a.print-button {\n    flex: 1;\n    border-right: 1px solid border-color;\n    &:focus {\n      border: 1px dashed highlight-color;\n    }\n  }\n}\n\n.col {\n    display: flex;\n    flex: 1;\n    select {\n      margin-left: 14px;\n    }\n  }\n.row {\n  margin-top: 4px;\n  display: flex;\n  flex-direction: row;\n  min-height: 32px;\n}\n.colors {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  .color-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 64px;\n  }\n\n  .color-label {\n    font-size: 12px;\n  }\n}\n\na {\n  border: 1px solid transparent;\n  margin: -1px;\n  text-decoration: none;\n  color: highlight-color\n}\na:focus {\n  border: 1px dashed highlight-color;\n  outline: none;\n}\n.print-window {\n  max-height: calc(100vh - 48px);\n  overflow-y: auto;\n  border-top: 1px solid border-color;\n  background: white;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  width: desktop-controls-width;\n  padding: 8px;\n  .row a {\n    margin-right: 4px;\n  }\n\n  h3 {\n    margin: 8px 0;\n    text-align: right;\n  }\n}\n\n.message {\n  border-top: 1px solid border-color\n  border-bottom: 1px solid border-color\n  background: #F5F5F5;\n}\n\n.preview-actions {\n  display: flex;\n  padding: 8px 0;\n  margin-left: -8px;\n  margin-bottom: 14px;\n  margin-top: 1px;\n  width: desktop-controls-width;\n  flex-direction: column;\n  align-items: stretch;\n  font-size: 14px;\n  align-items: center;\n  display: flex;\n\n  .popup-help {\n    text-align: center;\n  }\n}\n\n.city-name {\n  position: absolute;\n  right: 32px;\n  bottom: 54px;\n  font-size: 24px;\n  color: #434343;\n  input {\n    font-size: 24px;\n  }\n}\n\n.license {\n  text-align: right;\n  position: fixed;\n  font-family: labels-font;\n  right: 32px;\n  bottom: 32px;\n  font-size: 12px;\n  padding-right: 8px;\n  a {\n    text-decoration: none;\n    display: inline-block;\n  }\n}\n\n.c-2 {\n  flex: 2\n}\n\n@media (max-width: small-screen) {\n  #app {\n    width: 100%;\n    margin: 0;\n\n    .preview-actions,.error,\n    .controls, .print-window {\n      width: 100%;\n    }\n    .loading-container {\n      font-size: 12px;\n    }\n\n    .print-window {\n      font-size: 14px;\n    }\n\n  }\n  .city-name  {\n    right: 8px;\n    bottom: 24px;\n  }\n  .license  {\n    right: 8px;\n    bottom: 8px;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.placeFound)?_c('find-place',{on:{\"loaded\":_vm.onGridLoaded}}):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"app\"}},[(_vm.placeFound)?_c('div',[_c('div',{staticClass:\"controls\"},[_c('a',{staticClass:\"print-button\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleSettings($event)}}},[_vm._v(\"Customize...\")]),_vm._v(\" \"),_c('a',{staticClass:\"try-another\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.startOver($event)}}},[_vm._v(\"Try another city\")])]),_vm._v(\" \"),(_vm.showSettings)?_c('div',{staticClass:\"print-window\"},[_c('h3',[_vm._v(\"Display\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"Colors\")]),_vm._v(\" \"),_c('div',{staticClass:\"col colors c-2\"},_vm._l((_vm.layers),function(layer){return _c('div',{key:layer.name,staticClass:\"color-container\"},[_c('color-picker',{on:{\"change\":layer.changeColor},model:{value:(layer.color),callback:function ($$v) {_vm.$set(layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('div',{staticClass:\"color-label\"},[_vm._v(_vm._s(layer.name))])],1)}),0)]),_vm._v(\" \"),_c('h3',[_vm._v(\"Export\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('a',{staticClass:\"col\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.zazzleMugPrint()}}},[_vm._v(\"Onto a mug\")]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),(_vm.zazzleLink || _vm.generatingPreview)?_c('div',{staticClass:\"preview-actions message\"},[(_vm.zazzleLink)?_c('div',{staticClass:\"padded popup-help\"},[_vm._v(\"\\n              If your browser has blocked the new window, \"),_c('br'),_vm._v(\"please \"),_c('a',{attrs:{\"href\":_vm.zazzleLink,\"target\":\"_blank\"}},[_vm._v(\"click here\")]),_vm._v(\"\\n              to open it.\\n            \")]):_vm._e(),_vm._v(\" \"),(_vm.generatingPreview)?_c('div',{staticClass:\"loading-container\"},[_c('loading-icon'),_vm._v(\"\\n              Generating preview url...\\n            \")],1):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('a',{staticClass:\"col\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toPNGFile($event)}}},[_vm._v(\"As an image (.png)\")]),_vm._v(\" \"),_c('span',{staticClass:\"col c-2\"},[_vm._v(\"\\n            Save the current screen as a raster image.\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('a',{staticClass:\"col\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toSVGFile($event)}}},[_vm._v(\"As a vector (.svg)\")]),_vm._v(\" \"),_c('span',{staticClass:\"col c-2\"},[_vm._v(\"\\n            Save the current screen as a vector image.\\n          \")])]),_vm._v(\" \"),(false)?_c('div',{staticClass:\"row\"},[_c('a',{staticClass:\"col\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toProtobuf($event)}}},[_vm._v(\"To a .PBF file\")]),_vm._v(\" \"),_c('span',{staticClass:\"col c-2\"},[_vm._v(\"\\n            Save the current data as a protobuf message. For developer use only.\\n          \")])]):_vm._e(),_vm._v(\" \"),_c('h3',[_vm._v(\"About\")]),_vm._v(\" \"),_vm._m(1)]):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.placeFound)?_c('editable-label',{staticClass:\"city-name\",style:({color: _vm.labelColorRGBA}),attrs:{\"printable\":true,\"overlay-manager\":_vm.overlayManager},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}):_vm._e(),_vm._v(\" \"),(_vm.placeFound)?_c('div',{staticClass:\"license printable can-drag\",style:({color: _vm.labelColorRGBA})},[_vm._v(\"data \"),_c('a',{style:({color: _vm.labelColorRGBA}),attrs:{\"href\":\"https://www.openstreetmap.org/about/\",\"target\":\"_blank\"}},[_vm._v(\"© OpenStreetMap\")])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"col c-2\"},[_vm._v(\"\\n            Print what you see onto a mug. \"),_c('br'),_vm._v(\"Get a unique gift of your favorite city.\\n          \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"This website was created by \"),_c('a',{attrs:{\"href\":\"https://twitter.com/anvaka\",\"target\":\"_blank\"}},[_vm._v(\"@anvaka\")]),_vm._v(\".\\n          It downloads roads from OpenStreetMap and renders them with WebGL.\\n          \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n           You can find the entire \"),_c('a',{attrs:{\"href\":\"https://github.com/anvaka/city-roads\"}},[_vm._v(\"source code here\")]),_vm._v(\". \\n           If you love this website you can also \"),_c('a',{attrs:{\"href\":\"https://www.paypal.com/paypalme2/anvakos/3\"}},[_vm._v(\"buy me a coffee\")]),_vm._v(\", but you don't have to!\\n          \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b539f1dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b539f1dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b539f1dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"absolute no-webgl\"},[_c('h3',[_vm._v(\"WebGL is not enabled :(\")]),_vm._v(\" \"),_c('p',[_vm._v(\"This website renders millions of roads at once.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    To render this amount of data fast, the website uses \"),_c('a',{attrs:{\"href\":\"https://get.webgl.org/\"}},[_vm._v(\"WebGL\")]),_vm._v(\",\\n    which seem to be not supported by the device that you are using.\\n  \")]),_vm._v(\" \"),_c('p',[_vm._v(\"Please try a different device to play with this website\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":\"https://i.imgur.com/Fbbe5a6.png\",\"alt\":\"demo\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c133b01\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/NoWebGL.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c133b01\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./NoWebGL.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c133b01\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./NoWebGL.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c133b01\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/NoWebGL.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport NoWebGL from './NoWebGL';\nimport Query from './lib/Query';\nimport {require as d3Require} from 'd3-require';\n\nconst wgl = require('w-gl');\n\nwindow.addEventListener('error', logError);\n\nVue.config.productionTip = false\n\n// expose the console API\nwindow.requireModule = d3Require;\nwindow.Query = Query;\n\nif (wgl.isWebGLEnabled(document.querySelector('#canvas'))) {\n  /* eslint-disable no-new */\n  new Vue({\n    el: '#app',\n    components: { App },\n    template: '<App/>'\n  })\n} else {\n  new Vue({\n    el: '#app',\n    components: { NoWebGL },\n    template: '<NoWebGL/>'\n  })\n}\n\nfunction logError(e) {\n  if (typeof ga !== 'function') return;\n\n  const exDescription = e ? `${e.message} in ${e.filename}:${e.lineno}` : 'Unknown exception';\n\n  ga('send', 'exception', {\n    exDescription,\n    exFatal: false\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/ngraph.events/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\nexports.RANDOM = exports.ARRAY_TYPE = exports.EPSILON = void 0;\n\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nexports.EPSILON = EPSILON;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexports.ARRAY_TYPE = ARRAY_TYPE;\nvar RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexports.RANDOM = RANDOM;\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/common.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.str = str;\nexports.frob = frob;\nexports.LDU = LDU;\nexports.add = add;\nexports.subtract = subtract;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\n\nfunction fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\n\nfunction set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\n\nfunction adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\n\nfunction LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/mat2.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.invert = invert;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.translate = translate;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromTranslation = fromTranslation;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\n\nfunction fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\n\nfunction set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\n\nfunction translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/mat2d.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/mat3.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.scale = scale;\nexports.rotate = rotate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.fromTranslation = fromTranslation;\nexports.fromScaling = fromScaling;\nexports.fromRotation = fromRotation;\nexports.fromXRotation = fromXRotation;\nexports.fromYRotation = fromYRotation;\nexports.fromZRotation = fromZRotation;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromQuat2 = fromQuat2;\nexports.getTranslation = getTranslation;\nexports.getScaling = getScaling;\nexports.getRotation = getRotation;\nexports.fromRotationTranslationScale = fromRotationTranslationScale;\nexports.fromRotationTranslationScaleOrigin = fromRotationTranslationScaleOrigin;\nexports.fromQuat = fromQuat;\nexports.frustum = frustum;\nexports.perspective = perspective;\nexports.perspectiveFromFieldOfView = perspectiveFromFieldOfView;\nexports.ortho = ortho;\nexports.lookAt = lookAt;\nexports.targetTo = targetTo;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n  out[0] = a11 * b11 - a12 * b10 + a13 * b09;\n  out[1] = a02 * b10 - a01 * b11 - a03 * b09;\n  out[2] = a31 * b05 - a32 * b04 + a33 * b03;\n  out[3] = a22 * b04 - a21 * b05 - a23 * b03;\n  out[4] = a12 * b08 - a10 * b11 - a13 * b07;\n  out[5] = a00 * b11 - a02 * b08 + a03 * b07;\n  out[6] = a32 * b02 - a30 * b05 - a33 * b01;\n  out[7] = a20 * b05 - a22 * b02 + a23 * b01;\n  out[8] = a10 * b10 - a11 * b08 + a13 * b06;\n  out[9] = a01 * b08 - a00 * b10 - a03 * b06;\n  out[10] = a30 * b04 - a31 * b02 + a33 * b00;\n  out[11] = a21 * b02 - a20 * b04 - a23 * b00;\n  out[12] = a11 * b07 - a10 * b09 - a12 * b06;\n  out[13] = a00 * b09 - a01 * b07 + a02 * b06;\n  out[14] = a31 * b01 - a30 * b03 - a32 * b00;\n  out[15] = a20 * b03 - a21 * b01 + a22 * b00;\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b0 = a00 * a11 - a01 * a10;\n  var b1 = a00 * a12 - a02 * a10;\n  var b2 = a01 * a12 - a02 * a11;\n  var b3 = a20 * a31 - a21 * a30;\n  var b4 = a20 * a32 - a22 * a30;\n  var b5 = a21 * a32 - a22 * a31;\n  var b6 = a00 * b5 - a01 * b4 + a02 * b3;\n  var b7 = a10 * b5 - a11 * b4 + a12 * b3;\n  var b8 = a20 * b2 - a21 * b1 + a22 * b0;\n  var b9 = a30 * b2 - a31 * b1 + a32 * b0; // Calculate the determinant\n\n  return a13 * b6 - a03 * b7 + a33 * b8 - a23 * b9;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\n\nfunction fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\n\nfunction getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/mat4.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/vec3.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformQuat = transformQuat;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\n\nfunction fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/vec4.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.identity = identity;\nexports.setAxisAngle = setAxisAngle;\nexports.getAxisAngle = getAxisAngle;\nexports.getAngle = getAngle;\nexports.multiply = multiply;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.calculateW = calculateW;\nexports.exp = exp;\nexports.ln = ln;\nexports.pow = pow;\nexports.slerp = slerp;\nexports.random = random;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.fromMat3 = fromMat3;\nexports.fromEuler = fromEuler;\nexports.str = str;\nexports.setAxes = exports.sqlerp = exports.rotationTo = exports.equals = exports.exactEquals = exports.normalize = exports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.lerp = exports.dot = exports.scale = exports.mul = exports.add = exports.set = exports.copy = exports.fromValues = exports.clone = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nvar mat3 = _interopRequireWildcard(require(\"./mat3.js\"));\n\nvar vec3 = _interopRequireWildcard(require(\"./vec3.js\"));\n\nvar vec4 = _interopRequireWildcard(require(\"./vec4.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\n\nfunction getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\n\nfunction getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\n\nfunction multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\n\nfunction calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\n\nfunction exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\n\nfunction ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\n\nfunction pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\n\nfunction slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\n\nfunction random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\n\nfunction fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\n\nfunction fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\n\nvar clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexports.clone = clone;\nvar fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexports.fromValues = fromValues;\nvar copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexports.copy = copy;\nvar set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexports.set = set;\nvar add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexports.add = add;\nvar mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexports.mul = mul;\nvar scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexports.scale = scale;\nvar dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexports.dot = dot;\nvar lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexports.lerp = lerp;\nvar length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexports.length = length;\nvar len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexports.len = len;\nvar squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexports.sqrLen = sqrLen;\nvar normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexports.normalize = normalize;\nvar exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexports.exactEquals = exactEquals;\nvar equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexports.equals = equals;\n\nvar rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\n\nexports.rotationTo = rotationTo;\n\nvar sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\n\nexports.sqlerp = sqlerp;\n\nvar setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();\n\nexports.setAxes = setAxes;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/quat.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.fromRotationTranslationValues = fromRotationTranslationValues;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromMat4 = fromMat4;\nexports.copy = copy;\nexports.identity = identity;\nexports.set = set;\nexports.getDual = getDual;\nexports.setDual = setDual;\nexports.getTranslation = getTranslation;\nexports.translate = translate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.rotateByQuatAppend = rotateByQuatAppend;\nexports.rotateByQuatPrepend = rotateByQuatPrepend;\nexports.rotateAroundAxis = rotateAroundAxis;\nexports.add = add;\nexports.multiply = multiply;\nexports.scale = scale;\nexports.lerp = lerp;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.normalize = normalize;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.dot = exports.mul = exports.setReal = exports.getReal = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nvar quat = _interopRequireWildcard(require(\"./quat.js\"));\n\nvar mat4 = _interopRequireWildcard(require(\"./mat4.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\nfunction create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\n\nfunction fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\n\nfunction fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\n\nfunction set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\n\nvar getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexports.getReal = getReal;\n\nfunction getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\n\nvar setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexports.setReal = setReal;\n\nfunction setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\n\nfunction getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\n\nfunction translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\n\nfunction rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\n\nfunction rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\n\nfunction multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\n\nvar mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexports.mul = mul;\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\n\nvar dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexports.dot = dot;\n\nfunction lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\n\nfunction invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\n\nvar length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexports.length = length;\nvar len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexports.len = len;\nvar squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nfunction normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\n\nfunction str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/quat2.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\n\nvar len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexports.len = len;\nvar sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexports.div = div;\nvar dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexports.sqrDist = sqrDist;\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/vec2.js","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.vec4 = exports.vec3 = exports.vec2 = exports.quat2 = exports.quat = exports.mat4 = exports.mat3 = exports.mat2d = exports.mat2 = exports.glMatrix = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nexports.glMatrix = glMatrix;\n\nvar mat2 = _interopRequireWildcard(require(\"./mat2.js\"));\n\nexports.mat2 = mat2;\n\nvar mat2d = _interopRequireWildcard(require(\"./mat2d.js\"));\n\nexports.mat2d = mat2d;\n\nvar mat3 = _interopRequireWildcard(require(\"./mat3.js\"));\n\nexports.mat3 = mat3;\n\nvar mat4 = _interopRequireWildcard(require(\"./mat4.js\"));\n\nexports.mat4 = mat4;\n\nvar quat = _interopRequireWildcard(require(\"./quat.js\"));\n\nexports.quat = quat;\n\nvar quat2 = _interopRequireWildcard(require(\"./quat2.js\"));\n\nexports.quat2 = quat2;\n\nvar vec2 = _interopRequireWildcard(require(\"./vec2.js\"));\n\nexports.vec2 = vec2;\n\nvar vec3 = _interopRequireWildcard(require(\"./vec3.js\"));\n\nexports.vec3 = vec3;\n\nvar vec4 = _interopRequireWildcard(require(\"./vec4.js\"));\n\nexports.vec4 = vec4;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n\n// WEBPACK FOOTER //\n// ../node_modules/gl-matrix/dist/cjs/index.js","import {mat4} from 'gl-matrix';\nimport {WglScene, DrawContext} from './createScene';\n\n/**\n * Represents a single element in the scene tree\n */\nexport default class Element {\n  children: Element[];\n\n  parent: Element | null;\n\n  /**\n   * Transforms local coordinate system to parent coordinate system\n   */\n  model: mat4;\n\n  /**\n   * Cumulative transform to webgl coordinate system.\n   */\n  worldModel: mat4;\n\n  /**\n   * Model * view * projection matrix\n   */\n  modelViewProjection: mat4;\n\n  worldTransformNeedsUpdate: boolean;\n\n  /**\n   * If true, the modelViewProjection matrix is updated before draw() call\n   */\n  modelViewProjectionNeedsUpdate: boolean;\n\n  type: string;\n\n  scene: WglScene | null;\n\n  constructor() {\n    this.children = [];\n    this.model = mat4.create();\n    this.worldModel = mat4.create();\n    this.modelViewProjection = mat4.create();\n    this.worldTransformNeedsUpdate = true;\n    this.modelViewProjectionNeedsUpdate = true;\n\n    this.type = 'Element';\n    this.scene = null;\n    this.parent = null;\n  }\n\n  appendChild(child: Element, sendToBack = false) {\n    child.parent = this;\n    if (sendToBack) {\n      // back of z-index\n      this.children.unshift(child);\n    } else {\n      this.children.push(child);\n    }\n    if (child.bindScene) {\n      child.bindScene(this.scene);\n    }\n\n    if (this.scene) this.scene.renderFrame();\n  }\n\n  bindScene(scene: WglScene | null) {\n    this.scene = scene;\n  }\n\n  traverse(enterCallback, exitCallback) {\n    enterCallback(this);\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this.children[i];\n      child.traverse(enterCallback, exitCallback);\n    }\n\n    if (exitCallback) exitCallback(this);\n  }\n\n  /**\n   * Rotates this element `rad` radians around `axis`.\n   */\n  rotate(rad: number, axis: number[]) {\n    mat4.rotate(this.model, this.model, rad, axis);\n    this.worldTransformNeedsUpdate = true;\n\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Rotate `rad` radians around X axis\n   */\n  rotateX(rad: number) {\n    mat4.rotateX(this.model, this.model, rad);\n    this.worldTransformNeedsUpdate = true;\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Rotate `rad` radians around Y axis\n   */\n  rotateY(rad: number) {\n    mat4.rotateY(this.model, this.model, rad);\n    this.worldTransformNeedsUpdate = true;\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Rotate `rad` radians around Z axis\n   */\n  rotateZ(rad: number) {\n    mat4.rotateZ(this.model, this.model, rad);\n    this.worldTransformNeedsUpdate = true;\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Scales this element by vector `v`\n   */\n  scale(v: number[]) {\n    mat4.scale(this.model, this.model, v);\n    this.worldTransformNeedsUpdate = true;\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Translate this element by vector `v`\n   */\n  translate(v: number[]) {\n    mat4.translate(this.model, this.model, v);\n    this.worldTransformNeedsUpdate = true;\n    if (this.scene) this.scene.renderFrame();\n    return this;\n  }\n\n  /**\n   * Removes the child from the collection of children. Takes `O(n)` time where `n` is number\n   * of children.\n   */\n  removeChild(child: Element) {\n    // TODO: should this be faster?\n    let childIdx = this.children.indexOf(child);\n    if (childIdx > -1) {\n      this.children.splice(childIdx, 1);\n      child.bindScene(null);\n    }\n\n    if (this.scene) this.scene.renderFrame();\n  }\n\n  updateWorldTransform(force = false) {\n    if (this.worldTransformNeedsUpdate || force) {\n      if (this.parent) {\n        mat4.multiply(this.worldModel, this.parent.worldModel, this.model);\n      } else {\n        mat4.copy(this.worldModel, this.model);\n      }\n\n      this.modelViewProjectionNeedsUpdate = true;\n      this.worldTransformNeedsUpdate = false;\n      force = true; // We have to update children now.\n    }\n\n    let wasDirty = force;\n\n    var children = this.children;\n    for (var i = 0; i < children.length; i++ ) {\n       wasDirty = children[i].updateWorldTransform(force) || wasDirty;\n    }\n\n    return wasDirty;\n  }\n\n  scheduleMVPUpdate() {\n    this.modelViewProjectionNeedsUpdate = true;\n    let children = this.children;\n    for (var i = 0; i < children.length; i++ ) {\n       children[i].scheduleMVPUpdate();\n    }\n  }\n\n  updateModelViewProjection(projection: mat4, view: mat4) {\n    if (!this.modelViewProjectionNeedsUpdate) return;\n\n    mat4.multiply(this.modelViewProjection, projection, view);\n    mat4.multiply(this.modelViewProjection, this.modelViewProjection, this.worldModel);\n    this.modelViewProjectionNeedsUpdate = false;\n  }\n\n  /**\n   * Requests the element to draw itself (and its children)\n   */\n  draw(gl: WebGLRenderingContext, drawContext: DrawContext) {\n    for (var i = 0; i < this.children.length; ++i) {\n      let child = this.children[i];\n      child.updateModelViewProjection(drawContext.projection, drawContext.view.matrix);\n      child.draw(gl, drawContext);\n    }\n  }\n\n  dispose() {\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this.children[i];\n      child.dispose();\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/Element.ts","const config = {\n  maxSingleTouchTime: 300, // ms\n  singleTapDistanceSquared: 25 // within 5px we consider it as a single tap\n}\n\ntype Point = {\n  x: number;\n  y: number;\n}\n\ntype ClapHandler = {\n  (e: MouseEvent) : void;\n  (e: Touch) : void;\n}\n\nexport default function onClap(element: Element, callback: ClapHandler, ctx?: any) {\n  var touchStartTime = Date.now();\n  let startPos: Point;\n\n  // @ts-ignore\n  element.addEventListener('click', invokeHandler as ClapHandler, {passive: false})\n\n  // @ts-ignore\n  element.addEventListener('touchend', handleTouchEnd, {passive: false})\n  // @ts-ignore\n  element.addEventListener('touchstart', handleTouchStart, {passive: false})\n\n  return disposePrevHandler;\n\n  function handleTouchStart(e: TouchEvent) {\n    var touches = e.touches\n\n    if (touches.length === 1) {\n      touchStartTime = Date.now()\n      startPos = {\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY\n      }\n    }\n  }\n\n  function handleTouchEnd(e: TouchEvent) {\n    // multitouch - ignore\n    if (e.touches.length > 1) return\n\n    // single touch - use time difference to determine if it was a touch or\n    // a swipe\n    var dt = Date.now() - touchStartTime\n\n    // To long - ignore\n    if (dt > config.maxSingleTouchTime) return\n    let touch = e.changedTouches[0];\n\n    var dx = touch.pageX - startPos.x\n    var dy = touch.pageY - startPos.y\n\n    if (dx * dx + dy * dy < config.singleTapDistanceSquared) {\n      invokeHandler(touch)\n    }\n  }\n\n  function disposePrevHandler() {\n    // @ts-ignore\n    element.removeEventListener('click', invokeHandler as ClapHandler)\n    // @ts-ignore\n    element.removeEventListener('touchend', handleTouchEnd)\n    // @ts-ignore\n    element.removeEventListener('touchstart', handleTouchStart)\n  }\n\n  function invokeHandler(e: MouseEvent | Touch) {\n    // @ts-ignore\n    callback.call(ctx, e)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/clap.ts","import {mat4, vec3, quat} from 'gl-matrix';\n\nlet spareVec3: vec3 = [0, 0, 0];\nconst xAxis = [1, 0, 0];\nconst yAxis = [0, 1, 0];\nconst zAxis = [0, 0, 1];\n\n\n/**\n * View matrix allows you to place camera anywhere in the world\n */\nexport default class ViewMatrix {\n  matrix: mat4;\n  cameraWorld: mat4;\n\n  /**\n   * Camera position in the world\n   */\n  position: vec3;\n\n  /**\n   * Camera rotation in the world\n   */\n  rotation: quat;\n\n  constructor(viewMatrix?: mat4) {\n    this.matrix = viewMatrix || mat4.create();\n    // True position of the camera in the world:\n    this.cameraWorld = mat4.invert(mat4.create(), this.matrix);\n\n    this.position = [0, 0, 0];\n    this.rotation = [0, 0, 0, 1];\n\n    this.deconstructPositionRotation();\n  }\n\n  lookAt(eye: number[], center: number[], up: number[]) {\n    mat4.lookAt(this.cameraWorld, \n      eye as unknown as Float32Array, \n      center as unknown as Float32Array,\n      up as unknown as Float32Array\n    );\n    this.deconstructPositionRotation();\n    return this;\n  }\n\n  update() {\n    mat4.fromRotationTranslation(this.cameraWorld, this.rotation, this.position);\n    mat4.invert(this.matrix, this.cameraWorld);\n    return this;\n  }\n\n  deconstructPositionRotation() {\n    mat4.getTranslation(this.position, this.cameraWorld);\n    mat4.getRotation(this.rotation, this.cameraWorld);\n  }\n\n  translateOnAxis(axis: number[], distance: number) {\n    let translation = vec3.transformQuat(spareVec3, axis as unknown as Float32Array, this.rotation);\n    vec3.scaleAndAdd(this.position, this.position, translation, distance);\n    return this;\n  } \n\n  translateX(distance) {\n    return this.translateOnAxis(xAxis, distance);\n  }\n\n  translateY(distance) {\n    return this.translateOnAxis(yAxis, distance);\n  }\n\n  translateZ(distance) {\n    return this.translateOnAxis(zAxis, distance);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/ViewMatrix.ts","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/bezier-easing/src/index.js","var BezierEasing = require('bezier-easing')\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n}\n\n\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null)\n  var diff = Object.create(null)\n  options = options || {}\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing]\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop\n  var done = typeof options.done === 'function' ? options.done : noop\n\n  var scheduler = getScheduler(options.scheduler)\n\n  var keys = Object.keys(target)\n  keys.forEach(function(key) {\n    start[key] = source[key]\n    diff[key] = target[key] - source[key]\n  })\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400\n  var durationInFrames = Math.max(1, durationInMs * 0.06) // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId\n  var frame = 0\n\n  previousAnimationId = scheduler.next(loop)\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId)\n    previousAnimationId = 0\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames)\n    frame += 1\n    setValues(t)\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop)\n      step(source)\n    } else {\n      previousAnimationId = 0\n      setTimeout(function() { done(source) }, 0)\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key]\n    })\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function')\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function')\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/amator/index.js","/**\n * Allows smooth kinetic scrolling of the surface\n */\nexport default function createKineticAnimation(getCurrentPoint, moveCallback, settings?: any) {\n  if (typeof settings !== 'object') settings = {};\n \n  let EPS = 1e-3;\n\n  let minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : EPS;\n  let amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.01;\n  let cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function'\n      ? settings.cancelAnimationFrame\n      : getCancelAnimationFrame();\n  let requestAnimationFrame = typeof settings.requestAnimationFrame === 'function'\n      ? settings.requestAnimationFrame\n      : getRequestAnimationFrame();\n\n  let lastPoint;\n  let timestamp;\n  let timeConstant = 342;\n\n  let trackValueHandle;\n  let vx, ax;\n  let vy, ay;\n  let vz, az;\n\n  let animationHandle;\n\n  return {\n    start,\n    setAmplitude,\n    getAmplitude,\n    stop,\n    impulse,\n    cancel\n  };\n\n  function setAmplitude(newAmplitude) {\n    amplitude = newAmplitude;\n  }\n\n  function getAmplitude() {\n    return amplitude;\n  }\n\n  function cancel() {\n    cancelAnimationFrame(trackValueHandle);\n    cancelAnimationFrame(animationHandle);\n  }\n\n  function start() {\n    lastPoint = getCurrentPoint();\n\n    ax = ay = vx = vy = vz = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(trackValueHandle);\n    cancelAnimationFrame(animationHandle);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    trackValueHandle = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getCurrentPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n    var dz = (currentPoint.z || 0) - lastPoint.z;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n    vz = 0.8 * dz * dt + 0.2 * vz;\n\n    trackValueHandle = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    if (!trackValueHandle) return;\n\n    cancelAnimationFrame(trackValueHandle);\n    trackValueHandle = 0;\n\n    cancelAnimationFrame(animationHandle);\n    animationHandle = 0;\n\n    impulse(vx, vy, vz);\n  }\n\n  function impulse(vx, vy, vz) {\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n    }\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n    }\n    if (vz < -minVelocity || vz > minVelocity) {\n      az = amplitude * vz;\n    }\n\n    animationHandle = requestAnimationFrame(kineticMove);\n  }\n\n  function kineticMove() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n    var dz = 0;\n\n    let fade = Math.exp(-elapsed / timeConstant);\n    if (ax) {\n      dx = ax * fade;\n\n      if (dx > EPS || dx < -EPS) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = ay * fade;\n\n      if (dy > EPS || dy < -EPS) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (az) {\n      dz = az * fade;\n\n      if (dz > EPS || dz < -EPS) moving = true;\n      else dz = az = 0;\n    }\n\n    if (moving) {\n      let p = getCurrentPoint();\n      moveCallback(p.x + dx, p.y + dy, p.z + dz);\n      animationHandle = requestAnimationFrame(kineticMove);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n\n  return function(handler) {\n    return setTimeout(handler, 16);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/animation/createKineticAnimation.ts","/**\n * Just to track changes for a single touch event, we create this state:\n */\nexport class TouchState {\n  x: number;\n  y: number;\n  lastX: number;\n  lastY: number;\n  id: any;\n  createdAt: number;\n\n  constructor(touch) {\n    this.x = touch.clientX;\n    this.y = touch.clientY;\n    this.lastX = this.x;\n    this.lastY = this.y;\n    this.id = touch.identifier;\n    this.createdAt = Date.now();\n  }\n\n  move(touch) {\n    this.lastX = this.x;\n    this.lastY = this.y;\n    this.x = touch.clientX;\n    this.y = touch.clientY;\n  }\n}\n\n\n// When two fingers touch the scene we want to \"lock\" interaction to either rotation\n// or scaling. When locked to rotation, we also allow scaling. When Locked to scaling\n// only scaling is allowed\nconst UNKNOWN = 0; // here we don't know yet. Collect more input to make a decision\nconst SCALE = 1; // Locked to scaling.\nconst ROTATE = 2; // Locked to rotation.\nconst INCLINE = 3; // Locked to inclination.\n\n/**\n * This state is used to detect gestures. It answers the questions:\n * - Should we scale with this gesture?\n * - Should we rotate with this gesture?\n * - Should we change incline with this gesture?\n */\nexport class MultiTouchState {\n  allowRotation: boolean;\n  state: number;\n  canRotate: boolean;\n  canScale: boolean;\n  canIncline: boolean;\n  first: any;\n  second: any;\n  stateChanged: boolean;\n\n  constructor(allowRotation: boolean) {\n    this.allowRotation = allowRotation;\n    this.state = UNKNOWN;\n    this.canRotate = false;\n    this.canScale = false;\n    this.canIncline = false;\n    this.first = undefined;\n    this.second = undefined;\n    this.stateChanged = false;\n  }\n\n  reset() {\n    this.state = UNKNOWN;\n    this.canRotate = false;\n    this.canScale = false;\n    this.canIncline = false;\n    this.first = undefined;\n    this.second = undefined;\n  }\n\n  isUnknown() {\n    return this.state === UNKNOWN;\n  }\n\n  track(first, second) {\n    this.stateChanged = false;\n\n    if (this.state !== UNKNOWN) return; // Already resolved the state.\n\n    if (!(this.first && this.second)) {\n      this.first = {\n        id: first.id,\n        x: first.x,\n        y: first.y\n      };\n      this.second = {\n        id: second.id,\n        x: second.x,\n        y: second.y\n      };\n      // we are not ready yet to process anything. Wait for more data:\n      return;\n    }\n\n    // Make sure we have the same first/second touches:\n    let originalFirst = this.first;\n    let originalSecond = this.second;\n    if (first.id === originalSecond.id && second.id === originalFirst.id) {\n      let t = originalFirst;\n      originalFirst = originalSecond;\n      originalSecond = t;\n    }\n\n    // Now let's figure out what gesture we are dealing with...\n    let dfy = originalFirst.y - originalSecond.y;\n    let dfx = originalFirst.x - originalSecond.x;\n\n    let dcy = first.y - second.y;\n    let dcx = first.x - second.x;\n\n    // We compare how much the distance has changed between first two touches and\n    // current two touches:\n    let scaleChange = Math.abs(Math.hypot(dfy, dfx) - Math.hypot(dcy, dcx));\n    // Also compare how much the angle has changed:\n    let initialAngle = Math.atan2(dfy, dfx);\n    let angleChange = Math.abs(initialAngle - Math.atan2(dcy, dcx));\n\n    // Now let's see if this is incline change:\n    initialAngle = (Math.abs(initialAngle) * 180) / Math.PI;\n    // Two fingers have to be roughly on the horizontal line\n    let horizontalAngleInDegrees = 60;\n    let isHorizontalLine =\n      initialAngle < horizontalAngleInDegrees ||\n      180 - initialAngle < horizontalAngleInDegrees;\n    if (\n      isHorizontalLine &&\n      this.allowRotation &&\n      Math.abs(first.createdAt - second.createdAt) < 100\n    ) {\n      // we take a sum of two vectors:\n      // direction of the first finger + direction of the second finger\n      // In case of incline change we want them to move either up or down\n      // which means X change should be small, why Y change should be large\n      let vx = first.x - originalFirst.x + second.x - originalSecond.x;\n      let vy = first.y - originalFirst.y + second.y - originalSecond.y;\n      if (Math.abs(vx) < 10 && Math.abs(vy) > 42) {\n        this.canIncline = true;\n      }\n    }\n\n    if (this.canIncline) {\n      this.canRotate = false;\n      this.canScale = false;\n      this.canIncline = true;\n      this.state = INCLINE;\n    } else if (angleChange > 0.1 && this.allowRotation) {\n      // When we are rotating we want to be able to scale too:\n      this.canRotate = true;\n      this.canScale = true;\n      this.canIncline = false;\n      this.state = ROTATE;\n    } else if (scaleChange > 15) {\n      // But when we are scaling, only scaling should be allowed\n      // (otherwise it's too annoying):\n      this.canRotate = false;\n      this.canScale = true;\n      this.canIncline = false;\n      this.state = SCALE;\n    }\n\n    this.stateChanged = true;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../src/input/TouchState.ts","import { TouchState, MultiTouchState } from './TouchState';\n\nexport default function createTouchController(inputTarget, camera) {\n  let listening = false;\n  let activeTouches = new Map();\n  let { allowRotation, panAnimation, rotateAnimation } = camera;\n  let multiTouchState = new MultiTouchState(allowRotation);\n\n  // used for double tap distance check: if they tapped to far, it is not a double tap:\n  let lastTouch;\n  let lastTouchEndEventTime = Date.now();\n  let lastMultiTouchEventTime = lastTouchEndEventTime;\n\n  listenToEvents();\n\n  return {dispose};\n\n  function dispose() {\n    inputTarget.removeEventListener('touchstart', handleTouchStart, { passive: false });\n    stopDocumentTouchListeners();\n  }\n\n  function listenToEvents() {\n    inputTarget.addEventListener('touchstart', handleTouchStart, { passive: false });\n  }\n\n  function handleTouchStart(e) {\n    if (!listening) {\n      startDocumentTouchListeners();\n      listening = true;\n    }\n\n    panAnimation.cancel();\n    rotateAnimation.cancel();\n\n    if (e.touches.length === 1) {\n      // only when one touch is active we want to have inertia\n      panAnimation.start();\n    }\n\n    for (let i = 0; i < e.touches.length; ++i) {\n      let touch = e.touches[i];\n      if (!activeTouches.has(touch.identifier)) {\n        activeTouches.set(touch.identifier, new TouchState(touch));\n      }\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function handleTouchMove(e) {\n    let now = Date.now();\n\n    let dx = 0;\n    let dy = 0; // total difference between touches.\n    let cx = 0;\n    let cy = 0; // center of the touches\n    let first, second; // fingers.\n    let needRedraw = false;\n\n    let touches = e.touches;\n    for (let i = 0; i < touches.length; ++i) {\n      let touch = touches[i];\n      let state = activeTouches.get(touch.identifier);\n      if (!state) {\n        // We never tracked this touch - how is this even possible?\n        continue;\n      }\n\n      state.move(touch);\n\n      cx += state.x;\n      cy += state.y;\n      dx += state.x - state.lastX;\n      dy += state.y - state.lastY;\n\n      if (!first) first = state;\n      else if (!second) second = state;\n    }\n    let changedCount = touches.length;\n    dx /= changedCount;\n    dy /= changedCount;\n    cx /= changedCount;\n    cy /= changedCount;\n\n    if (!second) multiTouchState.reset();\n\n    // todo: find something better than `first` and `second` tracking?\n    if (first && second) {\n      lastMultiTouchEventTime = now;\n\n      let dx = second.x - first.x;\n      let dy = second.y - first.y;\n\n      let lastDx = second.lastX - first.lastX;\n      let lastDy = second.lastY - first.lastY;\n\n      let zoomChange = Math.hypot(dx, dy) / Math.hypot(lastDx, lastDy) - 1;\n      let angle = Math.atan2(dy, dx) - Math.atan2(lastDy, lastDx);\n\n      multiTouchState.track(first, second);\n\n      if (multiTouchState.stateChanged) {\n        rotateAnimation.start();\n        panAnimation.cancel();\n      }\n\n      if (multiTouchState.canScale) {\n        camera.zoomToClientCoordinates(cx, cy, zoomChange);\n        needRedraw = true;\n      }\n      if (multiTouchState.canRotate) {\n        camera.rotateByAngle(angle, 0);\n        needRedraw = true;\n      } \n      if (multiTouchState.canIncline) {\n        let totalMove = second.y - second.lastY + first.y - first.lastY;\n        camera.rotateByAbsoluteOffset(0, totalMove);\n        needRedraw = true;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    let timeSinceLastTouchEnd = now - lastTouchEndEventTime;\n    let shouldSkipPanning =\n      multiTouchState.canIncline || // can't pan when incline is changed\n      timeSinceLastTouchEnd < 300 || // don't pan if they just released a finger.\n      (e.touches.length > 1 && multiTouchState.isUnknown());\n\n    if ((dx !== 0 || dy !== 0) && !shouldSkipPanning) {\n      // we are panning around\n      camera.panByAbsoluteOffset(dx, dy);\n      needRedraw = true;\n    }\n\n    if (needRedraw) {\n      camera.redraw();\n    }\n  }\n\n  function handleTouchEnd(e) {\n    let now = Date.now();\n    let timeSinceLastTouchEnd = now - lastTouchEndEventTime;\n    lastTouchEndEventTime = now;\n\n    let touches = e.changedTouches;\n    for (let i = 0; i < touches.length; ++i) {\n      let touch = touches[i];\n      activeTouches.delete(touch.identifier);\n    }\n\n    if (e.touches.length < 2) {\n      multiTouchState.reset(); // prepare for more multi-touch gesture detection\n      rotateAnimation.stop(); // spin if necessary.\n      panAnimation.stop();\n    }\n\n    if (e.touches.length === 0) {\n      // Just in case we missed a finger in the map - clean it here.\n      activeTouches.clear();\n    }\n\n    if (activeTouches.size === 0 && e.changedTouches.length === 1) {\n      listening = false;\n      stopDocumentTouchListeners();\n\n      panAnimation.stop();\n\n      if (timeSinceLastTouchEnd < 350 && now - lastMultiTouchEventTime > 350) {\n        // Double tap?\n        let newLastTouch = e.changedTouches[0];\n        let dx = Math.abs(newLastTouch.clientX - lastTouch.clientX);\n        let dy = Math.abs(newLastTouch.clientY - lastTouch.clientY);\n\n        if (Math.hypot(dx, dy) < 30) {\n          // Yes! They tapped close enough to the last tap. Zoom in:\n          camera.zoomToClientCoordinates(lastTouch.clientX, lastTouch.clientY, 0.5, true);\n        }\n      }\n\n      lastTouch = e.changedTouches[0];\n    }\n  }\n\n  function startDocumentTouchListeners() {\n    document.addEventListener('touchmove', handleTouchMove, { passive: false });\n    document.addEventListener('touchend', handleTouchEnd, { passive: false });\n    document.addEventListener('touchcancel ', handleTouchEnd, { passive: false });\n  }\n\n  function stopDocumentTouchListeners() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel ', handleTouchEnd);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/input/createTouchController.ts","export default function createKeyboardController(inputTarget: HTMLElement, camera) {\n  let frameHandle = 0;\n\n  let vx = 0, vy = 0, vz = 0; // velocity of the panning\n  let dx = 0, dy = 0, dz = 0; // actual offset of the panning\n  let dPhi = 0, vPhi = 0; // rotation \n  let dRadius = 0, vRadius = 0; // radius\n  let dIncline = 0, vIncline = 0; // inclination\n\n  listenToEvents();\n\n  return { dispose };\n\n  function listenToEvents() {\n    if (!inputTarget.getAttribute('tabindex')) {\n      inputTarget.setAttribute('tabindex', '0');\n    }\n    inputTarget.addEventListener('keydown', handleKeyDown);\n    inputTarget.addEventListener('keyup', handleKeyUp);\n  }\n\n  function dispose() {\n    inputTarget.removeEventListener('keydown', handleKeyDown);\n    inputTarget.removeEventListener('keyup', handleKeyUp);\n    cancelAnimationFrame(frameHandle);\n  }\n\n  function frame() {\n    frameHandle = 0;\n    let dampFactor = 0.9;\n    let needRedraw = false;\n\n    dx = clampTo(dx * dampFactor + vx, 0.5, 0);\n    dy = clampTo(dy * dampFactor + vy, 0.5, 0);\n    dz = clampTo(dz * dampFactor + vz, 0.5, 0);\n    if (dx || dy) {\n      camera.panByAbsoluteOffset(dx, dy);\n      needRedraw = true;\n    }\n    if (dz) {\n      camera.slideCenterUpDown(dz);\n      needRedraw = true;\n    }\n\n    dPhi = clampTo((dPhi * dampFactor + vPhi/2), Math.PI/360, 0);\n    dIncline = clampTo((dIncline * dampFactor + vIncline/6), Math.PI/360, 0);\n    if (dPhi || dIncline) {\n      camera.rotateByAbsoluteOffset(dPhi, dIncline);\n      needRedraw = true;\n    }\n\n    dRadius = clampTo((dRadius * 0.7 + vRadius), 0.5, 0);\n    if (dRadius) {\n      let scaleFactor = Math.sign(dRadius) * 0.025;\n      camera.zoomCenterByScaleFactor(scaleFactor, 0, 0);\n      needRedraw = true;\n    }\n\n    if (needRedraw) {\n      camera.redraw();\n      processNextInput();\n    }\n  }\n\n  function processNextInput() {\n    if (frameHandle) return; // already scheduled\n    frameHandle = requestAnimationFrame(frame);\n  }\n\n  function handleKeyDown(e: KeyboardEvent) {\n    onKey(e, 1);\n  }\n\n  function handleKeyUp(e: KeyboardEvent) {\n    onKey(e, 0);\n  }\n\n  function onKey(e: KeyboardEvent, isDown: number) {\n    if (isModifierKey(e)) return;\n\n    // TODO: implement plane move on the z up/down?\n    switch (e.which) {\n      case 81: // q - roll right\n        vPhi = -isDown;\n        break;\n      case 69: // e - roll left\n        vPhi = isDown;\n        break;\n      case 187: // = - zoom in\n        vRadius = isDown;\n        break;\n      case 189: // - - zoom in\n        vRadius = -isDown;\n        break;\n      case 82: // r - inline up\n        vIncline = isDown;\n        break;\n      case 70: // f - incline down\n        vIncline = -isDown;\n        break;\n      case 37: // ←\n      case 65: // a\n        vx = isDown;\n        break;\n      case 39: // →\n      case 68: // d\n        vx = -isDown;\n        break;\n      case 38: // ↑\n      case 87: // w\n        vy = isDown;\n        break;\n      case 40: // ↓\n      case 83: // d\n        vy = -isDown;\n        break;\n      case 71: // g\n        vz = -isDown;\n        break;\n      case 84: // t\n        vz = isDown;\n        break;\n    }\n    processNextInput();\n  }\n}\n\nfunction isModifierKey(e) {\n  return e.altKey || e.ctrlKey || e.metaKey;\n}\n\nfunction clampTo(x, threshold, clampValue) {\n  return Math.abs(x) < threshold ? clampValue: x;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/input/createKeyboardController.ts","export default function createMouseController(inputTarget, camera) {\n  let mouseX, mouseY, isAltMouseMove;\n  let { allowRotation, panAnimation, rotateAnimation } = camera;\n\n  inputTarget.addEventListener('wheel', handleWheel, { passive: false });\n  inputTarget.addEventListener('mousedown', handleMouseDown, {\n    passive: false\n  });\n  inputTarget.addEventListener('dblclick', handleDoubleClick, {\n    passive: false\n  });\n\n  return {dispose};\n\n  function dispose() {\n    inputTarget.removeEventListener('wheel', handleWheel, { passive: false });\n    inputTarget.removeEventListener('mousedown', handleMouseDown, { passive: false });\n    inputTarget.removeEventListener('dblclick', handleDoubleClick, { passive: false });\n\n    // TODO: Should I be more precise here?\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n  }\n\n  function handleMouseDown(e: MouseEvent) {\n    let isLeftButton =\n      (e.button === 1 && window.event !== null) || e.button === 0;\n    if (!isLeftButton) return;\n\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n    isAltMouseMove = e.altKey && allowRotation;\n\n    panAnimation.cancel();\n    rotateAnimation.cancel();\n\n    if (isAltMouseMove) {\n      rotateAnimation.start();\n    } else {\n      panAnimation.start();\n    }\n  }\n\n  function onMouseMove(e: MouseEvent) {\n    let dy = e.clientY - mouseY;\n    let dx = e.clientX - mouseX;\n\n    if (isAltMouseMove) {\n      camera.rotateByAbsoluteOffset(dx, dy);\n    } else {\n      camera.panByAbsoluteOffset(dx, dy);\n    }\n\n    mouseX = e.clientX;\n    mouseY = e.clientY;\n\n    camera.redraw();\n  }\n\n  function onMouseUp() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    if (isAltMouseMove) {\n      rotateAnimation.stop();\n    } else {\n      panAnimation.stop();\n    }\n  }\n\n  function handleDoubleClick(e: MouseEvent) {\n    camera.zoomToClientCoordinates(e.clientX, e.clientY, 0.5, true);\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleWheel(e) {\n    // in windows FF it scrolls differently. Want to have the same speed there:\n    let deltaFactor = e.deltaMode > 0 ? 100 : 1;\n    let scaleFactor = getScaleFactorFromDelta(-e.deltaY * deltaFactor);\n    camera.zoomToClientCoordinates(e.clientX, e.clientY, scaleFactor);\n\n    e.preventDefault();\n  }\n\n  function getScaleFactorFromDelta(delta: number) {\n    return Math.sign(delta) * Math.min(0.25, Math.abs(delta / 128));\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/input/createMouseController.ts","import { vec3, mat4 } from 'gl-matrix';\nimport animate from 'amator';\nimport createKineticAnimation from './animation/createKineticAnimation';\nimport createTouchController from './input/createTouchController';\nimport createKeyboardController from './input/createKeyboardController';\nimport createMouseController from './input/createMouseController'\nimport { WglScene } from './createScene';\n\nexport default function createSpaceMapCamera(scene: WglScene) {\n  const drawContext = scene.getDrawContext();\n  let view = drawContext.view;\n  let rotationSpeed = Math.PI * 2;\n  let inclinationSpeed = Math.PI * 1.618;\n\n  let sceneOptions = scene.getOptions() || {};\n  let allowRotation =\n    sceneOptions.allowRotation === undefined ? true : !!sceneOptions.allowRotation;\n\n  let r = 1;\n  // angle of rotation around Y axis, tracked from axis X to axis Z\n  let minPhi = option(sceneOptions.minPhi, -Infinity);\n  let maxPhi = option(sceneOptions.maxPhi, Infinity);\n  // Rotate the camera so it looks to the central point in Oxy plane from distance r.\n  let phi = clamp(-Math.PI / 2, minPhi, maxPhi);\n\n  let planeNormal: vec3 = [0, 0, 1];\n\n  // camera inclination angle. (Angle above Oxz plane)\n  let minTheta = option(sceneOptions.minTheta, 0);\n  let maxTheta = option(sceneOptions.maxTheta, Math.PI);\n  let theta = clamp(0, minTheta, maxTheta);\n\n  let centerPointPosition = drawContext.center;\n  let cameraPosition = view.position;\n\n  let panAnimation = createKineticAnimation(getCenterPosition, setCenterPosition);\n  let rotateAnimation = createKineticAnimation(getCenterRotation, setCenterRotation, {\n    minVelocity: 1\n  });\n\n  const api = {\n    dispose,\n    setViewBox,\n    panByAbsoluteOffset,\n    slideCenterUpDown,\n    rotateByAngle,\n    rotateByAbsoluteOffset,\n    zoomCenterByScaleFactor,\n    zoomToClientCoordinates,\n    redraw,\n    allowRotation,\n    rotateAnimation,\n    panAnimation,\n\n    getRadius,\n  };\n\n  let inputTarget = drawContext.canvas;\n\n  const keyboardController = createKeyboardController(inputTarget, api);\n  const touchController = createTouchController(inputTarget, api);\n  const mouseController = createMouseController(inputTarget, api);\n\n  redraw();\n\n  return api;\n\n  function getRadius() {\n    return r;\n  }\n\n  function setViewBox() {\n    cameraPosition = view.position;\n    r = Math.hypot(cameraPosition[2]);\n    centerPointPosition[0] = cameraPosition[0];\n    centerPointPosition[1] = cameraPosition[1];\n    centerPointPosition[2] = 0;\n\n    theta = clamp(0, minTheta, maxTheta);\n    phi = clamp(-Math.PI / 2, minPhi, maxPhi);\n    redraw();\n  }\n\n  function dispose() {\n    rotateAnimation.cancel();\n    panAnimation.cancel();\n    touchController.dispose();\n    keyboardController.dispose();\n    mouseController.dispose();\n  }\n\n  function getZoomPlaneIntersection(clientX: number, clientY: number) {\n    let viewPoint = scene.getSceneCoordinate(clientX, clientY);\n    let spare: vec3 = [0, 0, 0];\n    let ray = vec3.sub(spare, [viewPoint.x, viewPoint.y, viewPoint.z], cameraPosition);\n    vec3.normalize(ray, ray);\n\n    let denom = vec3.dot(planeNormal, ray);\n    if (Math.abs(denom) > 1e-7) {\n      let t =\n        vec3.dot(\n          vec3.sub([0, 0, 0], centerPointPosition, cameraPosition),\n          planeNormal\n        ) / denom;\n      return vec3.scaleAndAdd([0, 0, 0], cameraPosition, ray, t);\n    }\n  }\n\n  function rotateByAngle(angleChange: number, thetaChange: number) {\n    phi = clamp(phi + angleChange, minPhi, maxPhi);\n    theta = clamp(theta + thetaChange, minTheta, maxTheta);\n  }\n\n  function rotateByAbsoluteOffset(dx: number, dy: number) {\n    if (!allowRotation) return;\n\n    let ar = drawContext.width / drawContext.height;\n\n    phi -= (rotationSpeed * dx) / drawContext.width;\n    theta -= ((inclinationSpeed * dy) / drawContext.height) * ar;\n\n    theta = clamp(theta, minTheta, maxTheta);\n    phi = clamp(phi, minPhi, maxPhi);\n  }\n\n  function panByAbsoluteOffset(dx: number, dy: number) {\n    let ar = drawContext.width / drawContext.height;\n    // the idea behind this formula is this. We turn dx and dy to be\n    // in a range from [0..1] (as a ratio of the screen width or height),\n    // We know the FoV angle, we want to know how much of the distance we\n    // traveled on the frustrum plane.\n    // Distance to frustrum is `r`, thus half length of the frustrum plane\n    // is `r * tan(fov/2)`, we now extend it to full length by performing `2 * `\n    // and take the ratio in dx and dy scale.\n    let fCoefficient = 2 * r * Math.tan(drawContext.fov / 2);\n    let x = (ar * fCoefficient * dx) / (drawContext.width / drawContext.pixelRatio);\n    let y = (fCoefficient * dy) / (drawContext.height / drawContext.pixelRatio); \n    moveCenterBy(x, -y); // WebGL Y is not the same as typical DOM Y.\n  }\n\n  function zoomToClientCoordinates(clientX: number, clientY: number, scaleFactor: number, shouldAnimate: any) {\n    let p = getZoomPlaneIntersection(clientX, clientY);\n    if (!p) {\n      return;\n    }\n    let dx = p[0] - centerPointPosition[0];\n    let dy = p[1] - centerPointPosition[1];\n\n    if (shouldAnimate) {\n      let from = { r, x: centerPointPosition[0], y: centerPointPosition[1] };\n      let to = {\n        r: r * (1 - scaleFactor),\n        x: from.x + dx * scaleFactor,\n        y: from.y + dy * scaleFactor\n      };\n      animate(from, to, {\n        step(values) {\n          r = values.r;\n          centerPointPosition[0] = values.x;\n          centerPointPosition[1] = values.y;\n          redraw();\n        }\n      });\n    } else {\n      zoomCenterByScaleFactor(scaleFactor, dx, dy);\n      redraw();\n    }\n  }\n\n  function moveCenterBy(dx: number, dy: number) {\n    let cPhi = Math.cos(phi);\n    let sPhi = Math.sin(phi);\n    centerPointPosition[0] += cPhi * dy + sPhi * dx;\n    centerPointPosition[1] += sPhi * dy - cPhi * dx;\n  }\n\n  function slideCenterUpDown(dz: number) {\n    centerPointPosition[2] += dz * r * 0.001;\n  }\n\n  function getCenterPosition() {\n    return {\n      x: centerPointPosition[0],\n      y: centerPointPosition[1],\n      z: centerPointPosition[2]\n    };\n  }\n\n  function getCenterRotation() {\n    return {\n      x: phi,\n      y: theta,\n      z: 0, // Should be r, but not used.\n    };\n  }\n\n  function setCenterRotation(new_phi: number, new_theta: number) {\n    theta = clamp(new_theta, minTheta, maxTheta);\n    phi = clamp(new_phi, minPhi, maxPhi);\n    redraw();\n  }\n\n  function setCenterPosition(x: number, y: number, z: number) {\n    vec3.set(centerPointPosition, x, y, z);\n    redraw();\n  }\n\n  function zoomCenterByScaleFactor(scaleFactor: number, dx: number, dy: number) {\n    // `scaleFactor` defines whether we shrink the radius by multiplying it by something < 1\n    // or increase it by multiplying by something > 1.\n    r *= 1 - scaleFactor;\n    // let's also move the center closer to the scrolling origin, this gives\n    // better UX, similar to the one seen in maps: Map zooms into point under\n    // mouse cursor.\n\n    // How much should we move the center point?\n    // (dx, dy) is current distance from the scroll point to the center. We should\n    // keep it the same after we scaled!\n    // dXScaled = dx * (1 - scaleFactor); // this is going to be the distance after we scaled.\n    // newOffsetX = dx - dXScaled; // Thus we move the center by this amount. Which is the same as:\n    // newOffsetX = dx - dx * (1 - scaleFactor) == dx * (1 - 1 + scaleFactor) == dx * scaleFactor;\n    // Thus the formula below:\n    centerPointPosition[0] += dx * scaleFactor;\n    centerPointPosition[1] += dy * scaleFactor;\n  }\n\n  function redraw() {\n    let newCameraPosition = getSpherical(r, theta, phi);\n\n    // now we want to know what is an up vector? The idea is that its position\n    // can also be represented in spherical coordinates of a sphere with slightly larger\n    // radius. How much larger?\n    // Just assume `up` vector length is 1, then the sphere  radius is sqrt(r * r + 1 * 1):\n    let upVectorSphereRadius = Math.hypot(r, 1); // Note: may run into precision error here.\n\n    // We know a hypotenuse of the new triangle and its size. The angle would be\n    // `Math.acos(r/upVectorSphereRadius)`, and since we don't care whether up is above or below\n    // the actual `theta`, we pick one direction and stick to it:\n    let upVectorTheta = theta - Math.acos(r / upVectorSphereRadius);\n    // The rotation angle around z axis (phi) is the same as the camera position.\n    let upVector = getSpherical(upVectorSphereRadius, upVectorTheta, phi);\n\n    // Finally we know both start of the upVector, and the end of the up vector, let's find the direction:\n    vec3.sub(upVector, upVector, newCameraPosition);\n\n    vec3.set(\n      cameraPosition,\n      newCameraPosition[0],\n      newCameraPosition[1],\n      newCameraPosition[2]\n    );\n    vec3.add(cameraPosition, cameraPosition, centerPointPosition);\n\n    // I'd assume this could be simplified? I just don't know and haven't thought yet how:\n    mat4.targetTo(view.matrix, cameraPosition, centerPointPosition, upVector);\n    mat4.getRotation(view.rotation, view.matrix);\n    view.update();\n\n    scene.getRoot().scheduleMVPUpdate();\n    scene.fire('transform', drawContext);\n    scene.renderFrame();\n  }\n}\n\nfunction getSpherical(r: number, theta: number, phi: number): vec3 {\n  let z = r * Math.cos(theta);\n  let x = r * Math.sin(theta) * Math.cos(phi);\n  let y = r * Math.sin(theta) * Math.sin(phi);\n  return [x, y, z];\n}\n\nfunction clamp(v: number, min: number, max: number) {\n  if (v < min) v = min;\n  if (v > max) v = max;\n  return v;\n}\n\nfunction option(value: number | undefined, fallback: number) {\n  if (value === undefined) return fallback;\n  return value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/createSpaceMapCamera.ts","import eventify, { EventedType } from 'ngraph.events';\n\nimport Element from './Element';\nimport onClap from './clap';\nimport {glMatrix, mat4, vec4, vec3, quat} from 'gl-matrix';\n\nimport ViewMatrix from './ViewMatrix';\nimport createSpaceMapCamera from './createSpaceMapCamera';\nimport {EventCallback, EventKey} from 'ngraph.events';\n\n// Float32 is not enough for large scenes.\nglMatrix.setMatrixArrayType(Float64Array);\n\ntype Size = {\n  width: number;\n  height: number;\n}\n\ntype Rectangle = {\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n}\n\ntype WGLSceneOptions = {\n  /**\n   * Default device pixel ratio to be used for scene. If non specified\n   * window.devicePixelRatio is used.\n   */\n  devicePixelRatio?: number;\n\n  /**\n   * Indicates whether user can rotate the scene (either with an `alt` key or with touch/keyboard)\n   * \n   * `true` by default.\n   */\n  allowRotation?: boolean;\n\n  /**\n   * The smallest angle of rotation around Y axis, tracked from axis X to axis Z.\n   * \n   * `-Infinity` by default;\n   */\n  minPhi?: number;\n\n  /**\n   * The largest angle of rotation around Y axis, tracked from axis X to axis Z.\n   * \n   * `Infinity` by default;\n   */\n  maxPhi?: number;\n\n  /**\n   * The smallest camera inclination angle in radians. (Angle above Oxz plane)\n   */\n  minTheta?: number;\n\n  /**\n   * The largest camera inclination angle in radians. (Angle above Oxz plane)\n   */\n  maxTheta?: number;\n\n  /**\n   * Size of the scene;\n   */\n  size?: Size;\n\n  /**\n   * WebGL context options. \n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\n   */\n  wglContextOptions?: WebGLContextAttributes\n\n  /**\n   * Field of view angle defined in radians.\n   */\n  fov?: number\n\n  /**\n   * Near bound of the frustum\n   */\n  near?: number\n\n  /**\n   * far bound of the frustum\n   */\n  far?: number\n\n  /**\n   * Don't use this - this is experimental bit.\n   */\n  camera?: any\n}\n\n/**\n * A context that is passed to individual rendering programs of the w-gl\n */\nexport interface DrawContext {\n  width: number;\n  height: number;\n  fov: number;\n  pixelRatio: number;\n  canvas: HTMLCanvasElement;\n  projection: mat4;\n  view: ViewMatrix;\n  center: vec3;\n}\n\nexport interface SceneCoordinate {\n  x: number\n  y: number\n  z: number\n}\n\n\nexport interface WglScene extends EventedType {\n  /**\n   * Given `clientX` and `clientY` of a mouse coordinate, return corresponding coordinate\n   * in the rendered world.\n   */\n  getSceneCoordinate(clientX: number, clientY: number): SceneCoordinate;\n\n  /**\n   * Appends a new child to the scene\n   */\n  appendChild: (child: Element, sendToBack?: boolean) => void;\n\n  /**\n   * removes a child from scene\n   */\n  removeChild: (child: Element) => void;\n\n  /**\n   * Returns current options passed during scene creation.\n   */\n  getOptions: () => WGLSceneOptions;\n\n  /**\n   * Requests the scene to schedule a re-render. If `immediate` is true, then rendering\n   * happens synchronously inside the call;\n   */\n  renderFrame: (immediate?: boolean) => void;\n\n  /**\n   * Returns the root element of the scene. Root element is a tree entry point of all things\n   * that can be rendered on this scene.\n   */\n  getRoot: () => Element;\n\n  /**\n   * Returns four element-array of the WebGL's clear color [r, g, b, a]. Each element is\n   * between `0` and `1`;\n   */\n  getClearColor: () => [number, number, number, number];\n\n  /**\n   * Returns current draw context (thing passed to every element during render loop)\n   */\n  getDrawContext: () => DrawContext\n\n  /**\n   * Get current pixel ratio\n   */\n  getPixelRatio: () => number\n\n  /**\n   * Returns rendering context.\n   */\n  getGL: () => WebGLRenderingContext\n\n  /**\n   * Returns current camera. Don't rely on this method, it is subject to change.\n   */\n  getCamera: () => any\n}\n\n\nexport default function createScene(canvas: HTMLCanvasElement, options: WGLSceneOptions = {}): WglScene {\n  let width: number;\n  let height: number;\n\n  let pixelRatio = options.devicePixelRatio || window.devicePixelRatio;\n  let wglContextOptions = options.wglContextOptions;\n\n  let gl = (canvas.getContext('webgl', wglContextOptions) || \n    canvas.getContext('experimental-webgl', wglContextOptions)\n  ) as WebGLRenderingContext;\n\n  gl.enable(gl.BLEND);\n\n  gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n  gl.clearColor(0, 0, 0, 1.0);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n\n  let frameToken = 0;\n  let sceneRoot = new Element();\n  let hasMouseClickListeners = false;\n  let hasMouseMoveListeners = false;\n\n  let view = new ViewMatrix();\n  let projection = mat4.create();\n  let inverseProjection = mat4.create();\n  let fov = options.fov === undefined ? Math.PI * 45 / 180 : options.fov;\n  let near = options.near === undefined ? 0.01 : options.near;\n  let far = options.far === undefined ? Infinity : options.far;\n\n  const drawContext: DrawContext = { \n    width: window.innerWidth,\n    height: window.innerHeight,\n    pixelRatio,\n    canvas,\n    projection,\n    view,\n    fov,\n    center: [0, 0, 0],\n };\n\n  updateCanvasSize();\n\n  let api = eventify({\n    appendChild,\n    getSceneCoordinate,\n    getClientCoordinate,\n    getTransform,\n    getRoot,\n    getGL,\n    removeChild,\n    setViewBox,\n    setClearColor,\n    getClearColor,\n    clear,\n    dispose,\n    renderFrame,\n\n    getPixelRatio,\n    setPixelRatio,\n\n    getCamera,\n    setCamera,\n\n    getDrawContext,\n    getOptions\n  });\n\n  let realOn = api.on;\n  api.on = trapOn;\n\n  sceneRoot.bindScene(api);\n\n  let cameraController = (options.camera || createSpaceMapCamera)(api, drawContext);\n\n  let disposeClick: Function;\n\n  listenToEvents();\n\n  renderFrame();\n\n  return api;\n\n  function getPixelRatio() {\n    return pixelRatio;\n  }\n\n  function getDrawContext() {\n    return drawContext;\n  }\n\n  function getOptions() {\n    return options;\n  }\n\n  function setPixelRatio(newPixelRatio: number) {\n    pixelRatio = newPixelRatio;\n    drawContext.pixelRatio = pixelRatio;\n    updateCanvasSize();\n  }\n\n  function getGL() {\n    return gl;\n  }\n\n  function getRoot() {\n    return sceneRoot;\n  }\n\n  function setCamera(createCamera: Function) {\n    if (cameraController) {\n      cameraController.dispose();\n    }\n    cameraController = createCamera(api, drawContext);\n  }\n\n  function getCamera() {\n    return cameraController;\n  }\n\n  function getTransform() {\n    return sceneRoot.model;\n  }\n\n  function setClearColor(r: number, g: number, b: number, a: number) {\n    gl.clearColor(r, g, b, a)\n  }\n\n  function getClearColor() {\n    // [r, g, b, a]\n    return gl.getParameter(gl.COLOR_CLEAR_VALUE);\n  }\n\n  function listenToEvents() {\n    canvas.addEventListener('mousemove', onMouseMove);\n    disposeClick = onClap(canvas, onMouseClick);\n    window.addEventListener('resize', onResize, true);\n  }\n\n  function dispose() {\n    canvas.removeEventListener('mousemove', onMouseMove);\n\n\n    if (disposeClick) disposeClick();\n\n    window.removeEventListener('resize', onResize, true);\n\n    cameraController.dispose();\n    sceneRoot.dispose();\n\n    if (frameToken) {\n      cancelAnimationFrame(frameToken);\n      frameToken = 0;\n    }\n  }\n\n  function onResize() {\n    updateCanvasSize();\n  }\n\n  function updateCanvasSize() {\n    if (options.size) {\n      // Fixed size canvas doesn't update. We assume CSS does the scaling.\n      width = canvas.width = options.size.width;\n      height = canvas.height = options.size.height;\n    } else {\n      width = canvas.width = canvas.offsetWidth * pixelRatio;\n      height = canvas.height = canvas.offsetHeight * pixelRatio;\n    }\n\n    gl.viewport(0, 0, width, height);\n\n    drawContext.width = width;\n    drawContext.height = height;\n    sceneRoot.worldTransformNeedsUpdate = true;\n    mat4.perspective(projection, fov, width/height, near, far);\n\n    inverseProjection = mat4.invert(mat4.create(), projection);\n    renderFrame();\n  }\n\n  function onMouseClick(e: MouseEvent | Touch) {\n    if (!hasMouseClickListeners) return;\n    var p = getSceneCoordinate(e.clientX, e.clientY);\n    if (!p) return; // need to zoom in!\n\n    api.fire('click', {\n      originalEvent: e,\n      x: p.x,\n      y: p.y,\n      z: p.z\n    })\n  }\n\n  function onMouseMove(e: MouseEvent) {\n    if (!hasMouseMoveListeners) return;\n\n    var p = getSceneCoordinate(e.clientX, e.clientY);\n    if (!p) return;\n\n    api.fire('mousemove', {\n      originalEvent: e,\n      x: p.x,\n      y: p.y,\n      z: p.z,\n    });\n  }\n\n  function getSceneCoordinate(clientX: number, clientY: number) {\n    // TODO: This is not optimized by any means.\n    // todo: cache canvas size?\n    let rect = canvas.getBoundingClientRect()\n    clientX -= rect.left;\n    clientY -= rect.top;\n    var dpr = api.getPixelRatio();\n    let clipSpaceX = (dpr * clientX / width) * 2 - 1;\n    let clipSpaceY = (1 - dpr * clientY / height) * 2 - 1;\n\n    let spare: vec4 = [0, 0, 0, 0];\n    let mx = vec4.transformMat4(spare, [clipSpaceX, clipSpaceY, 0, 1], inverseProjection);\n    mx[0] /= mx[3]; mx[1] /= mx[3]; mx[2] /= mx[3]; mx[3] /= mx[3];\n    vec4.transformMat4(mx, mx, view.cameraWorld);\n\n    vec3.sub(mx, mx, view.position);\n    vec3.normalize(mx, mx);\n    // let l = Math.hypot(mx[0], mx[1], mx[2]);\n    // mx[0] /= l; mx[1] /= l; mx[2] /= l;\n    var targetZ = 0;\n\n    // TODO: This is likely not going to work for all cases.\n    var distance = (targetZ - view.position[2]) / mx[2];\n    if (mx[2] > 0) {\n      // ray shoots backwards.\n\n    }\n\n    vec4.scaleAndAdd(mx, view.position as vec4, mx, distance)\n\n    // TODO: Return mx?\n    return {\n      x: mx[0],\n      y: mx[1],\n      z: mx[2]\n    }\n  }\n\n  function getClientCoordinate(sceneX: number, sceneY: number, sceneZ = 0) {\n    // TODO: this is not optimized either.\n    var mvp = mat4.multiply(mat4.create(), projection, view.matrix)\n    mat4.multiply(mvp, mvp, sceneRoot.model);\n    var coordinate = vec4.transformMat4([], [sceneX, sceneY, sceneZ, 1], mvp);\n\n    var dpr = api.getPixelRatio();\n    var x = width * (coordinate[0]/coordinate[3] + 1) * 0.5/dpr;\n    var y = height * (1 - (coordinate[1]/coordinate[3] + 1) * 0.5)/dpr;\n    return {x, y};\n  }\n\n  function setViewBox(rect: Rectangle) {\n    const dpr = drawContext.pixelRatio;\n    const nearHeight = dpr * Math.max((rect.top - rect.bottom) / 2, (rect.right - rect.left) / 2);\n    const {position, rotation} = drawContext.view;\n    position[0] = (rect.left + rect.right)/2;\n    position[1] = (rect.top + rect.bottom)/2;\n    position[2] = nearHeight / Math.tan(drawContext.fov / 2);\n    quat.set(rotation as unknown as vec4, 0, 0, 0, 1);\n\n    drawContext.view.update();\n    if (cameraController.setViewBox) {\n      cameraController.setViewBox(rect)\n    }\n  }\n\n  function renderFrame(immediate = false) {\n    if (immediate) {\n      return frame();\n    }\n\n    if (!frameToken) frameToken = requestAnimationFrame(frame)\n  }\n\n  function frame() {\n    gl.clear(gl.COLOR_BUFFER_BIT)\n    sceneRoot.updateWorldTransform();\n    sceneRoot.draw(gl, drawContext);\n    frameToken = 0;\n  }\n\n  function clear() {\n    gl.clear(gl.COLOR_BUFFER_BIT)\n  }\n\n  function appendChild(child: Element, sendToBack = false) {\n    sceneRoot.appendChild(child, sendToBack);\n    api.fire('append-child', child); // TODO: might need to add support for bubbling?\n  }\n\n  function removeChild(child: Element) {\n    sceneRoot.removeChild(child)\n    api.fire('remove-child', child);\n  }\n\n  function trapOn(eventName: EventKey, callback: EventCallback, context?: any) {\n    if (eventName === 'click') hasMouseClickListeners = true;\n    if (eventName === 'mousemove') hasMouseMoveListeners = true;\n\n    return realOn(eventName, callback, context);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/createScene.ts","const glUtils = {\n  compile,\n  link,\n  getLocations,\n  getAttributes,\n  getUniforms,\n  initBuffer\n};\n\nexport default glUtils;\n\nfunction compile(gl: WebGLRenderingContext, type: GLenum, shaderSrc: string) {\n  const shader = gl.createShader(type);\n  if (!shader) {\n    throw new Error('Failed to create a shared ' + shaderSrc);\n  }\n  gl.shaderSource(shader, shaderSrc);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    throw new Error(gl.getShaderInfoLog(shader) || 'Failed to compile shader ' + shaderSrc);\n  }\n\n  return shader;\n}\n\nfunction link(gl: WebGLRenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader) {\n  const program = gl.createProgram();\n  if (!program) {\n    throw new Error('Failed to link a program');\n  }\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    throw new Error(gl.getProgramInfoLog(program) || 'Failed to link a program');\n  }\n\n  return program;\n}\n\nfunction getLocations(gl: WebGLRenderingContext, program: WebGLProgram) {\n  return {\n    attributes: getAttributes(gl, program),\n    uniforms: getUniforms(gl, program)\n  }\n}\n\nfunction getAttributes(gl: WebGLRenderingContext, program: WebGLProgram) {\n  var attributes = Object.create(null);\n\n  var numberOfAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (var i = 0; i < numberOfAttributes; ++i) {\n    var activeAttribute = gl.getActiveAttrib(program, i);\n    if (activeAttribute) {\n      let name = activeAttribute.name;\n      attributes[name] = gl.getAttribLocation(program, name)\n    }\n  }\n\n  return attributes;\n}\n\nfunction getUniforms(gl: WebGLRenderingContext, program: WebGLProgram) {\n  var uniforms = Object.create(null);\n  var numberOfUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (var i = 0; i < numberOfUniforms; ++i) {\n    var activeUniform = gl.getActiveUniform(program, i);\n    if (activeUniform) {\n      let name = activeUniform.name;\n      uniforms[name] = gl.getUniformLocation(program, name)\n    }\n  }\n\n  return uniforms;\n}\n\nfunction initBuffer(gl: WebGLRenderingContext, data: BufferSource | null, elementsPerVertex: number, attribute: number) {\n  var buffer = gl.createBuffer();\n  if (!buffer) throw new Error('Failed to create a buffer');\n\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n  gl.vertexAttribPointer(attribute, elementsPerVertex, gl.FLOAT, false, 0, 0);\n  gl.enableVertexAttribArray(attribute);\n}\n\n\n// WEBPACK FOOTER //\n// ../src/glUtils.ts","/**\n * Naive implementation of a multi-key cache.\n */\nexport default function createMultiKeyCache() {\n  let cache = new Map();\n  return {\n    get,\n    set,\n    remove\n  };\n\n  function get(keys) {\n    if (!keys) return;\n    let lastCache = cache;\n    let entry;\n    for (let i = 0; i < keys.length; ++i) {\n      let key = keys[i];\n      entry = lastCache.get(key);\n      if (!entry) return;\n      lastCache = entry;\n    }\n    return entry;\n  }\n\n  function set(keys, value) {\n    let lastCache = cache;\n    for (let i = 0; i < keys.length - 1; ++i) {\n      let key = keys[i];\n      let entry = lastCache.get(key);\n      if (!entry) {\n        entry = new Map();\n        lastCache.set(key, entry);\n      }\n      lastCache = entry;\n    }\n    lastCache.set(keys[keys.length - 1], value);\n  }\n\n  function remove(keys) {\n    let lastCache = cache;\n    for (let i = 0; i < keys.length - 1; ++i) {\n      let key = keys[i];\n      let entry = lastCache.get(key);\n      if (!entry) return;\n      lastCache = entry;\n    }\n    lastCache.delete(keys[keys.length - 1]);\n    // TODO: Might also want to remove parent elements if this was the last entity.\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/lines/createMultiKeyCache.ts","import gl_utils from '../glUtils';\nimport createMultiKeyCache from '../lines/createMultiKeyCache';\nimport PointCollection from './PointCollection'\nimport { DrawContext } from 'src/createScene';\n\nlet vertexProgramCache = createMultiKeyCache();\n\nexport default function makePointsProgram(gl: WebGLRenderingContext, pointCollection: PointCollection) {\n  let allowColors = !!pointCollection.allowColors;\n  let programKey = [allowColors, gl];\n\n  let vertexProgram = vertexProgramCache.get(programKey)\n  if (!vertexProgram) {\n    const { fragmentShaderCode, vertexShaderCode } = getShadersCode(allowColors);\n    let vertexShader = gl_utils.compile(gl, gl.VERTEX_SHADER, vertexShaderCode);\n    let fragmentShader = gl_utils.compile(gl, gl.FRAGMENT_SHADER, fragmentShaderCode);\n\n    vertexProgram = gl_utils.link(gl, vertexShader, fragmentShader);\n    vertexProgramCache.set(programKey, vertexProgram);\n  }\n\n  let locations = gl_utils.getLocations(gl, vertexProgram);\n\n  let gle = gl.getExtension('ANGLE_instanced_arrays')!;\n  if (!gle) {\n    // Not sure if this is going to be an error, given instancing is widely supported. But\n    // If you get this error please ping me so that we can find a fallback solution\n    throw new Error('PointCollection requires instancing. Please ping @anvaka so that we can add fallback');\n  }\n\n  let buffer = gl.createBuffer();\n  if (!buffer) throw new Error('failed to create a nodesBuffer');\n\n  const instanceBuffer = gl.createBuffer();\n  const instanceBufferValues = new Float32Array([\n    -0.5, -0.5,\n    -0.5,  0.5,\n     0.5,  0.5,\n\n     0.5,  0.5,\n     0.5, -0.5,\n    -0.5, -0.5,\n  ]);\n\n  let positionSize = pointCollection.is3D ? 3 : 2;\n  let sizeOffset = positionSize * 4;\n  let colorOffset = (positionSize + 1) * 4;\n  let coloredPointStride = (positionSize + 2) * 4;  \n  let uncoloredPointStride = (positionSize + 1) * 4;  \n\n  return {\n    draw,\n    dispose\n  };\n\n  function dispose() {\n    // TODO: Do I need gl.deleteBuffer(buffer);?\n    gl.deleteProgram(vertexProgram);\n\n    vertexProgramCache.remove(programKey);\n  }\n\n  function draw(drawContext: DrawContext) {\n    if (!pointCollection.count) return;\n\n    gl.enable(gl.DEPTH_TEST);\n    gl.depthFunc(gl.LEQUAL)\n    gl.useProgram(vertexProgram);\n\n    gl.uniformMatrix4fv(locations.uniforms.uModel, false, pointCollection.worldModel);\n    gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\n    gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, instanceBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, instanceBufferValues, gl.STATIC_DRAW);\n\n    gl.enableVertexAttribArray(locations.attributes.aPoint)\n    gl.vertexAttribPointer(locations.attributes.aPoint, 2, gl.FLOAT, false, 0, 0);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, pointCollection.buffer, gl.DYNAMIC_DRAW);\n\n    if (allowColors) {\n      gl.enableVertexAttribArray(locations.attributes.aPosition)\n      gl.vertexAttribPointer(locations.attributes.aPosition, positionSize, gl.FLOAT, false, coloredPointStride, 0);\n\n      gl.enableVertexAttribArray(locations.attributes.aPointSize)\n      gl.vertexAttribPointer(locations.attributes.aPointSize, 1, gl.FLOAT, false, coloredPointStride, sizeOffset)\n\n      gl.enableVertexAttribArray(locations.attributes.aColor);\n      gl.vertexAttribPointer(locations.attributes.aColor, 4, gl.UNSIGNED_BYTE, true, coloredPointStride, colorOffset);\n    } else {\n      gl.enableVertexAttribArray(locations.attributes.aPosition)\n      gl.vertexAttribPointer(locations.attributes.aPosition, positionSize, gl.FLOAT, false, uncoloredPointStride, 0)\n\n      gl.enableVertexAttribArray(locations.attributes.aPointSize)\n      gl.vertexAttribPointer(locations.attributes.aPointSize, 1, gl.FLOAT, false, uncoloredPointStride, sizeOffset)\n\n      let color = pointCollection.color;\n      gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\n    }\n\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPoint, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 1);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPointSize, 1);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aColor, 1);\n\n    gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, pointCollection.count);\n\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPoint, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPointSize, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aColor, 0);\n    gl.disable(gl.DEPTH_TEST);\n  }\n}\n\nfunction getShadersCode(allowColors: boolean) {\n  const fragmentShaderCode = `\n  precision highp float;\n  varying vec4 vColor;\n  varying vec3 vPosition;\n\n  void main() {\n    float dist = length(vPosition);\n\n    if (dist >= 0.5) {discard;}\n    gl_FragColor = vColor;\n  }\n  `;\n\n  const vertexShaderCode = `\n  uniform vec4 uColor;\n  uniform mat4 projectionMatrix;\n  uniform mat4 uModel;\n  uniform mat4 uView;\n\n  attribute float aPointSize;\n  attribute vec3 aPosition;\n  attribute vec3 aPoint;\n  ${allowColors ? 'attribute vec4 aColor;' : ''}\n\n  varying vec4 vColor;\n  varying vec3 vPosition;\n\n  void main() {\n    vPosition = aPoint;\n    gl_Position = projectionMatrix * uView * uModel * vec4( aPosition + aPoint * aPointSize, 1.0 );\n    vColor = ${allowColors ? 'aColor.abgr' : 'uColor'};\n  }\n`;\n\n  return {\n    fragmentShaderCode, vertexShaderCode\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ../src/points/makePointsProgram.ts","export default class Color {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n  \n  constructor(r: number, g: number, b: number, a = 1) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a === undefined ? 1 : a\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/Color.ts","import PointCollection from './PointCollection';\nimport { PointWithSize } from 'src/global';\n\n/**\n * Provides access to a single point in the PointCollection\n */\nexport default class PointAccessor {\n  offset: any;\n  data?: any;\n  _points: PointCollection;\n\n  constructor(points: PointCollection, offset: number, data?: any) {\n    this.offset = offset;\n    this._points = points;\n    if (data !== undefined) {\n      this.data = data;\n    }\n  }\n\n  update(point: PointWithSize) {\n    let offset = this.offset;\n    let points = this._points.positions;\n    let is3D = this._points.is3D;\n\n    points[offset] = point.x; offset++;\n    points[offset] = point.y; offset++;\n    if (is3D) {\n      points[offset] = point.z || 0; offset++;\n    }\n\n    let size = point.size || this._points.size || 1;\n    if (size !== undefined) {\n      points[offset] = size;\n    }\n\n    this.setColor(point.color);\n  }\n\n  setColor(color?: number) {\n    if (!this._points.colors || color === undefined) return;\n    var offset = this.offset + (this._points.is3D ? 4 : 3);\n    this._points.colors[offset] = color;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/points/PointAccessor.ts","\nimport makePointsProgram from './makePointsProgram';\nimport Element from '../Element';\nimport Color from '../Color';\nimport PointAccessor from './PointAccessor';\nimport { DrawContext } from 'src/createScene';\nimport { ColorPoint } from 'src/global';\n\ninterface PointCollectionOptions {\n  /**\n   * If true, then each point has three dimensions (requires more memory)\n   */\n  is3D?: boolean\n\n  /**\n   * If true, then colors can be set on each point (4 byte per point)\n   */\n  allowColors?: boolean\n}\n\nexport default class PointCollection extends Element {\n  is3D: boolean;\n  allowColors: boolean;\n\n  /**\n   * Allocated buffer capacity\n   */\n  capacity: number;\n\n  /**\n   * Total number of points in the collection that should be rendered.\n   */\n  count: number;\n  color: Color;\n  buffer: ArrayBuffer;\n  positions: Float32Array;\n  colors: Uint32Array | null;\n  size?: number;\n  itemsPerPoint: number;\n  _program: any;\n\n  constructor(capacity: number, options: PointCollectionOptions) {\n    if (capacity === undefined) {\n      throw new Error('Point capacity should be defined');\n    }\n    super();\n\n    this.is3D = !options || options.is3D === undefined || options.is3D;\n    this.allowColors = !options || options.allowColors === undefined || options.allowColors;\n    \n    this.itemsPerPoint = 3; // (x, y, size)\n    if (this.is3D) this.itemsPerPoint += 1;\n    if (this.allowColors) this.itemsPerPoint += 1;\n\n    this.capacity = capacity;\n    this.count = 0;\n    this.color = new Color(1, 1, 1, 1);\n    this._program = null;\n    this.buffer = new ArrayBuffer(capacity * this.itemsPerPoint * 4);\n    this.positions = new Float32Array(this.buffer);\n    this.colors = this.allowColors ? new Uint32Array(this.buffer) : null;\n  }\n\n  draw(gl: WebGLRenderingContext, drawContext: DrawContext) {\n    if (!this._program) {\n      this._program = makePointsProgram(gl, this);\n    }\n\n    this._program.draw(drawContext);\n  }\n\n  dispose() {\n    if (this._program) {\n      // TODO: Dispose only when last using element stops using this program\n      // this._program.dispose();\n      this._program = null;\n    }\n  }\n\n  add(point: ColorPoint, data?: any) {\n    if (!point) throw new Error('Point is required');\n\n    if (this.count >= this.capacity)  {\n      this._extendArray();\n    }\n\n    var offset = this.count * this.itemsPerPoint;\n    let ui = new PointAccessor(this, offset, data);\n    ui.update(point)\n\n    this.count += 1;\n    return ui;\n  }\n\n  _extendArray() {\n    // Every time we run out of space create new array twice bigger.\n    var buffer = new ArrayBuffer(this.buffer.byteLength * 2);\n    var extendedArray = new Float32Array(buffer);\n    if (this.positions) {\n      extendedArray.set(this.positions);\n    }\n\n    this.buffer = buffer;\n    this.positions = extendedArray;\n    if (this.allowColors) {\n      this.colors = new Uint32Array(buffer);\n    }\n    this.capacity *= 2;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/points/PointCollection.ts","import gl_utils from '../glUtils';\nimport createMultiKeyCache from './createMultiKeyCache';\nimport { DrawContext } from 'src/createScene';\nimport WireCollection from './WireCollection';\n\nlet lineProgramCache = createMultiKeyCache();\n\nexport default function makeWireProgram(gl: WebGLRenderingContext, wireCollection: WireCollection) {\n  let allowColors = !!wireCollection.allowColors;\n  let programKey = [allowColors, gl];\n  let lineProgram = lineProgramCache.get(programKey)\n\n  if (!lineProgram) {\n    const { frag, vert } = getShadersCode(allowColors);\n    var lineVSShader = gl_utils.compile(gl, gl.VERTEX_SHADER, vert);\n    var lineFSShader = gl_utils.compile(gl, gl.FRAGMENT_SHADER, frag);\n    lineProgram = gl_utils.link(gl, lineVSShader, lineFSShader);\n    lineProgramCache.set(programKey, lineProgram);\n  }\n\n  let locations = gl_utils.getLocations(gl, lineProgram);\n\n  let lineBuffer = gl.createBuffer();\n  let lineSize = wireCollection.is3D ? 3 : 2;\n  let coloredLineStride = (lineSize + 1) * 4;\n  let colorOffset = lineSize * 4;\n\n  var api = {\n    draw,\n    dispose\n  }\n\n  return api;\n\n  function dispose() {\n    gl.deleteBuffer(lineBuffer);\n    gl.deleteProgram(lineProgram);\n    lineProgramCache.remove(programKey);\n  }\n\n  function draw(drawContext: DrawContext) {\n    if (wireCollection.count === 0) return;\n\n    let data = wireCollection.buffer;\n\n    gl.useProgram(lineProgram);\n\n    gl.uniformMatrix4fv(locations.uniforms.uModel, false, wireCollection.worldModel);\n    gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\n    gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\n\n    var color = wireCollection.color;\n    gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\n    if (wireCollection.isDirtyBuffer) {\n      gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n      wireCollection.isDirtyBuffer = false;\n    }\n\n    gl.enableVertexAttribArray(locations.attributes.aPosition)\n    if (allowColors) {\n      gl.vertexAttribPointer(\n        locations.attributes.aPosition,\n        lineSize,\n        gl.FLOAT,\n        false,\n        coloredLineStride,\n        0\n      );\n\n      gl.enableVertexAttribArray(locations.attributes.aColor);\n      gl.vertexAttribPointer(\n        locations.attributes.aColor,\n        4,\n        gl.UNSIGNED_BYTE,\n        true,\n        coloredLineStride,\n        colorOffset\n      );\n    } else {\n      gl.vertexAttribPointer(locations.attributes.aPosition, lineSize, gl.FLOAT, false, 4 * lineSize, 0)\n    }\n\n    gl.drawArrays(gl.LINES, 0, wireCollection.count * 2);\n  }\n}\n\nfunction getShadersCode(allowColors: boolean) {\n  return { \n    vert:   `attribute vec3 aPosition;\n  varying vec4 vColor;\n  ${allowColors ? 'attribute vec4 aColor;' : ''}\n  uniform vec4 uColor;\n  uniform mat4 projectionMatrix;\n  uniform mat4 uModel;\n  uniform mat4 uView;\n\nvoid main() {\n  gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);\n  vColor = ${allowColors ? 'aColor.abgr' : 'uColor'};\n}`,\n    frag: `precision mediump float;\n    varying vec4 vColor;\n    void main() {\n      gl_FragColor = vColor;\n    }`\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../src/lines/makeWireProgram.ts","import gl_utils from '../glUtils';\nimport createMultiKeyCache from './createMultiKeyCache';\nimport makeWireProgram from './makeWireProgram';\nimport WireCollection from './WireCollection';\nimport { DrawContext } from 'src/createScene';\n\nlet lineProgramCache = createMultiKeyCache();\n\nexport default function makeThickWireProgram(gl: WebGLRenderingContext, wireCollection: WireCollection) {\n  let allowWidth = Number.isFinite(wireCollection.width) && \n    wireCollection.width > 0 && wireCollection.width !== 1;\n\n  let gle: ANGLE_instanced_arrays;\n  if (allowWidth) {\n    gle = gl.getExtension('ANGLE_instanced_arrays') as ANGLE_instanced_arrays;\n    if (!gle) {\n      console.error('ANGLE_instanced_arrays is not supported, thick lines are not possible')\n      return makeWireProgram(gl, wireCollection);\n    }\n  } else {\n    return makeWireProgram(gl, wireCollection);\n  }\n\n  let allowColors = !!wireCollection.allowColors;\n  let programKey = [allowColors, gl];\n  let lineProgram = lineProgramCache.get(programKey)\n\n  if (!lineProgram) {\n    const { frag, vert } = getShadersCode(allowColors);\n    var lineVSShader = gl_utils.compile(gl, gl.VERTEX_SHADER, vert);\n    var lineFSShader = gl_utils.compile(gl, gl.FRAGMENT_SHADER, frag);\n    lineProgram = gl_utils.link(gl, lineVSShader, lineFSShader);\n    lineProgramCache.set(programKey, lineProgram);\n  }\n\n  let locations = gl_utils.getLocations(gl, lineProgram);\n\n  let lineBuffer = gl.createBuffer();\n  let lineSize = wireCollection.is3D ? 3 : 2;\n  let lineStride = allowColors ? 2 * (lineSize + 1) * 4 : 2 * lineSize * 4;\n\n  const positionBuffer = gl.createBuffer();\n  const quadPositions = new Float32Array([\n    -0.5, 0, -0.5, 1, 0.5, 1, // First 2D triangle of the quad\n    -0.5, 0, 0.5, 1, 0.5, 0   // Second 2D triangle of the quad\n  ]);\n\n  var api = {\n    isThickWire: true,\n    draw,\n    dispose\n  };\n\n  return api;\n\n  function dispose() {\n    if (lineBuffer) gl.deleteBuffer(lineBuffer);\n    if (positionBuffer) gl.deleteBuffer(positionBuffer);\n    if (locations) {\n      gl.disableVertexAttribArray(locations.attributes.aFrom);\n      gl.disableVertexAttribArray(locations.attributes.aFromColor);\n      gl.disableVertexAttribArray(locations.attributes.aTo);\n      gl.disableVertexAttribArray(locations.attributes.aToColor);\n      gl.disableVertexAttribArray(locations.attributes.aPosition);\n    }\n    gl.deleteProgram(lineProgram);\n    lineProgramCache.remove(programKey);\n  }\n\n  function draw(drawContext: DrawContext) {\n    if (wireCollection.count === 0) return;\n\n    let data = wireCollection.buffer;\n\n    gl.useProgram(lineProgram);\n\n    gl.uniformMatrix4fv(locations.uniforms.uModel, false, wireCollection.worldModel);\n    gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\n    gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\n    gl.uniform3fv(locations.uniforms.uOrigin, drawContext.view.position);\n    gl.uniform1f(locations.uniforms.uWidth, wireCollection.width);\n    gl.uniform2f(locations.uniforms.uResolution, drawContext.width, drawContext.height);\n\n    var color = wireCollection.color;\n    gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, quadPositions, gl.STATIC_DRAW);\n    gl.enableVertexAttribArray(locations.attributes.aPosition);\n    gl.vertexAttribPointer(locations.attributes.aPosition, 2, gl.FLOAT, false, 0, 0)\n\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);\n\n    gl.enableVertexAttribArray(locations.attributes.aFrom)\n    gl.vertexAttribPointer(locations.attributes.aFrom, lineSize, gl.FLOAT, false, lineStride, 0);\n\n    if (allowColors) {\n      gl.enableVertexAttribArray(locations.attributes.aFromColor);\n      gl.vertexAttribPointer(locations.attributes.aFromColor, 4, gl.UNSIGNED_BYTE, true, lineStride, (lineSize) * 4);\n\n      gl.enableVertexAttribArray(locations.attributes.aTo)\n      gl.vertexAttribPointer(locations.attributes.aTo, lineSize, gl.FLOAT, false, lineStride, (lineSize + 1) * 4)\n\n      gl.enableVertexAttribArray(locations.attributes.aToColor);\n      gl.vertexAttribPointer(locations.attributes.aToColor, 4, gl.UNSIGNED_BYTE, true, lineStride, (2 * lineSize + 1) * 4);\n    } else {\n      gl.enableVertexAttribArray(locations.attributes.aTo)\n      gl.vertexAttribPointer(locations.attributes.aTo, lineSize, gl.FLOAT, false, lineStride, lineSize * 4)\n    }\n\n    gle.vertexAttribDivisorANGLE(locations.attributes.aPosition, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aTo, 1);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aFrom, 1);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aFromColor, 1);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aToColor, 1);\n\n    // Now that everything is setup - render!\n    gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, wireCollection.count);\n\n    // Don't forget to clean up after we rendered:\n    gle.vertexAttribDivisorANGLE(locations.attributes.aFrom, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aTo, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aFromColor, 0);\n    gle.vertexAttribDivisorANGLE(locations.attributes.aToColor, 0);\n  }\n}\n\nfunction getShadersCode(allowColors: boolean) {\n  return { \n    vert: `attribute vec3 aPosition, aFrom, aTo;\n    varying vec4 vColor;\n    ${allowColors ? 'attribute vec4 aFromColor, aToColor;' : ''}\n    uniform vec4 uColor;\n    uniform mat4 projectionMatrix;\n    uniform mat4 uModel;\n    uniform mat4 uView;\n    uniform float uWidth;\n    uniform vec2 uResolution;\n  \n  void main() {\n    // let's get the model point to clip space:\n    vec4 clip0 = projectionMatrix * uView * uModel * vec4(aFrom, 1.0);\n    vec4 clip1 = projectionMatrix * uView * uModel * vec4(aTo, 1.0);\n\n    // And from the clip space move to the screen pixels \n    // (as we set width of the lines in pixels)\n    vec2 screen0 = uResolution * (0.5 * clip0.xy/clip0.w + 0.5);\n    vec2 screen1 = uResolution * (0.5 * clip1.xy/clip1.w + 0.5);\n\n    // this is direction along the x axis\n    vec2 xBasis = normalize(screen1 - screen0);\n    // But since we set the width, we get the direction along the Y:\n    vec2 yBasis = vec2(-xBasis.y, xBasis.x);\n\n    // Offset the original points:\n    vec2 pt0 = screen0 + uWidth * aPosition.x * yBasis;\n    vec2 pt1 = screen1 + uWidth * aPosition.x * yBasis;\n\n    // and interpolate along the Y of the instanced geometry \n    // (remember, Y changes from 0 to 1):\n    vec2 pt = mix(pt0, pt1, aPosition.y);\n    vec4 clip = mix(clip0, clip1, aPosition.y);\n\n    // Finally move back to the clip space:\n    gl_Position = vec4(clip.w * (2.0 * pt/uResolution - 1.0), clip.z, clip.w);\n    vColor = ${allowColors ? 'mix(aFromColor.abgr, aToColor.abgr, aPosition.y)' : 'uColor'};\n  }`,\n    frag: `precision mediump float;\n    varying vec4 vColor;\n    void main() {\n      gl_FragColor = vColor;\n    }`\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../src/lines/makeThickWireProgram.ts","import WireCollection from \"./WireCollection\";\nimport { ColorPoint } from \"src/global\";\nimport Color from \"src/Color\";\n\n/**\n * Wire accessor provides access to the buffer that stores wires.\n * \n * Wires are \"lines\" with 1.0 width.\n */\nexport default class WireAccessor {\n  offset: number;\n  _wire: WireCollection;\n  update: (from: any, to: any) => void;\n\n  constructor(wireCollection: WireCollection, offset: number) {\n    this.offset = offset;\n    this._wire = wireCollection;\n    this.update = wireCollection.is3D ? this.update3D : this.update2D;\n  }\n\n  update2D(from: ColorPoint, to: ColorPoint) {\n    this._wire.isDirtyBuffer = true;\n    var positions = this._wire.positions;\n    var offset = this.offset;\n\n    positions[offset + 0] = from.x;\n    positions[offset + 1] = from.y;\n    offset += 2;\n    var hasColor = this._wire.allowColors;\n    if (hasColor) {\n      if (from.color !== undefined) this._wire.colors![offset] = from.color;\n      offset += 1;\n    }\n\n    positions[offset + 0] = to.x\n    positions[offset + 1] = to.y\n    if (hasColor && to.color !== undefined) {\n      this._wire.colors![offset + 2] = to.color;\n    }\n  }\n\n  update3D(from: ColorPoint, to: ColorPoint) {\n    this._wire.isDirtyBuffer = true;\n    var positions = this._wire.positions;\n    var offset = this.offset;\n\n    positions[offset + 0] = from.x\n    positions[offset + 1] = from.y\n    positions[offset + 2] = from.z || 0\n    offset += 3;\n    var hasColor = this._wire.allowColors;\n    if (hasColor) {\n      if (from.color !== undefined) this._wire.colors![offset] = from.color;\n      else this._wire.colors![offset] = toHex(this._wire.color)\n      offset += 1;\n    }\n\n    positions[offset + 0] = to.x\n    positions[offset + 1] = to.y\n    positions[offset + 2] = to.z || 0\n    if (hasColor) {\n      if (to.color !== undefined) this._wire.colors![offset + 3] = to.color;\n      else this._wire.colors![offset + 3] = toHex(this._wire.color)\n    }\n  }\n}\n\nfunction toHex(color: Color) {\n  let r = Math.round(color.r * 255);\n  let g = Math.round(color.g * 255);\n  let b = Math.round(color.b * 255);\n  let a = Math.round(color.a * 255);\n\n  return (r << 24) | (g << 16) | (b << 8) | a;\n}\n\n\n// WEBPACK FOOTER //\n// ../src/lines/WireAccessor.ts","\nexport function mixUint32Color(c0: number, c1: number, t = 0.5) {\n  let a = toRgba(c0);\n  let b = toRgba(c1);\n\n  return [\n    a[0] * t + (1 - t) * b[0],\n    a[1] * t + (1 - t) * b[1],\n    a[2] * t + (1 - t) * b[2],\n    a[3] * t + (1 - t) * b[3],\n  ]\n}\n\nexport function toRgba(x: number) {\n  return [\n    (x >> 24) & 0xff / 255,\n    (x >> 16) & 0xff / 255,\n    (x >> 8) & 0xff / 255,\n    (x) & 0xff / 255\n  ];\n}\n\nexport function toHexColor(c: number[]) {\n  let r = hexString(c[0]);\n  let g = hexString(c[1])\n  let b = hexString(c[2])\n  return `#${r}${g}${b}`;\n}\n\nexport function hexString(x: number) {\n  let v = Math.floor(x * 255).toString(16);\n  return (v.length === 1) ? '0' + v : v;\n}\n\n\n// WEBPACK FOOTER //\n// ../src/colorUtils.ts","import Element from '../Element';\nimport makeWireProgram from './makeWireProgram';\nimport makeThickWireProgram from './makeThickWireProgram';\nimport WireAccessor from './WireAccessor';\nimport Color from '../Color';\nimport { ColorPoint, Line } from 'src/global';\nimport { DrawContext } from 'src/createScene';\nimport {mixUint32Color} from '../colorUtils';\n\nexport interface WireCollectionOptions {\n  allowColors?: boolean\n  is3D?: boolean\n  width?: number\n}\n\n/**\n * Collection of lines. TODO: I think I should rename this to LineCollection\n */\nexport default class WireCollection extends Element {\n  readonly allowColors: boolean;\n  readonly is3D: boolean;\n  readonly itemsPerLine: number;\n  capacity: number;\n  count: number;\n  color: Color;\n  /**\n   * uniform width of the line.\n   */\n  width: number;\n  buffer: ArrayBuffer;\n  positions: Float32Array; // Note: this type may not be enough sometimes.\n  colors: Uint32Array | null;\n  isDirtyBuffer: boolean;\n  private _program: any;\n\n  constructor(capacity: number, options: WireCollectionOptions) {\n    super();\n\n    let bytesPerElement = 4; // float32 or uint32 - both require 4 bytes\n    this.allowColors = !options || options.allowColors === undefined || options.allowColors;\n    this.is3D = !options || options.is3D === undefined || options.is3D;\n    this.itemsPerLine = 4; // (startX, startY) (endX, endY);\n    if (this.is3D) this.itemsPerLine += 2; // Add two more for Z;\n    if (this.allowColors) this.itemsPerLine += 2; // Add two more for color\n\n    this.capacity = capacity;\n    this.count = 0;\n    this.color = new Color(1, 1, 1, 1);\n    this.type = 'WireCollection';\n    this._program = null;\n    this.buffer = new ArrayBuffer(capacity * this.itemsPerLine * bytesPerElement)\n    this.positions = new Float32Array(this.buffer);\n    this.width = (options && options.width) || 1;\n\n    if (this.allowColors) {\n      // We are sharing the buffer!\n      this.colors = new Uint32Array(this.buffer);\n    } else {\n      this.colors = null;\n    }\n    this.isDirtyBuffer = true;\n  }\n\n  draw(gl: WebGLRenderingContext, drawContext: DrawContext) {\n    if (!this._program) {\n      this._program = isWidthForThickWire(this.width) ? makeThickWireProgram(gl, this) : makeWireProgram(gl, this);\n    }\n    this._program.draw(drawContext);\n  }\n\n  setLineWidth(newLineWidth: number) {\n    if (newLineWidth === this.width) return;\n\n    let isThickWire = isWidthForThickWire(newLineWidth);\n    this.width = newLineWidth\n\n    if (!this._program || !this.scene) return;\n    if (isThickWire && this._program.isThickWire) {\n      // next frame should handle this\n      this.scene.renderFrame();\n      return;\n    }\n\n    // we need to switch the program\n    if (this.parent) {\n      let parent = this.parent;\n      parent.removeChild(this)\n      this.dispose();\n      parent.appendChild(this);\n    }\n  }\n\n  add(line: Line) {\n    if (!line) throw new Error('Line is required');\n\n    if (this.count >= this.capacity)  {\n      this._extendArray();\n    }\n\n    var offset = this.count * this.itemsPerLine;\n    let ui = new WireAccessor(this, offset);\n    ui.update(line.from, line.to)\n\n    this.count += 1;\n    return ui;\n  }\n\n  getLineColor(from?: ColorPoint, to?: ColorPoint) {\n    if (this.allowColors && from && from.color && to && to.color) {\n      return mixUint32Color(from.color, to.color);\n    }\n    return [this.color.r, this.color.g, this.color.b, this.color.a]\n  }\n\n  forEachLine(callback: (from: ColorPoint, to: ColorPoint) => void) {\n    const {positions, count, itemsPerLine} = this;\n    let maxOffset = count * itemsPerLine;\n\n    if (this.is3D) {\n      for (let i = 0; i < maxOffset; i += itemsPerLine) {\n        let from: ColorPoint = {\n          x: positions[i],\n          y: positions[i + 1],\n          z: positions[i + 2]\n        }\n        let next = i + 3;\n        if (this.colors) {\n          from.color = this.colors[i + 3];\n          next += 1;\n        }\n        let to: ColorPoint = {\n          x: positions[next],\n          y: positions[next + 1],\n          z: positions[next + 2]\n        };\n        if (this.colors) {\n          to.color = this.colors[next + 3];\n        }\n        callback(from, to);\n      }\n    } else {\n      for (let i = 0; i < maxOffset; i += itemsPerLine) {\n        let from: ColorPoint = {\n          x: positions[i],\n          y: positions[i + 1],\n          z: 0,\n        }\n        let next = i + 2;\n        if (this.colors) {\n          from.color = this.colors[i + 2];\n          next += 1;\n        }\n        let to: ColorPoint = {\n          x: positions[next],\n          y: positions[next + 1],\n          z: 0,\n        };\n        if (this.colors) {\n          to.color = this.colors[next + 2];\n        }\n        callback(from, to);\n      }\n    }\n  }\n\n  dispose() {\n    if (this._program) {\n      // TODO: Dispose only when last using element stops using this program.\n      // this._program.dispose();\n      this._program = null;\n    }\n  }\n\n  _extendArray() {\n    // Every time we run out of space create new array twice bigger.\n    var buffer = new ArrayBuffer(this.buffer.byteLength * 2);\n    var extendedArray = new Float32Array(buffer);\n    if (this.positions) {\n      extendedArray.set(this.positions);\n    }\n\n    this.buffer = buffer;\n    this.positions = extendedArray;\n    if (this.allowColors) {\n      this.colors = new Uint32Array(buffer);\n    }\n    this.capacity *= 2;\n  }\n}\n\nfunction isWidthForThickWire(width?: number) {\n  return width !== undefined && width !== 1 && width > 0;\n}\n\n\n// WEBPACK FOOTER //\n// ../src/lines/WireCollection.ts","import utils from '../glUtils';\nimport createMultiKeyCache from './createMultiKeyCache';\n\nlet lineProgramCache = createMultiKeyCache();\n\nexport default function makeLineStripProgram(gl, lineStripCollection) {\n  let {allowColors, is3D} = lineStripCollection;\n  allowColors = !!allowColors; // coerce to boolean.\n\n  const programKey = [allowColors, gl];\n  let lineProgram = lineProgramCache.get(programKey);\n  const itemsPerVertex = 2 + (allowColors ? 1 : 0) + (is3D ? 1 : 0);\n\n  let data = lineStripCollection.buffer;\n\n  if (!lineProgram) {\n    const { lineFSSrc, lineVSSrc } = getShadersCode(allowColors);\n    var lineVSShader = utils.compile(gl, gl.VERTEX_SHADER, lineVSSrc);\n    var lineFSShader = utils.compile(gl, gl.FRAGMENT_SHADER, lineFSSrc);\n    lineProgram = utils.link(gl, lineVSShader, lineFSShader);\n    lineProgramCache.set(programKey, lineProgram);\n  }\n\n  var locations = utils.getLocations(gl, lineProgram);\n  let lineSize = is3D ? 3 : 2;\n  let coloredLineStride = (lineSize + 1) * 4;\n  let colorOffset = lineSize * 4;\n\n  var lineBuffer = gl.createBuffer();\n\n  var api = {\n    draw,\n    dispose\n  };\n\n  return api;\n\n  function dispose() {\n    gl.deleteBuffer(lineBuffer);\n    gl.deleteProgram(lineProgram);\n    lineProgramCache.remove(programKey);\n  }\n\n  function draw(lineStripCollection, drawContext) {\n    // TODO: Why lineStripCollection passed second time?\n    if (data.length === 0) return;\n\n    gl.useProgram(lineProgram);\n\n    gl.uniformMatrix4fv(locations.uniforms.uModel, false, lineStripCollection.worldModel);\n    gl.uniformMatrix4fv(locations.uniforms.projectionMatrix, false, drawContext.projection);\n    gl.uniformMatrix4fv(locations.uniforms.uView, false, drawContext.view.matrix);\n    gl.uniform3fv(locations.uniforms.uOrigin, drawContext.view.position);\n\n    let {color, nextElementIndex, madeFullCircle} = lineStripCollection;\n    gl.uniform4f(locations.uniforms.uColor, color.r, color.g, color.b, color.a);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, lineBuffer);\n    gl.enableVertexAttribArray(locations.attributes.aPosition);\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);\n    if (allowColors) {\n      gl.vertexAttribPointer(\n        locations.attributes.aPosition,\n        lineSize,\n        gl.FLOAT,\n        false,\n        coloredLineStride,\n        0\n      );\n\n      gl.enableVertexAttribArray(locations.attributes.aColor);\n      gl.vertexAttribPointer(\n        locations.attributes.aColor,\n        4,\n        gl.UNSIGNED_BYTE,\n        true,\n        coloredLineStride,\n        colorOffset\n      );\n    } else {\n      gl.vertexAttribPointer(\n        locations.attributes.aPosition,\n        lineSize,\n        gl.FLOAT,\n        false,\n        0,\n        0\n      );\n    }\n\n    if (madeFullCircle) {\n      let elementsCount = data.byteLength / 4 / itemsPerVertex - nextElementIndex;\n      gl.drawArrays(gl.LINE_STRIP, nextElementIndex, elementsCount);\n      if (nextElementIndex > 1) gl.drawArrays(gl.LINE_STRIP, 0, nextElementIndex - 1);\n    } else {\n      gl.drawArrays(gl.LINE_STRIP, 1, nextElementIndex - 1);\n    }\n  }\n}\n\nfunction getShadersCode(allowColors) {\n  const lineFSSrc = `precision mediump float;\nvarying vec4 vColor;\nvoid main() {\n  gl_FragColor = vColor;\n}\n`;\n  const lineVSSrc = `attribute vec3 aPosition;\n  varying vec4 vColor;\n  ${allowColors ? 'attribute vec4 aColor;' : ''}\n  uniform vec4 uColor;\n  uniform mat4 projectionMatrix;\n  uniform mat4 uModel;\n  uniform mat4 uView;\n  void main() {\n    gl_Position = projectionMatrix * uView * uModel * vec4(aPosition, 1.0);\n    vColor = ${allowColors ? 'aColor.abgr' : 'uColor'};\n  }`;\n  return { lineVSSrc, lineFSSrc };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/lines/makeLineStripProgram.ts","import Element from '../Element';\nimport Color from '../Color';\nimport makeLineStripProgram from './makeLineStripProgram';\nimport {DrawContext} from 'src/createScene';\nimport {ColorPoint} from 'src/global';\n\nexport interface LineStripOptions {\n  allowColors?: boolean;\n  is3D?: boolean;\n}\n\n/**\n * Line strip is implemented as a cyclic buffer. Each subsequent element of the\n * buffer is connected with a line to the previous element of the buffer.\n */\nexport default class LineStripCollection extends Element {\n  drawCount: number;\n  madeFullCircle: boolean;\n  allowColors: boolean;\n  is3D: boolean;\n  itemsPerLine: number;\n  capacity: number;\n  nextElementIndex: number;\n  color: Color;\n  buffer: ArrayBuffer;\n  positions: Float32Array;\n  colors: Uint32Array | null;\n\n  private _program: any;\n\n  constructor(capacity: number, options?: LineStripOptions) {\n    super();\n\n    let bytesPerElement = 4;\n    this.drawCount = 0;\n    this.madeFullCircle = false;\n\n    this.allowColors = !options || options.allowColors === undefined || options.allowColors;\n    this.is3D = !options || options.is3D === undefined || options.is3D;\n\n    this.itemsPerLine = 2;\n    if (this.allowColors) this.itemsPerLine += 1;\n    if (this.is3D) this.itemsPerLine += 1;\n\n    this.capacity = capacity;\n    this.nextElementIndex = 1;\n    this._program = null;\n    this.color = new Color(1, 1, 1, 1);\n\n    // Add extra one item to the buffer capacity to join two line strips and form a cycle.\n    this.buffer = new ArrayBuffer((capacity + 1) * this.itemsPerLine * bytesPerElement)\n    this.positions = new Float32Array(this.buffer);\n\n    if (this.allowColors) {\n      // We are sharing the buffer!\n      this.colors = new Uint32Array(this.buffer);\n    } else {\n      this.colors = null;\n    }\n  }\n\n  draw(gl: WebGLRenderingContext, drawContext: DrawContext) {\n    if (!this._program) {\n      this._program = makeLineStripProgram(gl, this);\n    }\n    this._program.draw(this, drawContext);\n  }\n\n  add(point: ColorPoint) {\n    let offset = this.nextElementIndex * this.itemsPerLine;\n    let positions = this.positions;\n    positions[offset] = point.x; offset += 1;\n    positions[offset] = point.y; offset += 1;\n    if (this.is3D) {\n      positions[offset] = point.z || 0; offset += 1;\n    }\n    if (this.colors) {\n      this.colors[offset] = point.color === undefined ? 0xffffffff : point.color;\n    }\n    this.nextElementIndex += 1;\n    this.drawCount += 1;\n\n    if (this.nextElementIndex > this.capacity) {\n      this.nextElementIndex = 1;\n      let firstOffset = 0;\n      positions[firstOffset] = point.x; firstOffset += 1;\n      positions[firstOffset] = point.y; firstOffset += 1;\n      if (this.is3D) {\n        positions[firstOffset] = point.z || 0; firstOffset += 1;\n      }\n      if (this.colors) {\n        this.colors[firstOffset] = this.colors[offset];\n      }\n      this.madeFullCircle = true;\n    }\n  }\n\n  dispose() {\n    if (this._program) {\n      this._program.dispose();\n      this._program = null;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/lines/LineStripCollection.ts","export default function isWebGLEnabled(canvas: HTMLCanvasElement) {\n  try {\n    if (!window.WebGLRenderingContext) return false;\n    if (!canvas) canvas = document.createElement('canvas');\n    return !!(canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));\n  } catch (e) {\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/isWebGLEnabled.ts","/**\n * @fileOverview Contains definition of the core graph object.\n */\n\n// TODO: need to change storage layer:\n// 1. Be able to get all nodes O(1)\n// 2. Be able to get number of links O(1)\n\n/**\n * @example\n *  var graph = require('ngraph.graph')();\n *  graph.addNode(1);     // graph has one node.\n *  graph.addLink(2, 3);  // now graph contains three nodes and one link.\n *\n */\nmodule.exports = createGraph;\n\nvar eventify = require('ngraph.events');\n\n/**\n * Creates a new graph\n */\nfunction createGraph(options) {\n  // Graph structure is maintained as dictionary of nodes\n  // and array of links. Each node has 'links' property which\n  // hold all links related to that node. And general links\n  // array is used to speed up all links enumeration. This is inefficient\n  // in terms of memory, but simplifies coding.\n  options = options || {};\n  if ('uniqueLinkId' in options) {\n    console.warn(\n      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\\n' +\n      'Use `multigraph` option instead\\n',\n      '\\n',\n      'Note: there is also change in default behavior: From now on each graph\\n'+\n      'is considered to be not a multigraph by default (each edge is unique).'\n    );\n\n    options.multigraph = options.uniqueLinkId;\n  }\n\n  // Dear reader, the non-multigraphs do not guarantee that there is only\n  // one link for a given pair of node. When this option is set to false\n  // we can save some memory and CPU (18% faster for non-multigraph);\n  if (options.multigraph === undefined) options.multigraph = false;\n\n  if (typeof Map !== 'function') {\n    // TODO: Should we polyfill it ourselves? We don't use much operations there..\n    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');\n  } \n\n  var nodes = new Map();\n  var links = [],\n    // Hash of multi-edges. Used to track ids of edges between same nodes\n    multiEdges = {},\n    suspendEvents = 0,\n\n    createLink = options.multigraph ? createUniqueLink : createSingleLink,\n\n    // Our graph API provides means to listen to graph changes. Users can subscribe\n    // to be notified about changes in the graph by using `on` method. However\n    // in some cases they don't use it. To avoid unnecessary memory consumption\n    // we will not record graph changes until we have at least one subscriber.\n    // Code below supports this optimization.\n    //\n    // Accumulates all changes made during graph updates.\n    // Each change element contains:\n    //  changeType - one of the strings: 'add', 'remove' or 'update';\n    //  node - if change is related to node this property is set to changed graph's node;\n    //  link - if change is related to link this property is set to changed graph's link;\n    changes = [],\n    recordLinkChange = noop,\n    recordNodeChange = noop,\n    enterModification = noop,\n    exitModification = noop;\n\n  // this is our public API:\n  var graphPart = {\n    /**\n     * Adds node to the graph. If node with given id already exists in the graph\n     * its data is extended with whatever comes in 'data' argument.\n     *\n     * @param nodeId the node's identifier. A string or number is preferred.\n     * @param [data] additional data for the node being added. If node already\n     *   exists its data object is augmented with the new one.\n     *\n     * @return {node} The newly added node or node with given id if it already exists.\n     */\n    addNode: addNode,\n\n    /**\n     * Adds a link to the graph. The function always create a new\n     * link between two nodes. If one of the nodes does not exists\n     * a new node is created.\n     *\n     * @param fromId link start node id;\n     * @param toId link end node id;\n     * @param [data] additional data to be set on the new link;\n     *\n     * @return {link} The newly created link\n     */\n    addLink: addLink,\n\n    /**\n     * Removes link from the graph. If link does not exist does nothing.\n     *\n     * @param link - object returned by addLink() or getLinks() methods.\n     *\n     * @returns true if link was removed; false otherwise.\n     */\n    removeLink: removeLink,\n\n    /**\n     * Removes node with given id from the graph. If node does not exist in the graph\n     * does nothing.\n     *\n     * @param nodeId node's identifier passed to addNode() function.\n     *\n     * @returns true if node was removed; false otherwise.\n     */\n    removeNode: removeNode,\n\n    /**\n     * Gets node with given identifier. If node does not exist undefined value is returned.\n     *\n     * @param nodeId requested node identifier;\n     *\n     * @return {node} in with requested identifier or undefined if no such node exists.\n     */\n    getNode: getNode,\n\n    /**\n     * Gets number of nodes in this graph.\n     *\n     * @return number of nodes in the graph.\n     */\n    getNodeCount: getNodeCount,\n\n    /**\n     * Gets total number of links in the graph.\n     */\n    getLinkCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getLinksCount: getLinkCount,\n    \n    /**\n     * Synonym for `getNodeCount()`\n     */\n    getNodesCount: getNodeCount,\n\n    /**\n     * Gets all links (inbound and outbound) from the node with given id.\n     * If node with given id is not found null is returned.\n     *\n     * @param nodeId requested node identifier.\n     *\n     * @return Array of links from and to requested node if such node exists;\n     *   otherwise null is returned.\n     */\n    getLinks: getLinks,\n\n    /**\n     * Invokes callback on each node of the graph.\n     *\n     * @param {Function(node)} callback Function to be invoked. The function\n     *   is passed one argument: visited node.\n     */\n    forEachNode: forEachNode,\n\n    /**\n     * Invokes callback on every linked (adjacent) node to the given one.\n     *\n     * @param nodeId Identifier of the requested node.\n     * @param {Function(node, link)} callback Function to be called on all linked nodes.\n     *   The function is passed two parameters: adjacent node and link object itself.\n     * @param oriented if true graph treated as oriented.\n     */\n    forEachLinkedNode: forEachLinkedNode,\n\n    /**\n     * Enumerates all links in the graph\n     *\n     * @param {Function(link)} callback Function to be called on all links in the graph.\n     *   The function is passed one parameter: graph's link object.\n     *\n     * Link object contains at least the following fields:\n     *  fromId - node id where link starts;\n     *  toId - node id where link ends,\n     *  data - additional data passed to graph.addLink() method.\n     */\n    forEachLink: forEachLink,\n\n    /**\n     * Suspend all notifications about graph changes until\n     * endUpdate is called.\n     */\n    beginUpdate: enterModification,\n\n    /**\n     * Resumes all notifications about graph changes and fires\n     * graph 'changed' event in case there are any pending changes.\n     */\n    endUpdate: exitModification,\n\n    /**\n     * Removes all nodes and links from the graph.\n     */\n    clear: clear,\n\n    /**\n     * Detects whether there is a link between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     * NOTE: this function is synonim for getLink()\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    hasLink: getLink,\n\n    /**\n     * Detects whether there is a node with given id\n     * \n     * Operation complexity is O(1)\n     * NOTE: this function is synonim for getNode()\n     *\n     * @returns node if there is one; Falsy value otherwise.\n     */\n    hasNode: getNode,\n\n    /**\n     * Gets an edge between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     *\n     * @param {string} fromId link start identifier\n     * @param {string} toId link end identifier\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    getLink: getLink\n  };\n\n  // this will add `on()` and `fire()` methods.\n  eventify(graphPart);\n\n  monitorSubscribers();\n\n  return graphPart;\n\n  function monitorSubscribers() {\n    var realOn = graphPart.on;\n\n    // replace real `on` with our temporary on, which will trigger change\n    // modification monitoring:\n    graphPart.on = on;\n\n    function on() {\n      // now it's time to start tracking stuff:\n      graphPart.beginUpdate = enterModification = enterModificationReal;\n      graphPart.endUpdate = exitModification = exitModificationReal;\n      recordLinkChange = recordLinkChangeReal;\n      recordNodeChange = recordNodeChangeReal;\n\n      // this will replace current `on` method with real pub/sub from `eventify`.\n      graphPart.on = realOn;\n      // delegate to real `on` handler:\n      return realOn.apply(graphPart, arguments);\n    }\n  }\n\n  function recordLinkChangeReal(link, changeType) {\n    changes.push({\n      link: link,\n      changeType: changeType\n    });\n  }\n\n  function recordNodeChangeReal(node, changeType) {\n    changes.push({\n      node: node,\n      changeType: changeType\n    });\n  }\n\n  function addNode(nodeId, data) {\n    if (nodeId === undefined) {\n      throw new Error('Invalid node identifier');\n    }\n\n    enterModification();\n\n    var node = getNode(nodeId);\n    if (!node) {\n      node = new Node(nodeId, data);\n      recordNodeChange(node, 'add');\n    } else {\n      node.data = data;\n      recordNodeChange(node, 'update');\n    }\n\n    nodes.set(nodeId, node);\n\n    exitModification();\n    return node;\n  }\n\n  function getNode(nodeId) {\n    return nodes.get(nodeId);\n  }\n\n  function removeNode(nodeId) {\n    var node = getNode(nodeId);\n    if (!node) {\n      return false;\n    }\n\n    enterModification();\n\n    var prevLinks = node.links;\n    if (prevLinks) {\n      node.links = null;\n      for(var i = 0; i < prevLinks.length; ++i) {\n        removeLink(prevLinks[i]);\n      }\n    }\n\n    nodes.delete(nodeId)\n\n    recordNodeChange(node, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n\n  function addLink(fromId, toId, data) {\n    enterModification();\n\n    var fromNode = getNode(fromId) || addNode(fromId);\n    var toNode = getNode(toId) || addNode(toId);\n\n    var link = createLink(fromId, toId, data);\n\n    links.push(link);\n\n    // TODO: this is not cool. On large graphs potentially would consume more memory.\n    addLinkToNode(fromNode, link);\n    if (fromId !== toId) {\n      // make sure we are not duplicating links for self-loops\n      addLinkToNode(toNode, link);\n    }\n\n    recordLinkChange(link, 'add');\n\n    exitModification();\n\n    return link;\n  }\n\n  function createSingleLink(fromId, toId, data) {\n    var linkId = makeLinkId(fromId, toId);\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function createUniqueLink(fromId, toId, data) {\n    // TODO: Get rid of this method.\n    var linkId = makeLinkId(fromId, toId);\n    var isMultiEdge = multiEdges.hasOwnProperty(linkId);\n    if (isMultiEdge || getLink(fromId, toId)) {\n      if (!isMultiEdge) {\n        multiEdges[linkId] = 0;\n      }\n      var suffix = '@' + (++multiEdges[linkId]);\n      linkId = makeLinkId(fromId + suffix, toId + suffix);\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function getNodeCount() {\n    return nodes.size;\n  }\n\n  function getLinkCount() {\n    return links.length;\n  }\n\n  function getLinks(nodeId) {\n    var node = getNode(nodeId);\n    return node ? node.links : null;\n  }\n\n  function removeLink(link) {\n    if (!link) {\n      return false;\n    }\n    var idx = indexOfElementInArray(link, links);\n    if (idx < 0) {\n      return false;\n    }\n\n    enterModification();\n\n    links.splice(idx, 1);\n\n    var fromNode = getNode(link.fromId);\n    var toNode = getNode(link.toId);\n\n    if (fromNode) {\n      idx = indexOfElementInArray(link, fromNode.links);\n      if (idx >= 0) {\n        fromNode.links.splice(idx, 1);\n      }\n    }\n\n    if (toNode) {\n      idx = indexOfElementInArray(link, toNode.links);\n      if (idx >= 0) {\n        toNode.links.splice(idx, 1);\n      }\n    }\n\n    recordLinkChange(link, 'remove');\n\n    exitModification();\n\n    return true;\n  }\n\n  function getLink(fromNodeId, toNodeId) {\n    // TODO: Use sorted links to speed this up\n    var node = getNode(fromNodeId),\n      i;\n    if (!node || !node.links) {\n      return null;\n    }\n\n    for (i = 0; i < node.links.length; ++i) {\n      var link = node.links[i];\n      if (link.fromId === fromNodeId && link.toId === toNodeId) {\n        return link;\n      }\n    }\n\n    return null; // no link.\n  }\n\n  function clear() {\n    enterModification();\n    forEachNode(function(node) {\n      removeNode(node.id);\n    });\n    exitModification();\n  }\n\n  function forEachLink(callback) {\n    var i, length;\n    if (typeof callback === 'function') {\n      for (i = 0, length = links.length; i < length; ++i) {\n        callback(links[i]);\n      }\n    }\n  }\n\n  function forEachLinkedNode(nodeId, callback, oriented) {\n    var node = getNode(nodeId);\n\n    if (node && node.links && typeof callback === 'function') {\n      if (oriented) {\n        return forEachOrientedLink(node.links, nodeId, callback);\n      } else {\n        return forEachNonOrientedLink(node.links, nodeId, callback);\n      }\n    }\n  }\n\n  function forEachNonOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;\n\n      quitFast = callback(nodes.get(linkedNodeId), link);\n      if (quitFast) {\n        return true; // Client does not need more iterations. Break now.\n      }\n    }\n  }\n\n  function forEachOrientedLink(links, nodeId, callback) {\n    var quitFast;\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      if (link.fromId === nodeId) {\n        quitFast = callback(nodes.get(link.toId), link)\n        if (quitFast) {\n          return true; // Client does not need more iterations. Break now.\n        }\n      }\n    }\n  }\n\n  // we will not fire anything until users of this library explicitly call `on()`\n  // method.\n  function noop() {}\n\n  // Enter, Exit modification allows bulk graph updates without firing events.\n  function enterModificationReal() {\n    suspendEvents += 1;\n  }\n\n  function exitModificationReal() {\n    suspendEvents -= 1;\n    if (suspendEvents === 0 && changes.length > 0) {\n      graphPart.fire('changed', changes);\n      changes.length = 0;\n    }\n  }\n\n  function forEachNode(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);\n    }\n\n    var valuesIterator = nodes.values();\n    var nextValue = valuesIterator.next();\n    while (!nextValue.done) {\n      if (callback(nextValue.value)) {\n        return true; // client doesn't want to proceed. Return.\n      }\n      nextValue = valuesIterator.next();\n    }\n  }\n}\n\n// need this for old browsers. Should this be a separate module?\nfunction indexOfElementInArray(element, array) {\n  if (!array) return -1;\n\n  if (array.indexOf) {\n    return array.indexOf(element);\n  }\n\n  var len = array.length,\n    i;\n\n  for (i = 0; i < len; i += 1) {\n    if (array[i] === element) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Internal structure to represent node;\n */\nfunction Node(id, data) {\n  this.id = id;\n  this.links = null;\n  this.data = data;\n}\n\nfunction addLinkToNode(node, link) {\n  if (node.links) {\n    node.links.push(link);\n  } else {\n    node.links = [link];\n  }\n}\n\n/**\n * Internal structure to represent links;\n */\nfunction Link(fromId, toId, data, id) {\n  this.fromId = fromId;\n  this.toId = toId;\n  this.data = data;\n  this.id = id;\n}\n\nfunction makeLinkId(fromId, toId) {\n  return fromId.toString() + '👉 ' + toId.toString();\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/ngraph.graph/index.js","import {mat4, vec4} from 'gl-matrix';\nimport createGraph, {NodeId} from 'ngraph.graph';\nimport Element from '../Element';\nimport { WglScene, DrawContext } from 'src/createScene';\nimport { ColorPoint } from 'src/global';\nimport {toHexColor} from '../colorUtils';\n\n\ntype StackNode = {\n  from?: NodeId,\n  to: NodeId\n};\n\ntype ProjectedPoint = {\n  x: number,\n  y: number,\n  isBehind?: boolean\n}\n\ntype LineVisitor = (from: ColorPoint, to: ColorPoint) => void;\n\ntype LineCollectionTrait = {\n  forEachLine: (visitor: LineVisitor) => void;\n  getLineColor: (from?: ColorPoint, to?: ColorPoint) => number[];\n  width?: number\n} & Element;\n\n/**\n * When exporting a collection of wires we want to limit amount of movement of a pen\n * head. For this we construct a graph of all paths, and perform DFS on it. It gives\n * fewer paths overall and a nice order for drawing.\n */\ntype ExportGraph = import('ngraph.graph').Graph<ProjectedPoint, any> & import('ngraph.events').EventedType\n\ninterface SVGRenderingContext extends DrawContext {\n  background: string\n  write: (s: string) => void\n  scene: WglScene\n}\n\ninterface SVGExportSettings {\n  /**\n   * Called before a collection of points is printed to the output. If function returns\n   * false, then this collection of points is not printed.\n   */\n  beforeWrite?: (points: ProjectedPoint[]) => boolean;\n\n  /**\n   * Allow consumers to write a license information (right between <?xml> and <!doctype..>)\n   */\n  open?: () => string;\n\n  /**\n   * Allow consumers to write any additional elements before closing the </svg> document\n   */\n  close?: () => string;\n\n  /**\n   * When this is boolean `true`, each value is `Math.round()`'ed  before it is printed. If the\n   * value is a `number` then it indicates amount of significant digits for the rounding.\n   * \n   * `false` by default - values are printed at maximum precision.\n   */\n  round?: boolean | number;\n}\n\nexport default function svg(scene: WglScene, settings: SVGExportSettings = {}) {\n  const sceneRoot = scene.getRoot();\n  sceneRoot.updateWorldTransform();\n\n  let out: string[] = [];\n  let context = Object.assign({\n    background: toHexColor(scene.getClearColor()),\n    write,\n    scene\n  }, scene.getDrawContext());\n\n  printHeader(context, settings);\n  draw(sceneRoot.children);\n  closeDocument(context, settings);\n\n  return out.join('\\n');\n\n  function write(str: string) {\n    out.push(str);\n  }\n\n  function draw(children: Element[]) {\n    let layerSettings = {\n      beforeWrite: settings.beforeWrite || yes,\n      round: settings.round === undefined ? undefined: settings.round\n    };\n\n    for (var i = 0; i < children.length; ++i) {\n      const child = children[i];\n      const lineCollection = getLineRenderTrait(child);\n      if (lineCollection) renderLinesCollection(lineCollection, context, layerSettings);\n\n      draw(child.children);\n    }\n  }\n}\n\nfunction getLineRenderTrait(child: any): LineCollectionTrait | undefined {\n  if (!child || child['svgInvisible']) return;\n  if (child.forEachLine) return child;\n}\n\nfunction yes() { return true; }\n\nfunction printHeader(context: SVGRenderingContext, settings: SVGExportSettings) {\n  const viewBox = `0 0 ${context.width} ${context.height}`;\n  context.write('<?xml version=\"1.0\" encoding=\"utf-8\"?>');\n\n  if (settings.open) {\n    context.write(settings.open());\n  }\n\n  context.write(`<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    viewBox=\"${viewBox}\">\n<style>\n  path {\n   vector-effect: non-scaling-stroke;\n  }\n</style>\n`)\n  if (context.background) {\n    context.write(\n`<rect id=\"background\" fill=\"${context.background}\" x=\"0\" y=\"0\" width=\"${context.width}\" height=\"${context.height}\"></rect>`\n    );\n  }\n}\n\nfunction closeDocument(context: SVGRenderingContext, settings: SVGExportSettings) {\n  if (settings.close) {\n    context.write(settings.close());\n  }\n  context.write('</svg>');\n}\n\nfunction renderLinesCollection(element: LineCollectionTrait, context: SVGRenderingContext, settings: SVGExportSettings) {\n  if (!element.scene) return;\n  let {beforeWrite, round} = settings;\n\n  let elementGraph = createGraph() as ExportGraph;\n\n  let project = getProjector(element, context, round)\n\n  element.forEachLine((from, to) => {\n    let f = project(from.x, from.y, from.z);\n    let t = project(to.x, to.y, to.z);\n    if (f.isBehind || t.isBehind) return; // Not quite accurate.\n    if (clipToViewPort(f, t, context.width, context.height)) {\n      let stroke = toHexColor(element.getLineColor(from, to))\n      let fromId = `${f.x}|${f.y}`;\n      let toId = `${t.x}|${t.y}`;\n\n      if (!elementGraph.getNode(fromId)) elementGraph.addNode(fromId, f);\n      if (!elementGraph.getNode(toId)) elementGraph.addNode(toId, t);\n      if (!elementGraph.hasLink(fromId, toId)) elementGraph.addLink(fromId, toId, { stroke })\n    }\n  });\n\n  if (elementGraph.getLinksCount() === 0) return; // all outside\n\n  const strokeColor = toHexColor(element.getLineColor());\n  let elementWidth = element.width === undefined ? 1 : element.width;\n  const strokeWidth = elementWidth / element.scene.getPixelRatio();\n  let style = `fill=\"none\" stroke-width=\"${strokeWidth}\" stroke=\"${strokeColor}\"`\n  let openTag = (element as any).id ? `<g id=\"${(element as any).id}\" ${style}>` : `<g ${style}>`\n  context.write(openTag);\n\n  let globalOrder = getGlobalOrder(elementGraph);\n  let lastNode: NodeId | null = null;\n  let lastPath: NodeId[] | null = null;\n  globalOrder.forEach(link => {\n    let {from, to} = link;\n    if (from !== lastNode) {\n      if (to === lastNode) {\n        // Swap them so that we can keep the path going.\n        let temp = from as NodeId;\n        from = to;\n        to = temp;\n      } else {\n        commitLastPath();\n        lastPath = [];\n      }\n    }\n    if (lastPath) lastPath.push(from as NodeId, to);\n    lastNode = to;\n  });\n  commitLastPath();\n\n  context.write('</g>');\n\n  function commitLastPath() {\n    if (!lastPath) return;\n    let points = lastPath.map(x => {\n      let node = elementGraph.getNode(x);\n      if (node) return node.data;\n      throw new Error('Node is found in the path construction, but missing in the graph')\n    });\n\n    if (beforeWrite && !beforeWrite(points)) {\n      return;\n    }\n\n    let d = `M${points[0].x} ${points[0].y} L` + points.slice(1).map(p => `${p.x} ${p.y}`).join(',');\n    context.write(`<path d=\"${d}\"/>`)\n  }\n}\n\nfunction getGlobalOrder(graph: ExportGraph) {\n  let visited = new Set();\n  let globalOrder: StackNode[] = [];\n  let stack: StackNode[] = [];\n\n  graph.forEachNode(node => {\n    if (visited.has(node.id)) return;\n    stack.push({to: node.id});\n    runDFS();\n  });\n\n  return globalOrder;\n\n  function runDFS() {\n    while (stack.length) {\n      let fromTo = stack.pop() as StackNode;\n\n      if (fromTo.to && fromTo.from) {\n        globalOrder.push({from: fromTo.from, to: fromTo.to});\n      }\n\n      if (visited.has(fromTo.to)) continue;\n      visited.add(fromTo.to);\n\n      graph.forEachLinkedNode(fromTo.to, function(other) {\n        if (!visited.has(other.id)) stack.push({from: (fromTo as StackNode).to, to: other.id});\n      }, false);\n    }\n  }\n}\n\n\nfunction getProjector(element: Element, context: SVGRenderingContext, roundFactor?: number | boolean) {\n  const {width, height, projection, view} = context;\n  const mvp = mat4.multiply(mat4.create(), projection, view.matrix)\n  mat4.multiply(mvp, mvp, element.worldModel);\n\n  const rounder = makeRounder(roundFactor);\n\n  return function(sceneX: number, sceneY: number, sceneZ?: number) {\n    const coordinate = vec4.transformMat4([0, 0, 0, 0], [sceneX, sceneY, sceneZ || 0, 1], mvp);\n    var x = rounder(width * (coordinate[0]/coordinate[3] + 1) * 0.5);\n    var y = rounder(height * (1 - (coordinate[1]/coordinate[3] + 1) * 0.5));\n    return {x, y, isBehind: coordinate[3] <= 0} as ProjectedPoint;\n  }\n}\n\nfunction id(x) {\n  return x;\n}\n\nfunction makeRounder(roundFactor?: number | boolean) {\n  if (roundFactor === undefined) return id;\n  if (roundFactor === true || roundFactor === 0) {\n    return Math.round;\n  }\n  return function(x: number) {\n    return Math.round(x * (roundFactor as number)) / (roundFactor as number);\n  }\n}\n\n/**\n * Clips line to the screen rect\n */\nfunction clipToViewPort(from: ProjectedPoint, to: ProjectedPoint, width: number, height: number) {\n  return clipToPlane(from, to, {x: 0, y: 0}, {x: 0, y: 1}) &&\n      clipToPlane(from, to, {x: 0, y: 0}, {x: 1, y: 0}) &&\n      clipToPlane(from, to, {x: 0, y: height}, {x: 0, y: -1}) &&\n      clipToPlane(from, to, {x: width, y: 0}, {x: -1, y: 0});\n}\n\nfunction clipToPlane(q1: ProjectedPoint, q2: ProjectedPoint, p: ProjectedPoint, n: ProjectedPoint) {\n  let d1 = getDotNorm(q1, p, n);\n  let d2 = getDotNorm(q2, p, n);\n  if (d1 <= 0 && d2 <= 0) return false; // they are both out (or degenerative case)\n  if (d1 > 0 && d2 > 0) return true; // they are entirely in, no need to clip\n\n  // This means one is out, the other one is in.\n  // see https://www.youtube.com/watch?v=og7hOFypKpQ&list=PL_w_qWAQZtAZhtzPI5pkAtcUVgmzdAP8g&index=6\n  let t = d1 / (d1 - d2);\n  let x = q1.x + t * (q2.x - q1.x);\n  let y = q1.y + t * (q2.y - q1.y);\n  if (d1 <= 0) {\n    q1.x = x; q1.y = y;\n  } else {\n    q2.x = x; q2.y = y;\n  }\n  return true;\n}\n\nfunction getDotNorm(q: ProjectedPoint, p: ProjectedPoint, n: ProjectedPoint) {\n  return (q.x - p.x) * n.x + (q.y - p.y) * n.y;\n}\n\n\n// WEBPACK FOOTER //\n// ../src/save/svg.ts","import WireCollection from \"../lines/WireCollection\";\nimport { WglScene } from \"src/createScene\";\nimport WireAccessor from \"src/lines/WireAccessor\";\n\ninterface GuidOptions {\n  /**\n   * A color for the grid lines 0xRRGGBBAA\n   */\n  lineColor?: number;\n  /**\n   * Maximum alpha transparency that can be used for the grid lines\n   */\n  maxAlpha?: number;\n\n  /**\n   * Cursor color 0xRRGGBBAA\n   */\n  cursorColor?: number;\n\n  /**\n   * If set to false, the cursor is not rendered\n   */\n  showCursor?: boolean;\n\n  /**\n   * If set to false, the grid is not rendered\n   */\n  showGrid?: boolean;\n}\n\nexport default function createGuide(scene: WglScene, options: GuidOptions = {}) {\n  let camera = scene.getCamera();\n  const nullElement = {\n      redraw: Function.prototype,\n      dispose: Function.prototype\n    }\n\n  // TODO: Move these to options.\n  let lineColor = options.lineColor || 0x0bb1b122;\n  let maxAlpha = options.maxAlpha || 0xff;\n  let grid = createGrid(lineColor);\n  let cursor = createCursor(options.cursorColor || 0xffffffff);\n  scene.on('transform', update);\n\n  return {\n    dispose,\n    update\n  }\n\n  function dispose() {\n    scene.off('transform', update);\n    grid.dispose();\n    cursor.dispose();\n  }\n\n  function update() {\n    grid.redraw();\n    cursor.redraw();\n  }\n\n  function createGrid(color: number) {\n    if (options.showGrid === false) return nullElement; \n    let count = 32*2;\n    let levelUp = new WireCollection(2*(count + 1), {width: 2.5, is3D: true, allowColors: true})\n    levelUp['svgInvisible'] = true;\n\n    let levelDown = new WireCollection(2*(count + 1), {width: 1.5, is3D: true, allowColors: true})\n    levelDown['svgInvisible'] = true;\n    const drawContext = scene.getDrawContext();\n    let center = drawContext.center;\n    let r = camera.getRadius()\n\n    redraw();\n\n    scene.appendChild(levelDown);\n    scene.appendChild(levelUp);\n\n    return {redraw, dispose};\n\n    function dispose() {\n      scene.removeChild(levelDown);\n      scene.removeChild(levelUp);\n    }\n\n    function getAlpha(x: number) {\n      return 1 - (x - Math.floor(x));\n    }\n\n    function redraw() {\n      r = camera.getRadius()\n      let size = r * Math.tan(drawContext.fov / 2);\n      let l = Math.log10( size)\n      let step = Math.pow(10, Math.floor(l));\n      let t = getAlpha(l);\n      let alpha = Math.round(t * maxAlpha);\n\n      let left = Math.floor((center[0])/step) * step - Math.floor(count * step/2);\n      let top = Math.floor((center[1])/step) * step - Math.floor(count * step/2)\n      let right = left + step * count;\n      let bottom = top + step * count;\n      drawLevel(levelDown, left, top, right, bottom, step, alpha);\n      drawLevel(levelUp, left, top, right, bottom, step * 10, maxAlpha - alpha);\n    }\n\n    function drawLevel(geometry, left, top, right, bottom, step, alpha) {\n      geometry.model[14] = center[2];\n      geometry.worldTransformNeedsUpdate = true;\n      geometry.count = 0;\n\n      let gridColor = (color & 0xffffff00) | alpha;\n\n      let stepTop = Math.ceil(top/step) * step;\n      for (let i = stepTop; i <= bottom; i += step) {\n        geometry.add({\n          from: { x: left, y: i, color: gridColor },\n          to: { x: right, y: i, color: gridColor}\n        });\n      }\n      let stepLeft = Math.ceil(left/step) * step;\n      for (let i = stepLeft; i <= right; i += step) {\n        geometry.add({\n          from: { x: i, y: top, color: gridColor },\n          to: { x: i, y: bottom, color: gridColor}\n        });\n      }\n    }\n  }\n\n  function createCursor(color: number) {\n    if (options.showCursor === false) return nullElement; \n\n    let count = 360;\n    let center = scene.getDrawContext().center;\n    let geometry = new WireCollection(count + 1 , {width: 3, is3D: true, allowColors: true})\n    geometry['svgInvisible'] = true\n\n    let prevPoint;\n    let points: WireAccessor[] = [];\n    for (let i = 0; i <= count; ++i) {\n      // This doesn't really matter, we redraw later anyway:\n      points.push(\n        geometry.add({\n          from: {x: 0, y: 0, color},\n          to: {x: i, y: i, color},\n        })\n      );\n    }\n\n    scene.appendChild(geometry);\n    redraw();\n\n    return {redraw, dispose};\n\n    function dispose() {\n      scene.removeChild(geometry)\n    }\n\n    function redraw() {\n      let r = camera.getRadius() * 0.025\n\n      for (let i = 0; i <= count + 1; ++i) {\n        let alpha = i/count * 2 * Math.PI;\n        if (i === 0) {\n          prevPoint = {\n            x: r * Math.cos(alpha),\n            y: r * Math.sin(alpha),\n            color\n          };\n          continue;\n        }\n        let nextPoint = {\n            x: r * Math.cos(alpha),\n            y: r * Math.sin(alpha),\n            color\n        };\n\n        points[i - 1].update(prevPoint, nextPoint);\n        prevPoint = nextPoint;\n      }\n\n      geometry.model[12] = center[0];\n      geometry.model[13] = center[1];\n      geometry.model[14] = center[2];\n      geometry.worldTransformNeedsUpdate = true;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/input/createGuide.ts","/**\n * Maps a glsl uniform type to correponding\n */\nexport const UniformTypeToFunctionName = {\n  mat4: 'uniformMatrix4fv',\n  mat3: 'uniformMatrix3fv',\n  mat2: 'uniformMatrix2fv',\n  vec4: 'uniform4fv',\n  vec3: 'uniform3fv',\n  vec2: 'uniform2fv',\n  float: 'uniform1f'\n}\n\n/**\n * Defines a single uniform attribute in the GLSL shader\n */\nexport default class ActiveUniform {\n  /**\n   * Name of the uniform\n   */\n  name: string;\n\n  /**\n   * Name of the function that sets uniform value on `gl`. E.g. `uniformMatrix4fv`\n   */\n  functionName: string;\n\n  /**\n   * Name of the variable that holds uniform location.\n   */\n  location: string;\n\n  constructor(name: string, variableType: string) {\n    let functionName = UniformTypeToFunctionName[variableType];\n\n    if (!functionName)\n      throw new Error('Function name for uniform is required');\n    this.name = name;\n    this.functionName = functionName;\n    this.location = `${this.name}UniformLocation`;\n  }\n\n  getInitBlockForDraw() {\n    return `let ${this.location} = gl.getUniformLocation(program, '${this.name}');`;\n  }\n\n  getDraw() {\n    if (this.functionName.indexOf('Matrix') > -1) {\n      return `gl.${this.functionName}(${this.location}, false, uniforms.${this.name});`;\n    }\n    else {\n      return `gl.${this.functionName}(${this.location}, uniforms.${this.name});`;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/ActiveUniform.ts","/**\n * Describes a single texture in the glsl program.\n * \n * Note: this class is very limited at the moment and has strong assumptions about texture format and source\n * It will grow based on client needs.\n */\nexport default class ActiveTexture {\n  /**\n   * Name of the texture sample in the glsl code\n   */\n  name: string;\n\n  /**\n   * Texture unit number. External code is supposed to give it, and increment\n   * with every new texture bound to program.\n   */\n  offset: number;\n\n  /**\n   * Name of the variable that references WebGLTexture object in the compiled javascript code\n   */\n  variableName: string;\n\n  /**\n   * Name of the variable that indicates readiness of the texture. Texture becomes ready when\n   * someone calls texture init block (which ultimately uses `texImage2D`)\n   */\n  ready: string;\n\n  /**\n   * Name of the variable that points to uniform location associated with the texture.\n   */\n  location: string;\n\n  /**\n   * Always set to true. Used by external code to check the nature of the uniform variable.\n   */\n  isTexture: boolean;\n\n  constructor(name: string, offset = 0) {\n    this.name = name;\n    this.offset = offset;\n    this.variableName = `${name}Texture`;\n    this.ready = `${this.variableName}Ready`;\n\n    this.location = `${this.name}UniformLocation`;\n    this.isTexture = true;\n  }\n\n  getInitBlockForDraw() {\n    return `\n  let ${this.location} = gl.getUniformLocation(program, '${this.name}');\n  let ${this.variableName} = gl.createTexture();\n  let ${this.ready} = false;\n`\n  }\n\n  getTextureInitCanvasBlock() {\n    return `\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n  gl.bindTexture(gl.TEXTURE_2D, ${this.variableName});\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  ${this.ready} = true`\n  }\n\n  getDraw() {\n    return `\n    gl.activeTexture(gl.TEXTURE${this.offset});\n    gl.bindTexture(gl.TEXTURE_2D, ${this.variableName});\n    gl.uniform1i(${this.location}, ${this.offset});\n`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/ActiveTexture.ts","/**\n * Base class for attribute code generators. Attribute code generators are responsible\n * for mapping glsl attributes to javascript buffers and states.\n * \n * For example, imagine your glsl has the following attribute:\n * \n * ``` glsl\n * attribute vec2 point;\n * ```\n * \n * We generate a code that allows javascript clients add vertex to collection:\n * \n * ``` js\n * program.add({\n *   point: [1, 4]\n * })\n * ```\n * \n * And render it:\n * \n * ``` js\n * program.draw()\n * ```\n * \n * Code generator from glsl type to javascript starts in BaseAttribute:\n */\nexport default class BaseAttribute {\n  /**\n   * type of the attribute that is used in `gl.vertexAttribPointer()`.\n   */\n  type: string;\n\n  /**\n   * If true - more checks are performed\n   */\n  debug: boolean\n\n  /**\n   * Type of the buffer view. Used for setting values\n   */\n  bufferViewType: string\n\n  /**\n   * Number of components per vertex attribute, used in `gl.vertexAttribPointer()`\n   */\n  count: number;\n\n  /**\n   * attribute name in glsl. Has to be set before calling any instance methods.\n   */\n  name?: string\n\n  /**\n   * How many bytes each component takes? Most of the type it should be just 4.\n   */\n  bytePerElement: number;\n\n  constructor() {\n    this.type = 'gl.FLOAT';\n    this.debug = false;\n    this.bufferViewType = 'Float32Array';\n    this.count = 1;\n    this.name = undefined;\n    this.bytePerElement = 4;\n  }\n\n  setName(name) {\n    this.name = name;\n  }\n\n  getInitBlockForBuffer(includeDeclaration) {\n    this.ensureNameIsSet();\n    let prefix = includeDeclaration ? 'let ' : '';\n    return `${prefix}${this.name}Array = new ${this.bufferViewType}(buffer);`;\n  }\n\n  getInitBlockForDraw() {\n    this.ensureNameIsSet();\n\n    let { name } = this;\n    return `let ${name}AttributeLocation = gl.getAttribLocation(program, '${name}');`;\n  }\n\n  /**\n   * \"Add block\" returns code that adds attribute values to the shared buffer.\n   */\n  getAddBlock(offset: number): AddBlock {\n    throw new Error('Concrete types have to implement this');\n  }\n\n  /**\n   * \"Get block\" returns code that reconstructs attribute's values from the shared buffer\n   */\n  getGetBlock(offset: number): string {\n    throw new Error('Concrete types have to implement this');\n  }\n\n  getDivisor(divisor: 0|1) {\n    this.ensureNameIsSet();\n    let location = `${this.name}AttributeLocation`;\n    return `if (${location} > -1) gle.vertexAttribDivisorANGLE(${location}, ${divisor});`;\n  }\n\n  getDraw(stride, offset) {\n    this.ensureNameIsSet();\n    let location = `${this.name}AttributeLocation`;\n\n    return `\n    gl.enableVertexAttribArray(${location});\n    gl.vertexAttribPointer(${location}, ${this.count}, ${this.type}, false, ${stride}, ${offset});`;\n  }\n\n  ensureNameIsSet() {\n    if (!this.name) {\n      throw new Error('You have to call setName() before using attributes');\n    }\n  }\n}\n\nexport type AddBlock = {\n  code: string,\n  offset: number\n}\n\n\n// WEBPACK FOOTER //\n// ../src/gl/BaseAttribute.ts","import BaseAttribute from './BaseAttribute';\n\nexport default class FloatAttribute extends BaseAttribute {\n  constructor(count: number) {\n    super();\n    this.count = count;\n  }\n\n  getAddBlock(offset: number, lineJoin = '\\n') {\n    let name = this.name!;\n    let variableName = `${name}Array`;\n    let code: string[] = [];\n    if (this.debug) {\n      code.push(`if (item.${name} === undefined) throw new Error('Attribute \"${name}\" is missing');\\n`);\n    }\n    for (let i = 0; i < this.count; ++i) {\n      let read = `item.${name}[${i}]`;\n      if (this.debug) {\n        code.push(`if (${read} === undefined) throw new Error('Attribute \"${name}\" is missing value at index ${i}');\\n`);\n      }\n      code.push(`${variableName}[index + ${offset + i}] = ${read};`);\n    }\n    return {\n      code: code.join(lineJoin),\n      offset: offset + this.count,\n    };\n  }\n\n  getGetBlock(offset: number) {\n    let variableName = `${this.name}Array`;\n    let code: string[] = [];\n    for (let i = 0; i < this.count; ++i) {\n      code.push(`${variableName}[index + ${offset + i}]`);\n    }\n\n    return `${this.name}: [${code.join(', ')}]`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/FloatAttribute.ts","import BaseAttribute from './BaseAttribute';\n\nexport default class NumberAttribute extends BaseAttribute {\n  getAddBlock(offset: number) {\n    let name = this.name;\n    let variableName = `${name}Array`;\n    let code = '';\n    if (this.debug) {\n      code = `if (item.${name} === undefined) throw new Error('Attribute \"${name}\" is missing');`;\n    }\n\n    code += `${variableName}[index + ${offset}] = item.${name};`;\n    return {\n      code,\n      offset: offset + this.count,\n    };\n  }\n\n  getGetBlock(offset: number) {\n    return `${this.name}: ${this.name}Array[index + ${offset}]`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/NumberAttribute.ts","\nimport FloatAttribute from './FloatAttribute';\nimport NumberAttribute from './NumberAttribute';\n\n/**\n * Maps a glsl attribute type to corresponding Attribute class.\n */\nexport const GLTypeToBufferType = {\n  vec4: () => new FloatAttribute(4),\n  vec3: () => new FloatAttribute(3),\n  vec2: () => new FloatAttribute(2),\n  float: () => new NumberAttribute\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/constants.ts","/**\n * Helper class that holds intermediate state of the code before it is \n * compiled to javascript.\n */\nexport default class FinalCode {\n  /**\n   * Collection of strings to be put into program API block;\n   */\n  api: string[];\n\n  /**\n   * Collection of string to be put into initialization block of the code;\n   */\n  init: string[];\n\n  /**\n   * Collection of the strings that initialize buffers.\n   */\n  bufferInit: string[];\n\n  /**\n   * Collection of strings to be put into the implementation section (after return API statement)\n   */\n  implementation: string[];\n\n  attributesDrawBlock?: string[];\n\n  constructor() {\n    this.api = [];\n    this.init = [];\n    this.implementation = [];\n\n    // Share buffer init so that multiple programs can re-use buffers.\n    this.bufferInit = [];\n  }\n\n  addToInit(block) {\n    if (block) this.init.push(block);\n  }\n  addBufferInit(block) {\n    if (block) this.bufferInit.push(block);\n  }\n\n  addToAPI(block) {\n    if (block) this.api.push(block);\n  }\n  addToImplementation(block) {\n    if (block) this.implementation.push(block);\n  }\n\n  setAttributesDrawBlock(block: string[]) {\n    this.attributesDrawBlock = block;\n  }\n\n  link() {\n    let finalBuffer: string[] = [];\n\n    this.init.forEach(addToFinalBuffer);\n\n    addToFinalBuffer(\"  return {\");\n    this.api.forEach(addToFinalBuffer);\n    addToFinalBuffer(\"  };\");\n\n    this.implementation.forEach(addToFinalBuffer);\n    return finalBuffer.join(\"\\n\");\n\n    function addToFinalBuffer(b: string | string[]) {\n      if (Array.isArray(b)) finalBuffer.push(b.join(\"\\n    \"));\n      else finalBuffer.push(b);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ../src/gl/FinalCode.ts","import getProgramInfo, {ProgramInfo} from \"./getProgramInfo\";\nimport ActiveTexture from \"./ActiveTexture\";\nimport BaseAttribute from \"./BaseAttribute\";\nimport InstancedAttribute from \"./InstancedAttribute\";\nimport FinalCode from \"./FinalCode\";\n\n\nexport type RenderProgram = {\n  /**\n   * This method adds a new vertex to the buffer and returns its id.\n   *\n   * The vertex is a an object, where key names match your `glsl` \n   * attribute names. For example, imagine you have this vertex shader:\n   * \n   * ``` glsl\n   * attribute vec3 point;\n   * attribute vec4 color;\n   * \n   * uniform mat4 modelViewProjection;\n   * varying vec4 vColor\n   * \n   * void main() {\n   *   gl_Position = modelViewProjection * vec4(point, 0, 1.0);\n   *   vColor = color.abgr;\n   * }\n   * ```\n   * \n   * From JavaScript side, we can add three vertices like so:\n   * \n   * ``` js\n   * program.add({color: 0xff0000ff, point: [0, 0, 0]});\n   * program.add({color: 0x00ff00ff, point: [0, 1, 0]});\n   * program.add({color: 0x0000ffff, point: [1, 1, 0]});\n   * ```\n   * \n   * notice how `color` and `point` match the attributes of the vertex shader.\n   */\n  add: (vertex: Object) => number;\n\n  /**\n   * Similar to `add()`, this method allows to update vertex values.\n   */\n  update: (vertexId: number, vertex: Object) => void;\n\n  /**\n   * Reads a vertex object from the buffer. Note: this method creates a new object\n   * so we don't recommend to use it in a hot path to avoid GC pressure.\n   * \n   * Example:\n   * \n   * ``` js\n   * let vertexId = program.add({color: 0xFF00FFFF, point: [1, 1, 1]});\n   * let vertex = program.get(vertexId); \n   * // vertex is now {color: 0xFF00FFFF, point: [1, 1, 1]}\n   */\n  get: (vertexId: number) => Object;\n\n  /**\n   * Executes WebGL draw() call with given set of uniforms and current\n   * buffer.\n   */\n  draw: (uniforms: Object) => void;\n\n  /**\n   * De-allocates WebGL resources created by this program.\n   */\n  dispose: () => void;\n\n  /**\n   * Returns a string that represent javascript code to render program\n   */\n  getCode: () => FinalCode\n\n  /**\n   * Returns a copy of the used part of the buffer.\n   * \n   * Note: actual buffer might be larger than returned copy, but we always return\n   * part of the buffer that holds vertex attributes data.\n   */\n  getBuffer: () => ArrayBuffer\n\n  /**\n   * Appends new `buffer` content to the current buffer, starting at `offset` location\n   * (offset is specified in bytes).\n   * \n   * If current buffer is not big enough to hold appended data, current buffer is\n   * extended to fulfill the request.\n   * \n   * This method is useful when you want to load persisted buffer (from `getBuffer()`)\n   */\n  appendBuffer: (buffer: Uint8Array, offset: number) => void;\n}\n\n/**\n * Allows custom shader definition\n */\nexport type ProgramDefinition = {\n  /**\n   * Source code of the vertex shader. Plain string of glsl.\n   */\n  vertex: string;\n\n  /**\n   * Source code of the fragment shader, plane string of glsl\n   */\n  fragment: string;\n\n  /**\n   * How many vertices shall we reserve when buffer is created?\n   * \n   * Subsequently when we call `.add()`, and there is not enough space\n   * in the buffer, the buffer will be doubled in size. For best performance\n   * it's best to reserve exact amount of memory upon program creation.\n   */\n  capacity: number;\n\n  /**\n   * If set to true, compiled javascript code has more checks and prints\n   * the entire source code.\n   */\n  debug: boolean;\n\n  /**\n   * Provides access to webgl rendering context. This parameter may go away\n   * in the future.\n   */\n  gl: WebGLRenderingContext;\n\n  /**\n   * Allows to create linked programs. When this is set, the new program will\n   * not manage its buffer, but rather use this one as an input to own shaders.\n   * \n   * Note: I'm not happy with this one yet, so it might change too.\n   */\n  sourceBuffer?: RenderProgram\n\n  /**\n   * Called on entrance to `draw()` method. Returns a string that needs to be inserted\n   * to `draw()`. Allows custom draw logic.\n   */\n  preDrawHook?: (x: ProgramInfo) => string;\n\n  /**\n   * Called on exit from `draw()` method. Returns a string that needs to be inserted\n   * to end of the `draw()`. Allows custom draw logic.\n   */\n  postDrawHook?: (x: ProgramInfo) => string;\n\n  /**\n   * Collection of attribute overrides. Attribute overrides allow developers to override\n   * default guessed types. For example, a glsl `attribute vec4 color;` will be translated\n   * to a `Float32Array`, with one 32bit float per color channel. That is not optimal, as the\n   * same information can be fit into a single 32bit uint value. So we can override\n   * `float32` with \n   * \n   * ``` js\n   *  attributes: {\n   *    // tells defineProgram() to use a single 32bit integer for this attribute\n   *    // instead of 4 floats.\n   *    color: wgl.ColorAttribute();\n   *  }\n   * ```\n   */\n  attributes?: {\n    [key: string]: BaseAttribute\n  }\n\n  /**\n   * Collection of instanced attributes. Each instanced attribute should come with its own buffer.\n   * Generated program then use ANGLE_instanced_arrays extension and make all draw call instanced.\n   * \n   * ``` glsl\n   *   attribute vec2 point;\n   * ```\n   * ``` js\n   *  instanced: {\n   *    // Make `point` instanced attribute, to render a quad:\n   *    point: new wgl.InstancedAttribute([0, 0, 0, 1, 1, 1, 1, 1 0, 0, 1, 0])\n   *  }\n   * ```\n   */\n  instanced?: {\n    [key: string]: InstancedAttribute\n  }\n\n  /**\n   * By default order of attributes in the javascript array buffer will match their definition order \n   * in the glsl program. It works well most of the time, however if you want to serialize buffer\n   * and then restore it, we recommend saving order of the attributes, so that it once restored it is\n   * not affected by changed glsl code.\n   * \n   * This array is just collection of attribute names, that enforces their order in the array buffer.\n   */\n  attributeLayout?: string[]\n};\n\nexport default function defineProgram(structure: ProgramDefinition) : RenderProgram {\n  let gl = structure.gl;\n\n  let programInfo = getProgramInfo(structure);\n  let glProgram = link(structure.vertex, structure.fragment);\n  let preDrawHook = structure.preDrawHook || nothing;\n  let postDrawHook = structure.postDrawHook || nothing;\n  // TODO: Sort attributes according to layout (if layout is passed);\n\n  let code = constructCode(programInfo);\n  let drawCode = code.link();\n  let programAPI = new Function(\"gl\", \"program\", drawCode)(gl, glProgram);\n\n  if (structure.debug) {\n    console.log(\"Compiled code: \");\n    console.log(drawCode);\n  }\n\n  programAPI.getCode = () => code;\n  programAPI.dispose = () => {\n    gl.deleteProgram(glProgram);\n  };\n\n  return programAPI;\n\n  function constructCode(programInfo: ProgramInfo) : FinalCode {\n    let finalCode = new FinalCode();\n\n    addCodeThatCounts(programInfo, finalCode);\n\n    if (structure.sourceBuffer) {\n      addCodeThatSetsGLBuffer(programInfo, finalCode);\n    } else {\n      addCodeThatModifiesBuffer(programInfo, finalCode);\n      addCodeThatCreatesGLBuffer(programInfo, finalCode);\n    }\n\n    addCodeThatSetsTextures(programInfo, finalCode);\n    addCodeThatDrawsBuffer(programInfo, finalCode);\n\n    return finalCode;\n  }\n\n  function addCodeThatSetsGLBuffer(programInfo, code) {\n    code.addToInit([\"let glBuffer;\", \"\"]);\n\n    code.addToAPI([\"setGLBuffer: (newBuffer) => glBuffer = newBuffer,\"]);\n  }\n\n  function addCodeThatCreatesGLBuffer(programInfo, code) {\n    code.addToInit([\n      \"let glBuffer = gl.createBuffer();\",\n      `if (!glBuffer) throw new Error('failed to create a WebGL buffer');`,\n      \"\",\n    ]);\n\n    code.addToAPI([\"getGLBuffer: () => glBuffer,\"]);\n  }\n\n  function addCodeThatSetsTextures(programInfo: ProgramInfo, code: FinalCode) {\n    let { uniforms } = programInfo;\n    let textures: ActiveTexture[] = [];\n    uniforms.forEach((uniform) => {\n      if (uniform instanceof ActiveTexture) textures.push(uniform);\n    });\n    if (!textures.length) return;\n\n    code.addToAPI(\"setTextureCanvas: setTextureCanvas,\");\n\n    let cases = textures.map((t) => {\n      return `\n      case '${t.name}': {\n        ${t.getTextureInitCanvasBlock()}\n        return;\n      }\n      `;\n    });\n\n    code.addToImplementation(`\n  function setTextureCanvas(textureName, textureCanvas) {\n    switch(textureName) {\n      ${cases.join(\"\\n      \")}\n    }\n    throw new Error('Unknown texture name: ' + textureName);\n  }\n`);\n  }\n\n  function addCodeThatDrawsBuffer(programInfo: ProgramInfo, code: FinalCode) {\n    let {\n      attributes,\n      instanced,\n      uniforms,\n      bytePerVertex,\n      itemPerVertex,\n    } = programInfo;\n\n    let sourceBufferCode = structure.sourceBuffer && structure.sourceBuffer.getCode();\n    if (sourceBufferCode) {\n      code.addToInit(sourceBufferCode.bufferInit);\n      code.addBufferInit(sourceBufferCode.bufferInit);\n    } else {\n      attributes.forEach((attribute) => {\n        let bufferInitAttribute = \"  \" + attribute.getInitBlockForDraw();\n        code.addToInit(bufferInitAttribute);\n        code.addBufferInit(bufferInitAttribute);\n      });\n    }\n\n    let textures: ActiveTexture[] = [];\n    uniforms.forEach((uniform) => {\n      code.addToInit(\"  \" + uniform.getInitBlockForDraw());\n      if (uniform instanceof ActiveTexture) textures.push(uniform);\n    });\n\n    if (instanced.length) {\n      code.addToInit(`  let gle = gl.getExtension('ANGLE_instanced_arrays');\n  if (!gle) {\n    // Not sure if this is going to be an error, given instancing is widely supported. But\n    // If you get this error please ping me so that we can find a fallback solution\n    throw new Error('Instanced collection requires instancing support. Please ping @anvaka so that we can add fallback');\n  }\n`);\n      instanced.forEach((instancedAttribute) => {\n        code.addToInit(\"  \" + instancedAttribute.getInitBlock());\n      });\n    }\n\n    let attributesDrawBlock: string[] = [];\n    if (sourceBufferCode) {\n      attributesDrawBlock = sourceBufferCode.attributesDrawBlock!;\n    } else {\n      let byteOffset = 0;\n      attributes.forEach((attribute) => {\n        attributesDrawBlock.push(attribute.getDraw(bytePerVertex, byteOffset));\n        byteOffset += attribute.count * attribute.bytePerElement;\n      });\n    }\n    code.setAttributesDrawBlock(attributesDrawBlock);\n\n    code.addToImplementation(getDrawImplementation());\n\n    code.addToAPI([\"draw: draw,\"]);\n\n    function getDrawImplementation() {\n      let uniformsDrawBlock = uniforms.map((u) => u.getDraw());\n      let instancedDrawBlock: string[] = [];\n      let setDivisorBlock: string[] = [];\n      let unsetDivisorBlock: string[] = [];\n\n      instanced.forEach((instancedAttribute) => {\n        instancedDrawBlock.push(instancedAttribute.getDraw());\n        setDivisorBlock.push(instancedAttribute.getDivisor(0));\n        unsetDivisorBlock.push(instancedAttribute.getDivisor(0));\n      });\n\n      let drawCallBlock: string[] = [];\n      if (instanced.length) {\n        attributes.forEach((attribute) => {\n          setDivisorBlock.push(attribute.getDivisor(1));\n          unsetDivisorBlock.push(attribute.getDivisor(0));\n        });\n\n        drawCallBlock.push(setDivisorBlock.join(\"\\n    \"));\n        drawCallBlock.push(\n          `gle.drawArraysInstancedANGLE(gl.TRIANGLES, 0, 6, count)`\n        );\n        drawCallBlock.push(unsetDivisorBlock.join(\"\\n    \"));\n      } else {\n        drawCallBlock.push(`gl.drawArrays(gl.TRIANGLES, 0, count)`);\n      }\n\n      return ` \n  function draw(uniforms, from, to) {\n    ${checkDrawCode()}\n    ${checkTexturesReady()}\n    ${preDrawHook(programInfo)}\n\n    gl.useProgram(program);\n    ${uniformsDrawBlock.join(\"\\n    \")}\n    ${instancedDrawBlock.join(\"\\n    \")}\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);\n    ${bufferDataIfNeeded()}\n\n    ${attributesDrawBlock.join(\"\\n    \")}\n    ${drawCallBlock.join(\"\\n    \")}\n\n    ${postDrawHook(programInfo)}\n  }`;\n\n      function bufferDataIfNeeded() {\n        if (structure.sourceBuffer) return \"\";\n\n        return `  if (isDirty) {\n          gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.DYNAMIC_DRAW);\n          isDirty = false;\n        }`;\n      }\n\n      function checkDrawCode() {\n        return \"if (count === 0) return;\";\n      }\n\n      function checkTexturesReady() {\n        if (textures.length === 0) return \"\";\n        return textures\n          .map((texture) => {\n            return `if (!${texture.ready}) return;`;\n          })\n          .join(\"\\n    \");\n      }\n    }\n  }\n\n  function addCodeThatCounts(programInfo, code) {\n    code.addToInit([\"  let count = 0;\"]);\n    code.addToAPI([\n      \"setCount: (newCount) => count = newCount,\",\n      \"getCount: () => count,\",\n    ]);\n  }\n\n  function addCodeThatModifiesBuffer(programInfo, code) {\n    let { attributes, bytePerVertex, itemPerVertex } = programInfo;\n\n    code.addToInit([\n      `let bytePerVertex = ${bytePerVertex};`,\n      `let itemPerVertex = ${itemPerVertex};`,\n      `let capacity = ${(structure.capacity || 1) * bytePerVertex};`,\n      \"let buffer = new ArrayBuffer(capacity);\",\n      \"\",\n      \"let isDirty = true;\",\n      \"let dirtyOffset = 0;\",\n    ]);\n\n    attributes.forEach((attribute) => {\n      code.addToInit(\n        attribute.getInitBlockForBuffer(/*includeDeclaration = */ true)\n      );\n    });\n\n    code.addToAPI([\n      \"add: add,\",\n      \"get: get,\",\n      \"update: update,\",\n      \"getBuffer: getBuffer,\",\n      \"appendBuffer: appendBuffer,\",\n    ]);\n\n    code.addToImplementation(getImplementationCode());\n\n    function getImplementationCode() {\n      let modifyBufferBlock: string[] = [];\n      let getAttributeBlock: string[] = [];\n      let extendBlock: string[] = [];\n      let addOffset = 0;\n\n      attributes.forEach(collectAttributeSpecificBlocks);\n\n      return `\n  function add(item) {\n    if (count * bytePerVertex >= capacity) {\n      extend();\n    }\n\n    let index = count * itemPerVertex;\n\n    ${modifyBufferBlock.join(\"\\n    \")}\n\n    isDirty = true;\n    return count++;\n  }\n\n  function update(index, item) {\n    ${getUpdateMethodDebugAsserts()}\n    index *= itemPerVertex;\n    ${modifyBufferBlock.join(\"\\n    \")}\n    isDirty = true;\n  }\n\n  function get(index) {\n    index *= itemPerVertex; \n    return {\n      ${getAttributeBlock.join(\",\\n      \")}\n    };\n  }\n\n  function extend() {\n    let oldBuffer = buffer;\n    capacity *= 2;\n    buffer = new ArrayBuffer(capacity);\n    // Copy old buffer to the new buffer\n    new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\n    // And re-assign views:\n    ${extendBlock.join(\"\\n    \")}\n  }\n\n  function getBuffer() {\n    return buffer.slice(0, count * bytePerVertex);\n  }\n\n  function appendBuffer(uint8Collection, byteOffset) {\n    let requiredCapacity = byteOffset + uint8Collection.byteLength;\n    if (requiredCapacity > capacity) {\n      // extend the buffer to fulfill the request:\n      let oldBuffer = buffer;\n      buffer = new ArrayBuffer(requiredCapacity);\n      new Uint8Array(buffer).set(new Uint8Array(oldBuffer));\n      capacity = requiredCapacity;\n    }\n\n    let view = new Uint8Array(buffer);\n    view.set(uint8Collection, byteOffset);\n    count = Math.floor(requiredCapacity / bytePerVertex);\n\n    ${extendBlock.join(\"\\n    \")}\n\n    isDirty = true;\n  }\n`;\n      function collectAttributeSpecificBlocks(attribute: BaseAttribute) {\n        let extendCollectionCode = attribute.getInitBlockForBuffer(\n          /* includeDeclaration = */ false\n        );\n        if (extendCollectionCode) extendBlock.push(extendCollectionCode);\n\n        // TODO: need a better name for this:\n        let addBlock = attribute.getAddBlock(addOffset);\n        modifyBufferBlock.push(addBlock.code);\n        getAttributeBlock.push(attribute.getGetBlock(addOffset));\n        // Every time we add an item to the collection we need to move index in the buffer\n        addOffset = addBlock.offset;\n      }\n    }\n  }\n\n  function getUpdateMethodDebugAsserts() {\n    if (!structure.debug) return '';\n    return `\n    if (!Number.isFinite(index)) throw new Error('update() requires integer value for \"index\", got: ' + index);\n    if (index < 0 || index >= count) throw new Error('update(' + index + ') is outside of [0..' + count + ') range');\n`;\n  }\n\n  function link(vertexSource: string, fragmentSource: string) {\n    const vertex = compileShader(gl.VERTEX_SHADER, vertexSource);\n    const fragment = compileShader(gl.FRAGMENT_SHADER, fragmentSource);\n    const program = gl.createProgram();\n    if (!program) throw new Error('Failed to link a program');\n\n    gl.attachShader(program, vertex);\n    gl.attachShader(program, fragment);\n\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      throw new Error(\n        gl.getProgramInfoLog(program) || 'Failed to link a program'\n      );\n    }\n\n    return program;\n  }\n\n  function compileShader(type, shaderSource) {\n    const shader = gl.createShader(type);\n    if (!shader) {\n      throw new Error(\"Failed to create a shared \" + shaderSource);\n    }\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      console.error(gl.getShaderInfoLog(shader));\n      throw new Error(\n        gl.getShaderInfoLog(shader) ||\n          \"Failed to compile shader \" + shaderSource\n      );\n    }\n\n    return shader;\n  }\n}\n\nfunction nothing() {\n  return \"\";\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/defineProgram.ts","import ActiveUniform from './ActiveUniform';\nimport ActiveTexture from './ActiveTexture';\nimport { GLTypeToBufferType } from './constants';\nimport BaseAttribute from './BaseAttribute';\nimport InstancedAttribute from './InstancedAttribute';\nimport {ProgramDefinition} from './defineProgram';\n\nexport type ProgramInfo = {\n    bytePerVertex: number;\n    itemPerVertex: number;\n    attributes: BaseAttribute[];\n    instanced: InstancedAttribute[];\n    uniforms: (ActiveTexture | ActiveUniform)[];\n}\n\nexport default function getProgramInfo(programDefinition: ProgramDefinition): ProgramInfo {\n  let attributes: BaseAttribute[] = [];\n  let instancedAttributes: InstancedAttribute[] = [];\n\n  let parsedProgram = parseProgram(programDefinition.vertex, programDefinition.fragment);\n\n  parsedProgram.attributes.forEach(attribute => {\n    const { name, type } = attribute;\n    let typeDef = programDefinition.attributes && programDefinition.attributes[name];\n    if (!typeDef && typeof GLTypeToBufferType[type] === 'function') {\n      typeDef = GLTypeToBufferType[type]();\n    }\n    if (!typeDef) {\n      console.error(`Unknown type ${type} for ${name}`);\n      throw new Error(`Unknown type ${type} for ${name}`);\n    }\n    typeDef.debug = programDefinition && programDefinition.debug;\n    typeDef.setName(name);\n\n    let instancedAttribute = programDefinition.instanced && programDefinition.instanced[name];\n    if (instancedAttribute) {\n      instancedAttribute.setTypeDefinition(typeDef);\n      instancedAttributes.push(instancedAttribute)\n    } else {\n      attributes.push(typeDef);\n    }\n  });\n\n  let uniforms: (ActiveTexture | ActiveUniform)[] = [];\n  let textureCount = 0;\n  parsedProgram.uniforms.forEach(uniform => {\n    const name = uniform.name;\n    if (uniform.type === 'sampler2D') {\n      uniforms.push(new ActiveTexture(name, textureCount++));\n    } else {\n      uniforms.push(new ActiveUniform(name, uniform.type));\n    }\n  });\n\n  let bytePerVertex = 0;\n  let itemPerVertex = 0;\n\n  attributes.forEach(attribute => {\n    itemPerVertex += attribute.count;\n    bytePerVertex += attribute.count * attribute.bytePerElement;\n  });\n\n  if (programDefinition.attributeLayout) {\n    let order = new Map()\n    programDefinition.attributeLayout.forEach((item, index) => order.set(item, index));\n    attributes.sort((a, b) => order.get(a.name) - order.get(b.name));\n  }\n\n  return {\n    bytePerVertex,\n    itemPerVertex,\n    attributes,\n    instanced: instancedAttributes,\n    uniforms,\n  };\n}\n\nfunction parseProgram(vertex: string, fragment: string) {\n  // TODO: this wouldn't work for multiline attribute definitions\n  let attribute = /attribute\\s+(.+);/\n  let uniform = /uniform\\s+(.+);/\n  let attributes: {type: string, name: string}[] = [];\n  let uniforms:{type: string, name: string}[] = [];\n\n  vertex.split('\\n').forEach(line => {\n    let attributeMatch = line.match(attribute)\n    if (attributeMatch) {\n      appendVariables(attributeMatch[1], attributes);\n      return;\n    }\n\n    let uniformMatch = line.match(uniform);\n    if (uniformMatch) {\n      appendVariables(uniformMatch[1], uniforms)\n      return;\n    }\n  });\n\n  // fragment can have only uniforms\n  fragment.split('\\n').forEach(line => {\n    let uniformMatch = line.match(uniform);\n    if (uniformMatch) appendVariables(uniformMatch[1], uniforms)\n  });\n\n\n  return { attributes, uniforms }\n\n  function appendVariables(variableDefinition, collection) {\n    let parts = variableDefinition.replace(/,/g, ' ').split(' ').filter(x => x);\n    let type = parts[0];\n    for (let i = 1; i < parts.length; ++i) {\n      let name = parts[i];\n      if (!collection.find(x => x.name === name)) collection.push({ type, name });\n    }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/getProgramInfo.ts","import BaseAttribute from './BaseAttribute';\n\nexport default class ColorAttribute extends BaseAttribute {\n  constructor() {\n    super();\n\n    this.type = 'gl.UNSIGNED_BYTE';\n    this.bufferViewType = 'Uint32Array';\n  }\n\n  getAddBlock(offset: number) {\n    let variableName = `${this.name}Array`;\n    let code = '';\n    if (this.debug) {\n      code = `if (item.${this.name} === undefined) throw new Error('Attribute \"${this.name}\" is missing');\\n`;\n    }\n\n    code += `${variableName}[index + ${offset}] = item.${this.name};`;\n    return {\n      code,\n      offset: offset + this.count,\n    };\n  }\n\n  getGetBlock(offset: number) {\n    return `${this.name}: ${this.name}Array[index + ${offset}]`;\n  }\n\n  getDraw(stride: number, offset: number) {\n    let location = `${this.name}AttributeLocation`;\n    return `\n    if (${location} > -1) {\n      gl.enableVertexAttribArray(${location});\n      gl.vertexAttribPointer(${location}, 4, ${this.type}, true, ${stride}, ${offset});\n    }`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/ColorAttribute.ts","import BaseAttribute from \"./BaseAttribute\";\n\nexport default class InstancedAttribute {\n  bufferValues: number[];\n  typeDef?: BaseAttribute;\n\n  constructor(bufferValues: number[]) {\n    this.bufferValues = bufferValues;\n    this.typeDef = undefined;\n  }\n\n  setTypeDefinition(typeDef: BaseAttribute) {\n    this.typeDef = typeDef;\n  }\n\n  getInitBlock() {\n    let {name} = this.typeDef!;\n    return `\n  const ${name}InstancedBuffer = gl.createBuffer();\n  if (!${name}InstancedBuffer) throw new Error('failed to create a WebGL buffer');\n  const ${name}InstancedBufferValues = new Float32Array([${this.bufferValues.join(',')}]);\n  let ${name}AttributeLocation = gl.getAttribLocation(program, '${name}');\n`;\n  }\n\n  getDivisor(divisor: 0|1) {\n    return this.typeDef!.getDivisor(divisor);\n  }\n\n  getDraw() {\n    let {typeDef} = this;\n    let name = typeDef!.name;\n    return `\n  gl.bindBuffer(gl.ARRAY_BUFFER, ${name}InstancedBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, ${name}InstancedBufferValues, gl.STATIC_DRAW);\n\n  gl.enableVertexAttribArray(${name}AttributeLocation);\n  gl.vertexAttribPointer(${name}AttributeLocation, ${typeDef!.count}, gl.FLOAT, false, 0, 0);\n`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/gl/InstancedAttribute.ts","import Element from '../Element';\nimport {RenderProgram} from 'src/gl/defineProgram';\nimport { DrawContext } from 'src/createScene';\n\nexport default class GLCollection extends Element {\n  uniforms?: Object;\n  program: RenderProgram;\n\n  constructor(program: RenderProgram) {\n    super();\n    this.program = program;\n    this.uniforms = undefined;\n  }\n\n  getBuffer() {\n    return this.program.getBuffer();\n  }\n\n  appendBuffer(uint8Collection: Uint8Array, offset: number) {\n    this.program.appendBuffer(uint8Collection, offset);\n    if (this.scene) this.scene.renderFrame();\n  }\n\n  add(vertex: Object) {\n    return this.program.add(vertex);\n  }\n\n  update(id: number, point: Object) {\n    this.program.update(id, point);\n  }\n\n  get(id: number) {\n    return this.program.get(id);\n  }\n\n  draw(gl: WebGLRenderingContext, drawContext: DrawContext) {\n    if (!this.uniforms) {\n      this.uniforms = {\n        projectionMatrix: drawContext.projection,\n        model: this.worldModel,\n        view: drawContext.view.matrix,\n        modelViewProjection: this.modelViewProjection\n      };\n    }\n    this.program.draw(this.uniforms);\n  }\n\n  dispose() {\n    super.dispose();\n    if (this.program) {\n      this.program.dispose();\n      // this.program = null; Should I do this?\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../src/GLCollection/GLCollection.ts","/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n/* global define, Uint8Array, ArrayBuffer, module */\n\n;(function(window) {\n  'use strict'\n\n  var CanvasPrototype =\n    window.HTMLCanvasElement && window.HTMLCanvasElement.prototype\n  var hasBlobConstructor =\n    window.Blob &&\n    (function() {\n      try {\n        return Boolean(new Blob())\n      } catch (e) {\n        return false\n      }\n    })()\n  var hasArrayBufferViewSupport =\n    hasBlobConstructor &&\n    window.Uint8Array &&\n    (function() {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100\n      } catch (e) {\n        return false\n      }\n    })()\n  var BlobBuilder =\n    window.BlobBuilder ||\n    window.WebKitBlobBuilder ||\n    window.MozBlobBuilder ||\n    window.MSBlobBuilder\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/\n  var dataURLtoBlob =\n    (hasBlobConstructor || BlobBuilder) &&\n    window.atob &&\n    window.ArrayBuffer &&\n    window.Uint8Array &&\n    function(dataURI) {\n      var matches,\n        mediaType,\n        isBase64,\n        dataString,\n        byteString,\n        arrayBuffer,\n        intArray,\n        i,\n        bb\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern)\n      if (!matches) {\n        throw new Error('invalid data URI')\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2]\n        ? matches[1]\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII')\n      isBase64 = !!matches[4]\n      dataString = dataURI.slice(matches[0].length)\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString)\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString)\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length)\n      intArray = new Uint8Array(arrayBuffer)\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i)\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        })\n      }\n      bb = new BlobBuilder()\n      bb.append(arrayBuffer)\n      return bb.getBlob(mediaType)\n    }\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n    if (CanvasPrototype.mozGetAsFile) {\n      CanvasPrototype.toBlob = function(callback, type, quality) {\n        var self = this\n        setTimeout(function() {\n          if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n            callback(dataURLtoBlob(self.toDataURL(type, quality)))\n          } else {\n            callback(self.mozGetAsFile('blob', type))\n          }\n        })\n      }\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n      CanvasPrototype.toBlob = function(callback, type, quality) {\n        var self = this\n        setTimeout(function() {\n          callback(dataURLtoBlob(self.toDataURL(type, quality)))\n        })\n      }\n    }\n  }\n  if (typeof define === 'function' && define.amd) {\n    define(function() {\n      return dataURLtoBlob\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = dataURLtoBlob\n  } else {\n    window.dataURLtoBlob = dataURLtoBlob\n  }\n})(window)\n\n\n// WEBPACK FOOTER //\n// ./src/lib/canvas2BlobPolyfill.js"],"sourceRoot":""}